{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"./mockAdapter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":132},"end":{"line":3,"column":50,"index":182}}],"key":"FNMTWc5Wxrpy9tiYZYpqx/3DM3E=","exportNames":["*"],"imports":1}},{"name":"./scrydexAdapter","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":183},"end":{"line":4,"column":56,"index":239}}],"key":"CwCdOPjQFyBGDoRfLeIqcLPIfjI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createCardDataService\", {\n    enumerable: true,\n    get: function () {\n      return createCardDataService;\n    }\n  });\n  Object.defineProperty(exports, \"cardDataService\", {\n    enumerable: true,\n    get: function () {\n      return cardDataService;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _mockAdapter = require(_dependencyMap[1], \"./mockAdapter\");\n  var _scrydexAdapter = require(_dependencyMap[2], \"./scrydexAdapter\");\n  /**\n   * Card data service that delegates to a pluggable adapter.\n   *\n   * Uses functional polymorphism: pass any adapter that satisfies\n   * CardDataAdapter and the service functions remain identical.\n   */\n  var createCardDataService = adapter => {\n    var searchCards = (query, tcg, setCode) => adapter.searchCards(query, tcg, setCode);\n    var getCardDetail = externalId => adapter.getCardDetail(externalId);\n    var searchSets = (query, tcg) => adapter.searchSets(query, tcg);\n    return {\n      searchCards,\n      getCardDetail,\n      searchSets\n    };\n  };\n\n  /**\n   * Creates the appropriate adapter based on environment configuration.\n   * Uses Scrydex when API key + team ID are available, otherwise falls back to mock.\n   */\n  var resolveAdapter = () => {\n    var apiKey = _expoVirtualEnv.env.EXPO_PUBLIC_SCRYDEX_API_KEY;\n    var teamId = _expoVirtualEnv.env.EXPO_PUBLIC_SCRYDEX_TEAM_ID;\n    if (apiKey && teamId) {\n      return (0, _scrydexAdapter.createScrydexAdapter)(apiKey, teamId);\n    }\n    return (0, _mockAdapter.createMockAdapter)();\n  };\n\n  /**\n   * Default singleton â€” uses Scrydex if configured, otherwise mock.\n   */\n  var cardDataService = createCardDataService(resolveAdapter());\n});","lineCount":56,"map":[[7,2,12,0,"Object"],[7,8,12,0],[7,9,12,0,"defineProperty"],[7,23,12,0],[7,24,12,0,"exports"],[7,31,12,0],[8,4,12,0,"enumerable"],[8,14,12,0],[9,4,12,0,"get"],[9,7,12,0],[9,18,12,0,"get"],[9,19,12,0],[10,6,12,0],[10,13,12,0,"createCardDataService"],[10,34,12,0],[11,4,12,0],[12,2,12,0],[13,2,49,0,"Object"],[13,8,49,0],[13,9,49,0,"defineProperty"],[13,23,49,0],[13,24,49,0,"exports"],[13,31,49,0],[14,4,49,0,"enumerable"],[14,14,49,0],[15,4,49,0,"get"],[15,7,49,0],[15,18,49,0,"get"],[15,19,49,0],[16,6,49,0],[16,13,49,0,"cardDataService"],[16,28,49,0],[17,4,49,0],[18,2,49,0],[19,2,49,71],[19,6,49,71,"_expoVirtualEnv"],[19,21,49,71],[19,24,49,71,"require"],[19,31,49,71],[19,32,49,71,"_dependencyMap"],[19,46,49,71],[20,2,3,0],[20,6,3,0,"_mockAdapter"],[20,18,3,0],[20,21,3,0,"require"],[20,28,3,0],[20,29,3,0,"_dependencyMap"],[20,43,3,0],[21,2,4,0],[21,6,4,0,"_scrydexAdapter"],[21,21,4,0],[21,24,4,0,"require"],[21,31,4,0],[21,32,4,0,"_dependencyMap"],[21,46,4,0],[22,2,6,0],[23,0,7,0],[24,0,8,0],[25,0,9,0],[26,0,10,0],[27,0,11,0],[28,2,12,7],[28,6,12,13,"createCardDataService"],[28,27,12,34],[28,30,12,38,"adapter"],[28,37,12,62],[28,41,12,67],[29,4,13,2],[29,8,13,8,"searchCards"],[29,19,13,19],[29,22,13,22,"searchCards"],[29,23,14,4,"query"],[29,28,14,17],[29,30,15,4,"tcg"],[29,33,15,15],[29,35,16,4,"setCode"],[29,42,16,20],[29,47,17,34,"adapter"],[29,54,17,41],[29,55,17,42,"searchCards"],[29,66,17,53],[29,67,17,54,"query"],[29,72,17,59],[29,74,17,61,"tcg"],[29,77,17,64],[29,79,17,66,"setCode"],[29,86,17,73],[29,87,17,74],[30,4,19,2],[30,8,19,8,"getCardDetail"],[30,21,19,21],[30,24,20,4,"externalId"],[30,34,20,22],[30,38,21,35,"adapter"],[30,45,21,42],[30,46,21,43,"getCardDetail"],[30,59,21,56],[30,60,21,57,"externalId"],[30,70,21,67],[30,71,21,68],[31,4,23,2],[31,8,23,8,"searchSets"],[31,18,23,18],[31,21,23,21,"searchSets"],[31,22,24,4,"query"],[31,27,24,17],[31,29,25,4,"tcg"],[31,32,25,15],[31,37,26,27,"adapter"],[31,44,26,34],[31,45,26,35,"searchSets"],[31,55,26,45],[31,56,26,46,"query"],[31,61,26,51],[31,63,26,53,"tcg"],[31,66,26,56],[31,67,26,57],[32,4,28,2],[32,11,28,9],[33,6,28,11,"searchCards"],[33,17,28,22],[34,6,28,24,"getCardDetail"],[34,19,28,37],[35,6,28,39,"searchSets"],[36,4,28,50],[36,5,28,51],[37,2,29,0],[37,3,29,1],[39,2,31,0],[40,0,32,0],[41,0,33,0],[42,0,34,0],[43,2,35,0],[43,6,35,6,"resolveAdapter"],[43,20,35,20],[43,23,35,23,"resolveAdapter"],[43,24,35,23],[43,29,35,46],[44,4,36,2],[44,8,36,8,"apiKey"],[44,14,36,14],[44,17,36,14,"_expoVirtualEnv"],[44,32,36,14],[44,33,36,14,"env"],[44,36,36,14],[44,37,36,14,"EXPO_PUBLIC_SCRYDEX_API_KEY"],[44,64,36,56],[45,4,37,2],[45,8,37,8,"teamId"],[45,14,37,14],[45,17,37,14,"_expoVirtualEnv"],[45,32,37,14],[45,33,37,14,"env"],[45,36,37,14],[45,37,37,14,"EXPO_PUBLIC_SCRYDEX_TEAM_ID"],[45,64,37,56],[46,4,39,2],[46,8,39,6,"apiKey"],[46,14,39,12],[46,18,39,16,"teamId"],[46,24,39,22],[46,26,39,24],[47,6,40,4],[47,13,40,11],[47,17,40,11,"createScrydexAdapter"],[47,32,40,31],[47,33,40,31,"createScrydexAdapter"],[47,53,40,31],[47,55,40,32,"apiKey"],[47,61,40,38],[47,63,40,40,"teamId"],[47,69,40,46],[47,70,40,47],[48,4,41,2],[49,4,43,2],[49,11,43,9],[49,15,43,9,"createMockAdapter"],[49,27,43,26],[49,28,43,26,"createMockAdapter"],[49,45,43,26],[49,47,43,27],[49,48,43,28],[50,2,44,0],[50,3,44,1],[52,2,46,0],[53,0,47,0],[54,0,48,0],[55,2,49,7],[55,6,49,13,"cardDataService"],[55,21,49,28],[55,24,49,31,"createCardDataService"],[55,45,49,52],[55,46,49,53,"resolveAdapter"],[55,60,49,67],[55,61,49,68],[55,62,49,69],[55,63,49,70],[56,0,49,71],[56,3]],"functionMap":{"names":["<global>","createCardDataService","searchCards","getCardDetail","searchSets","resolveAdapter"],"mappings":"AAA;qCCW;sBCC;0EDI;wBEE;oEFE;qBGE;yDHG;CDG;uBKM;CLS"},"hasCjsExports":false},"type":"js/module"}]}