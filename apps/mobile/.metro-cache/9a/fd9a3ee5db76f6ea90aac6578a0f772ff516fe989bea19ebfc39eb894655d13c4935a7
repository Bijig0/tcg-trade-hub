{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":68,"index":68}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":69},"end":{"line":2,"column":42,"index":111}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":112},"end":{"line":3,"column":49,"index":161}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":162},"end":{"line":4,"column":49,"index":211}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _contextAuthProvider = require(_dependencyMap[3], \"@/context/AuthProvider\");\n  var _queryKeys = require(_dependencyMap[4], \"../../queryKeys\");\n  /** Adds a sealed product to the current user's collection */\n  var useAddSealedProduct = () => {\n    _s();\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    return (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _ref = (0, _asyncToGenerator.default)(function* (item) {\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('collection_items').upsert({\n              user_id: user.id,\n              ...item,\n              is_sealed: true\n            }, {\n              onConflict: 'user_id,external_id,condition,is_wishlist'\n            }).select().single(),\n            data = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          return data;\n        });\n        return function mutationFn(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      onSuccess: () => {\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.collectionKeys.mySealedProducts()\n        });\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.collectionKeys.myCollection()\n        });\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.collectionKeys.portfolioValue()\n        });\n      }\n    });\n  };\n  _s(useAddSealedProduct, \"dnbh6EEK3obsACI89MEmdRnG9p0=\", false, function () {\n    return [_contextAuthProvider.useAuth, _tanstackReactQuery.useQueryClient, _tanstackReactQuery.useMutation];\n  });\n  var _default = useAddSealedProduct;\n});","lineCount":67,"map":[[13,2,38,0,"Object"],[13,8,38,0],[13,9,38,0,"defineProperty"],[13,23,38,0],[13,24,38,0,"exports"],[13,31,38,0],[14,4,38,0,"enumerable"],[14,14,38,0],[15,4,38,0,"get"],[15,7,38,0],[15,18,38,0,"get"],[15,19,38,0],[16,6,38,0],[16,13,38,0,"_default"],[16,21,38,0],[17,4,38,0],[18,2,38,0],[19,2,38,35],[19,6,38,35,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,38,35],[19,45,38,35,"require"],[19,52,38,35],[19,53,38,35,"_dependencyMap"],[19,67,38,35],[20,2,38,35],[20,6,38,35,"_asyncToGenerator"],[20,23,38,35],[20,26,38,35,"_interopDefault"],[20,41,38,35],[20,42,38,35,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,38,35],[21,2,1,0],[21,6,1,0,"_tanstackReactQuery"],[21,25,1,0],[21,28,1,0,"require"],[21,35,1,0],[21,36,1,0,"_dependencyMap"],[21,50,1,0],[22,2,2,0],[22,6,2,0,"_libSupabase"],[22,18,2,0],[22,21,2,0,"require"],[22,28,2,0],[22,29,2,0,"_dependencyMap"],[22,43,2,0],[23,2,3,0],[23,6,3,0,"_contextAuthProvider"],[23,26,3,0],[23,29,3,0,"require"],[23,36,3,0],[23,37,3,0,"_dependencyMap"],[23,51,3,0],[24,2,4,0],[24,6,4,0,"_queryKeys"],[24,16,4,0],[24,19,4,0,"require"],[24,26,4,0],[24,27,4,0,"_dependencyMap"],[24,41,4,0],[25,2,7,0],[26,2,8,0],[26,6,8,6,"useAddSealedProduct"],[26,25,8,25],[26,28,8,28,"useAddSealedProduct"],[26,29,8,28],[26,34,8,34],[27,4,8,34,"_s"],[27,6,8,34],[28,4,9,2],[28,8,9,2,"_useAuth"],[28,16,9,2],[28,19,9,19],[28,23,9,19,"useAuth"],[28,43,9,26],[28,44,9,26,"useAuth"],[28,51,9,26],[28,53,9,27],[28,54,9,28],[29,6,9,10,"user"],[29,10,9,14],[29,13,9,14,"_useAuth"],[29,21,9,14],[29,22,9,10,"user"],[29,26,9,14],[30,4,10,2],[30,8,10,8,"queryClient"],[30,19,10,19],[30,22,10,22],[30,26,10,22,"useQueryClient"],[30,45,10,36],[30,46,10,36,"useQueryClient"],[30,60,10,36],[30,62,10,37],[30,63,10,38],[31,4,12,2],[31,11,12,9],[31,15,12,9,"useMutation"],[31,34,12,20],[31,35,12,20,"useMutation"],[31,46,12,20],[31,48,12,21],[32,6,13,4,"mutationFn"],[32,16,13,14],[33,8,13,14],[33,12,13,14,"_ref"],[33,16,13,14],[33,23,13,14,"_asyncToGenerator"],[33,40,13,14],[33,41,13,14,"default"],[33,48,13,14],[33,50,13,16],[33,61,13,23,"item"],[33,65,13,65],[33,67,13,70],[34,10,14,6],[34,14,14,6,"_yield$supabase$from$"],[34,35,14,6],[34,44,14,36,"supabase"],[34,56,14,44],[34,57,14,44,"supabase"],[34,65,14,44],[34,66,15,9,"from"],[34,70,15,13],[34,71,15,14],[34,89,15,32],[34,90,15,33],[34,91,16,9,"upsert"],[34,97,16,15],[34,98,17,10],[35,14,18,12,"user_id"],[35,21,18,19],[35,23,18,21,"user"],[35,27,18,25],[35,28,18,27,"id"],[35,30,18,29],[36,14,19,12],[36,17,19,15,"item"],[36,21,19,19],[37,14,20,12,"is_sealed"],[37,23,20,21],[37,25,20,23],[38,12,21,10],[38,13,21,11],[38,15,22,10],[39,14,22,12,"onConflict"],[39,24,22,22],[39,26,22,24],[40,12,22,68],[40,13,23,8],[40,14,23,9],[40,15,24,9,"select"],[40,21,24,15],[40,22,24,16],[40,23,24,17],[40,24,25,9,"single"],[40,30,25,15],[40,31,25,16],[40,32,25,17],[41,12,14,14,"data"],[41,16,14,18],[41,19,14,18,"_yield$supabase$from$"],[41,40,14,18],[41,41,14,14,"data"],[41,45,14,18],[42,12,14,20,"error"],[42,17,14,25],[42,20,14,25,"_yield$supabase$from$"],[42,41,14,25],[42,42,14,20,"error"],[42,47,14,25],[43,10,27,6],[43,14,27,10,"error"],[43,19,27,15],[43,21,27,17],[43,27,27,23,"error"],[43,32,27,28],[44,10,28,6],[44,17,28,13,"data"],[44,21,28,17],[45,8,29,4],[45,9,29,5],[46,8,29,5],[46,24,13,4,"mutationFn"],[46,34,13,14,"mutationFn"],[46,35,13,14,"_x"],[46,37,13,14],[47,10,13,14],[47,17,13,14,"_ref"],[47,21,13,14],[47,22,13,14,"apply"],[47,27,13,14],[47,34,13,14,"arguments"],[47,43,13,14],[48,8,13,14],[49,6,13,14],[49,9,29,5],[50,6,30,4,"onSuccess"],[50,15,30,13],[50,17,30,15,"onSuccess"],[50,18,30,15],[50,23,30,21],[51,8,31,6,"queryClient"],[51,19,31,17],[51,20,31,18,"invalidateQueries"],[51,37,31,35],[51,38,31,36],[52,10,31,38,"queryKey"],[52,18,31,46],[52,20,31,48,"collectionKeys"],[52,30,31,62],[52,31,31,62,"collectionKeys"],[52,45,31,62],[52,46,31,63,"mySealedProducts"],[52,62,31,79],[52,63,31,80],[53,8,31,82],[53,9,31,83],[53,10,31,84],[54,8,32,6,"queryClient"],[54,19,32,17],[54,20,32,18,"invalidateQueries"],[54,37,32,35],[54,38,32,36],[55,10,32,38,"queryKey"],[55,18,32,46],[55,20,32,48,"collectionKeys"],[55,30,32,62],[55,31,32,62,"collectionKeys"],[55,45,32,62],[55,46,32,63,"myCollection"],[55,58,32,75],[55,59,32,76],[56,8,32,78],[56,9,32,79],[56,10,32,80],[57,8,33,6,"queryClient"],[57,19,33,17],[57,20,33,18,"invalidateQueries"],[57,37,33,35],[57,38,33,36],[58,10,33,38,"queryKey"],[58,18,33,46],[58,20,33,48,"collectionKeys"],[58,30,33,62],[58,31,33,62,"collectionKeys"],[58,45,33,62],[58,46,33,63,"portfolioValue"],[58,60,33,77],[58,61,33,78],[59,8,33,80],[59,9,33,81],[59,10,33,82],[60,6,34,4],[61,4,35,2],[61,5,35,3],[61,6,35,4],[62,2,36,0],[62,3,36,1],[63,2,36,2,"_s"],[63,4,36,2],[63,5,8,6,"useAddSealedProduct"],[63,24,8,25],[64,4,8,25],[64,12,9,19,"useAuth"],[64,32,9,26],[64,33,9,26,"useAuth"],[64,40,9,26],[64,42,10,22,"useQueryClient"],[64,61,10,36],[64,62,10,36,"useQueryClient"],[64,76,10,36],[64,78,12,9,"useMutation"],[64,97,12,20],[64,98,12,20,"useMutation"],[64,109,12,20],[65,2,12,20],[66,2,38,0],[66,6,38,0,"_default"],[66,14,38,0],[66,17,38,15,"useAddSealedProduct"],[66,36,38,34],[67,0,38,35],[67,3]],"functionMap":{"names":["<global>","useAddSealedProduct","useMutation$argument_0.mutationFn","useMutation$argument_0.onSuccess"],"mappings":"AAA;4BCO;gBCK;KDgB;eEC;KFI;CDE"},"hasCjsExports":false},"type":"js/module"}]}