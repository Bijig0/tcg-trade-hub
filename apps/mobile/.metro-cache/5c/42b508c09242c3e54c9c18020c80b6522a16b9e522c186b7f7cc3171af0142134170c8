{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":68,"index":68}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":69},"end":{"line":2,"column":42,"index":111}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":112},"end":{"line":3,"column":49,"index":161}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":162},"end":{"line":4,"column":49,"index":211}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _contextAuthProvider = require(_dependencyMap[3], \"@/context/AuthProvider\");\n  var _queryKeys = require(_dependencyMap[4], \"../../queryKeys\");\n  /**\n   * Hook that provides mutations for updating collection item visibility.\n   *\n   * - `toggleItem`: Updates a single item's `is_tradeable` status\n   * - `setAll`: Bulk updates all of the user's collection items\n   */\n  var useUpdateCollectionVisibility = function useUpdateCollectionVisibility() {\n    _s();\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    var toggleItem = (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _mutationFn = (0, _asyncToGenerator.default)(function* (_ref) {\n          var itemId = _ref.itemId,\n            is_tradeable = _ref.is_tradeable;\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('collection_items').update({\n              is_tradeable: is_tradeable\n            }).eq('id', itemId),\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n        });\n        function mutationFn(_x) {\n          return _mutationFn.apply(this, arguments);\n        }\n        return mutationFn;\n      }(),\n      onSuccess: function onSuccess() {\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.collectionKeys.myCollection()\n        });\n      }\n    });\n    var setAll = (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _mutationFn2 = (0, _asyncToGenerator.default)(function* (_ref2) {\n          var is_tradeable = _ref2.is_tradeable;\n          if (!user) throw new Error('Not authenticated');\n          var _yield$supabase$from$2 = yield _libSupabase.supabase.from('collection_items').update({\n              is_tradeable: is_tradeable\n            }).eq('user_id', user.id).eq('is_wishlist', false),\n            error = _yield$supabase$from$2.error;\n          if (error) throw error;\n        });\n        function mutationFn(_x2) {\n          return _mutationFn2.apply(this, arguments);\n        }\n        return mutationFn;\n      }(),\n      onSuccess: function onSuccess() {\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.collectionKeys.myCollection()\n        });\n      }\n    });\n    return {\n      toggleItem: toggleItem,\n      setAll: setAll\n    };\n  };\n  _s(useUpdateCollectionVisibility, \"gEtxqKwdyJl1oJEWIXZudE/YSus=\", false, function () {\n    return [_tanstackReactQuery.useQueryClient, _contextAuthProvider.useAuth, _tanstackReactQuery.useMutation, _tanstackReactQuery.useMutation];\n  });\n  var _default = useUpdateCollectionVisibility;\n});","lineCount":89,"map":[[13,2,59,0,"Object"],[13,8,59,0],[13,9,59,0,"defineProperty"],[13,23,59,0],[13,24,59,0,"exports"],[13,31,59,0],[14,4,59,0,"enumerable"],[14,14,59,0],[15,4,59,0,"get"],[15,7,59,0],[15,18,59,0,"get"],[15,19,59,0],[16,6,59,0],[16,13,59,0,"_default"],[16,21,59,0],[17,4,59,0],[18,2,59,0],[19,2,59,45],[19,6,59,45,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,59,45],[19,45,59,45,"require"],[19,52,59,45],[19,53,59,45,"_dependencyMap"],[19,67,59,45],[20,2,59,45],[20,6,59,45,"_asyncToGenerator"],[20,23,59,45],[20,26,59,45,"_interopDefault"],[20,41,59,45],[20,42,59,45,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,59,45],[21,2,1,0],[21,6,1,0,"_tanstackReactQuery"],[21,25,1,0],[21,28,1,0,"require"],[21,35,1,0],[21,36,1,0,"_dependencyMap"],[21,50,1,0],[22,2,2,0],[22,6,2,0,"_libSupabase"],[22,18,2,0],[22,21,2,0,"require"],[22,28,2,0],[22,29,2,0,"_dependencyMap"],[22,43,2,0],[23,2,3,0],[23,6,3,0,"_contextAuthProvider"],[23,26,3,0],[23,29,3,0,"require"],[23,36,3,0],[23,37,3,0,"_dependencyMap"],[23,51,3,0],[24,2,4,0],[24,6,4,0,"_queryKeys"],[24,16,4,0],[24,19,4,0,"require"],[24,26,4,0],[24,27,4,0,"_dependencyMap"],[24,41,4,0],[25,2,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,0,19,0],[30,0,20,0],[31,2,21,0],[31,6,21,6,"useUpdateCollectionVisibility"],[31,35,21,35],[31,38,21,38],[31,47,21,6,"useUpdateCollectionVisibility"],[31,76,21,35,"useUpdateCollectionVisibility"],[31,77,21,35],[31,79,21,44],[32,4,21,44,"_s"],[32,6,21,44],[33,4,22,2],[33,8,22,8,"queryClient"],[33,19,22,19],[33,22,22,22],[33,26,22,22,"useQueryClient"],[33,45,22,36],[33,46,22,36,"useQueryClient"],[33,60,22,36],[33,62,22,37],[33,63,22,38],[34,4,23,2],[34,8,23,2,"_useAuth"],[34,16,23,2],[34,19,23,19],[34,23,23,19,"useAuth"],[34,43,23,26],[34,44,23,26,"useAuth"],[34,51,23,26],[34,53,23,27],[34,54,23,28],[35,6,23,10,"user"],[35,10,23,14],[35,13,23,14,"_useAuth"],[35,21,23,14],[35,22,23,10,"user"],[35,26,23,14],[36,4,25,2],[36,8,25,8,"toggleItem"],[36,18,25,18],[36,21,25,21],[36,25,25,21,"useMutation"],[36,44,25,32],[36,45,25,32,"useMutation"],[36,56,25,32],[36,58,25,63],[37,6,26,4,"mutationFn"],[37,16,26,14],[38,8,26,14],[38,12,26,14,"_mutationFn"],[38,23,26,14],[38,30,26,14,"_asyncToGenerator"],[38,47,26,14],[38,48,26,14,"default"],[38,55,26,14],[38,57,26,16],[38,68,26,16,"_ref"],[38,72,26,16],[38,74,26,52],[39,10,26,52],[39,14,26,25,"itemId"],[39,20,26,31],[39,23,26,31,"_ref"],[39,27,26,31],[39,28,26,25,"itemId"],[39,34,26,31],[40,12,26,33,"is_tradeable"],[40,24,26,45],[40,27,26,45,"_ref"],[40,31,26,45],[40,32,26,33,"is_tradeable"],[40,44,26,45],[41,10,27,6],[41,14,27,6,"_yield$supabase$from$"],[41,35,27,6],[41,44,27,30,"supabase"],[41,56,27,38],[41,57,27,38,"supabase"],[41,65,27,38],[41,66,28,9,"from"],[41,70,28,13],[41,71,28,14],[41,89,28,32],[41,90,28,33],[41,91,29,9,"update"],[41,97,29,15],[41,98,29,16],[42,14,29,18,"is_tradeable"],[42,26,29,30],[42,28,29,18,"is_tradeable"],[43,12,29,31],[43,13,29,32],[43,14,29,33],[43,15,30,9,"eq"],[43,17,30,11],[43,18,30,12],[43,22,30,16],[43,24,30,18,"itemId"],[43,30,30,24],[43,31,30,25],[44,12,27,14,"error"],[44,17,27,19],[44,20,27,19,"_yield$supabase$from$"],[44,41,27,19],[44,42,27,14,"error"],[44,47,27,19],[45,10,32,6],[45,14,32,10,"error"],[45,19,32,15],[45,21,32,17],[45,27,32,23,"error"],[45,32,32,28],[46,8,33,4],[46,9,33,5],[47,8,33,5],[47,17,26,4,"mutationFn"],[47,27,26,14,"mutationFn"],[47,28,26,14,"_x"],[47,30,26,14],[48,10,26,14],[48,17,26,14,"_mutationFn"],[48,28,26,14],[48,29,26,14,"apply"],[48,34,26,14],[48,41,26,14,"arguments"],[48,50,26,14],[49,8,26,14],[50,8,26,14],[50,15,26,4,"mutationFn"],[50,25,26,14],[51,6,26,14],[51,9,33,5],[52,6,34,4,"onSuccess"],[52,15,34,13],[52,17,34,15],[52,26,34,4,"onSuccess"],[52,35,34,13,"onSuccess"],[52,36,34,13],[52,38,34,21],[53,8,35,6,"queryClient"],[53,19,35,17],[53,20,35,18,"invalidateQueries"],[53,37,35,35],[53,38,35,36],[54,10,35,38,"queryKey"],[54,18,35,46],[54,20,35,48,"collectionKeys"],[54,30,35,62],[54,31,35,62,"collectionKeys"],[54,45,35,62],[54,46,35,63,"myCollection"],[54,58,35,75],[54,59,35,76],[55,8,35,78],[55,9,35,79],[55,10,35,80],[56,6,36,4],[57,4,37,2],[57,5,37,3],[57,6,37,4],[58,4,39,2],[58,8,39,8,"setAll"],[58,14,39,14],[58,17,39,17],[58,21,39,17,"useMutation"],[58,40,39,28],[58,41,39,28,"useMutation"],[58,52,39,28],[58,54,39,55],[59,6,40,4,"mutationFn"],[59,16,40,14],[60,8,40,14],[60,12,40,14,"_mutationFn2"],[60,24,40,14],[60,31,40,14,"_asyncToGenerator"],[60,48,40,14],[60,49,40,14,"default"],[60,56,40,14],[60,58,40,16],[60,69,40,16,"_ref2"],[60,74,40,16],[60,76,40,44],[61,10,40,44],[61,14,40,25,"is_tradeable"],[61,26,40,37],[61,29,40,37,"_ref2"],[61,34,40,37],[61,35,40,25,"is_tradeable"],[61,47,40,37],[62,10,41,6],[62,14,41,10],[62,15,41,11,"user"],[62,19,41,15],[62,21,41,17],[62,27,41,23],[62,31,41,27,"Error"],[62,36,41,32],[62,37,41,33],[62,56,41,52],[62,57,41,53],[63,10,43,6],[63,14,43,6,"_yield$supabase$from$2"],[63,36,43,6],[63,45,43,30,"supabase"],[63,57,43,38],[63,58,43,38,"supabase"],[63,66,43,38],[63,67,44,9,"from"],[63,71,44,13],[63,72,44,14],[63,90,44,32],[63,91,44,33],[63,92,45,9,"update"],[63,98,45,15],[63,99,45,16],[64,14,45,18,"is_tradeable"],[64,26,45,30],[64,28,45,18,"is_tradeable"],[65,12,45,31],[65,13,45,32],[65,14,45,33],[65,15,46,9,"eq"],[65,17,46,11],[65,18,46,12],[65,27,46,21],[65,29,46,23,"user"],[65,33,46,27],[65,34,46,28,"id"],[65,36,46,30],[65,37,46,31],[65,38,47,9,"eq"],[65,40,47,11],[65,41,47,12],[65,54,47,25],[65,56,47,27],[65,61,47,32],[65,62,47,33],[66,12,43,14,"error"],[66,17,43,19],[66,20,43,19,"_yield$supabase$from$2"],[66,42,43,19],[66,43,43,14,"error"],[66,48,43,19],[67,10,49,6],[67,14,49,10,"error"],[67,19,49,15],[67,21,49,17],[67,27,49,23,"error"],[67,32,49,28],[68,8,50,4],[68,9,50,5],[69,8,50,5],[69,17,40,4,"mutationFn"],[69,27,40,14,"mutationFn"],[69,28,40,14,"_x2"],[69,31,40,14],[70,10,40,14],[70,17,40,14,"_mutationFn2"],[70,29,40,14],[70,30,40,14,"apply"],[70,35,40,14],[70,42,40,14,"arguments"],[70,51,40,14],[71,8,40,14],[72,8,40,14],[72,15,40,4,"mutationFn"],[72,25,40,14],[73,6,40,14],[73,9,50,5],[74,6,51,4,"onSuccess"],[74,15,51,13],[74,17,51,15],[74,26,51,4,"onSuccess"],[74,35,51,13,"onSuccess"],[74,36,51,13],[74,38,51,21],[75,8,52,6,"queryClient"],[75,19,52,17],[75,20,52,18,"invalidateQueries"],[75,37,52,35],[75,38,52,36],[76,10,52,38,"queryKey"],[76,18,52,46],[76,20,52,48,"collectionKeys"],[76,30,52,62],[76,31,52,62,"collectionKeys"],[76,45,52,62],[76,46,52,63,"myCollection"],[76,58,52,75],[76,59,52,76],[77,8,52,78],[77,9,52,79],[77,10,52,80],[78,6,53,4],[79,4,54,2],[79,5,54,3],[79,6,54,4],[80,4,56,2],[80,11,56,9],[81,6,56,11,"toggleItem"],[81,16,56,21],[81,18,56,11,"toggleItem"],[81,28,56,21],[82,6,56,23,"setAll"],[82,12,56,29],[82,14,56,23,"setAll"],[83,4,56,30],[83,5,56,31],[84,2,57,0],[84,3,57,1],[85,2,57,2,"_s"],[85,4,57,2],[85,5,21,6,"useUpdateCollectionVisibility"],[85,34,21,35],[86,4,21,35],[86,12,22,22,"useQueryClient"],[86,31,22,36],[86,32,22,36,"useQueryClient"],[86,46,22,36],[86,48,23,19,"useAuth"],[86,68,23,26],[86,69,23,26,"useAuth"],[86,76,23,26],[86,78,25,21,"useMutation"],[86,97,25,32],[86,98,25,32,"useMutation"],[86,109,25,32],[86,111,39,17,"useMutation"],[86,130,39,28],[86,131,39,28,"useMutation"],[86,142,39,28],[87,2,39,28],[88,2,59,0],[88,6,59,0,"_default"],[88,14,59,0],[88,17,59,15,"useUpdateCollectionVisibility"],[88,46,59,44],[89,0,59,45],[89,3]],"functionMap":{"names":["<global>","useUpdateCollectionVisibility","useMutation$argument_0.mutationFn","useMutation$argument_0.onSuccess"],"mappings":"AAA;sCCoB;gBCK;KDO;eEC;KFE;gBCI;KDU;eEC;KFE;CDI"},"hasCjsExports":false},"type":"js/module"}]}