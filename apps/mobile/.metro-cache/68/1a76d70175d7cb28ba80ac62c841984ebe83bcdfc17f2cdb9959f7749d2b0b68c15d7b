{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":68,"index":68}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":69},"end":{"line":2,"column":37,"index":106}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":107},"end":{"line":3,"column":42,"index":149}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":150},"end":{"line":4,"column":49,"index":199}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  var _libSupabase = require(_dependencyMap[3], \"@/lib/supabase\");\n  var _contextAuthProvider = require(_dependencyMap[4], \"@/context/AuthProvider\");\n  /**\n   * Hook that unblocks a user by deleting from the blocks table\n   * where blocker_id is the current user and blocked_id is the target.\n   */\n  var useUnblockUser = () => {\n    _s();\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    return (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _ref2 = (0, _asyncToGenerator.default)(function* (_ref) {\n          var blockedId = _ref.blockedId;\n          if (!user) throw new Error('Not authenticated');\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('blocks').delete().eq('blocker_id', user.id).eq('blocked_id', blockedId),\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          return {\n            blockedId\n          };\n        });\n        return function mutationFn(_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }(),\n      onSuccess: () => {\n        queryClient.invalidateQueries({\n          queryKey: ['blocked-users']\n        });\n      },\n      onError: error => {\n        _reactNative.Alert.alert('Error', error.message ?? 'Failed to unblock user');\n      }\n    });\n  };\n  _s(useUnblockUser, \"F80WCgOaBMKe49pooE2QTJGb66o=\", false, function () {\n    return [_tanstackReactQuery.useQueryClient, _contextAuthProvider.useAuth, _tanstackReactQuery.useMutation];\n  });\n  var _default = useUnblockUser;\n});","lineCount":64,"map":[[13,2,40,0,"Object"],[13,8,40,0],[13,9,40,0,"defineProperty"],[13,23,40,0],[13,24,40,0,"exports"],[13,31,40,0],[14,4,40,0,"enumerable"],[14,14,40,0],[15,4,40,0,"get"],[15,7,40,0],[15,18,40,0,"get"],[15,19,40,0],[16,6,40,0],[16,13,40,0,"_default"],[16,21,40,0],[17,4,40,0],[18,2,40,0],[19,2,40,30],[19,6,40,30,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,40,30],[19,45,40,30,"require"],[19,52,40,30],[19,53,40,30,"_dependencyMap"],[19,67,40,30],[20,2,40,30],[20,6,40,30,"_asyncToGenerator"],[20,23,40,30],[20,26,40,30,"_interopDefault"],[20,41,40,30],[20,42,40,30,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,40,30],[21,2,1,0],[21,6,1,0,"_tanstackReactQuery"],[21,25,1,0],[21,28,1,0,"require"],[21,35,1,0],[21,36,1,0,"_dependencyMap"],[21,50,1,0],[22,2,2,0],[22,6,2,0,"_reactNative"],[22,18,2,0],[22,21,2,0,"require"],[22,28,2,0],[22,29,2,0,"_dependencyMap"],[22,43,2,0],[23,2,3,0],[23,6,3,0,"_libSupabase"],[23,18,3,0],[23,21,3,0,"require"],[23,28,3,0],[23,29,3,0,"_dependencyMap"],[23,43,3,0],[24,2,4,0],[24,6,4,0,"_contextAuthProvider"],[24,26,4,0],[24,29,4,0,"require"],[24,36,4,0],[24,37,4,0,"_dependencyMap"],[24,51,4,0],[25,2,10,0],[26,0,11,0],[27,0,12,0],[28,0,13,0],[29,2,14,0],[29,6,14,6,"useUnblockUser"],[29,20,14,20],[29,23,14,23,"useUnblockUser"],[29,24,14,23],[29,29,14,29],[30,4,14,29,"_s"],[30,6,14,29],[31,4,15,2],[31,8,15,8,"queryClient"],[31,19,15,19],[31,22,15,22],[31,26,15,22,"useQueryClient"],[31,45,15,36],[31,46,15,36,"useQueryClient"],[31,60,15,36],[31,62,15,37],[31,63,15,38],[32,4,16,2],[32,8,16,2,"_useAuth"],[32,16,16,2],[32,19,16,19],[32,23,16,19,"useAuth"],[32,43,16,26],[32,44,16,26,"useAuth"],[32,51,16,26],[32,53,16,27],[32,54,16,28],[33,6,16,10,"user"],[33,10,16,14],[33,13,16,14,"_useAuth"],[33,21,16,14],[33,22,16,10,"user"],[33,26,16,14],[34,4,18,2],[34,11,18,9],[34,15,18,9,"useMutation"],[34,34,18,20],[34,35,18,20,"useMutation"],[34,46,18,20],[34,48,18,21],[35,6,19,4,"mutationFn"],[35,16,19,14],[36,8,19,14],[36,12,19,14,"_ref2"],[36,17,19,14],[36,24,19,14,"_asyncToGenerator"],[36,41,19,14],[36,42,19,14,"default"],[36,49,19,14],[36,51,19,16],[36,62,19,16,"_ref"],[36,66,19,16],[36,68,19,60],[37,10,19,60],[37,14,19,25,"blockedId"],[37,23,19,34],[37,26,19,34,"_ref"],[37,30,19,34],[37,31,19,25,"blockedId"],[37,40,19,34],[38,10,20,6],[38,14,20,10],[38,15,20,11,"user"],[38,19,20,15],[38,21,20,17],[38,27,20,23],[38,31,20,27,"Error"],[38,36,20,32],[38,37,20,33],[38,56,20,52],[38,57,20,53],[39,10,22,6],[39,14,22,6,"_yield$supabase$from$"],[39,35,22,6],[39,44,22,30,"supabase"],[39,56,22,38],[39,57,22,38,"supabase"],[39,65,22,38],[39,66,23,9,"from"],[39,70,23,13],[39,71,23,14],[39,79,23,22],[39,80,23,23],[39,81,24,9,"delete"],[39,87,24,15],[39,88,24,16],[39,89,24,17],[39,90,25,9,"eq"],[39,92,25,11],[39,93,25,12],[39,105,25,24],[39,107,25,26,"user"],[39,111,25,30],[39,112,25,31,"id"],[39,114,25,33],[39,115,25,34],[39,116,26,9,"eq"],[39,118,26,11],[39,119,26,12],[39,131,26,24],[39,133,26,26,"blockedId"],[39,142,26,35],[39,143,26,36],[40,12,22,14,"error"],[40,17,22,19],[40,20,22,19,"_yield$supabase$from$"],[40,41,22,19],[40,42,22,14,"error"],[40,47,22,19],[41,10,28,6],[41,14,28,10,"error"],[41,19,28,15],[41,21,28,17],[41,27,28,23,"error"],[41,32,28,28],[42,10,29,6],[42,17,29,13],[43,12,29,15,"blockedId"],[44,10,29,25],[44,11,29,26],[45,8,30,4],[45,9,30,5],[46,8,30,5],[46,24,19,4,"mutationFn"],[46,34,19,14,"mutationFn"],[46,35,19,14,"_x"],[46,37,19,14],[47,10,19,14],[47,17,19,14,"_ref2"],[47,22,19,14],[47,23,19,14,"apply"],[47,28,19,14],[47,35,19,14,"arguments"],[47,44,19,14],[48,8,19,14],[49,6,19,14],[49,9,30,5],[50,6,31,4,"onSuccess"],[50,15,31,13],[50,17,31,15,"onSuccess"],[50,18,31,15],[50,23,31,21],[51,8,32,6,"queryClient"],[51,19,32,17],[51,20,32,18,"invalidateQueries"],[51,37,32,35],[51,38,32,36],[52,10,32,38,"queryKey"],[52,18,32,46],[52,20,32,48],[52,21,32,49],[52,36,32,64],[53,8,32,66],[53,9,32,67],[53,10,32,68],[54,6,33,4],[54,7,33,5],[55,6,34,4,"onError"],[55,13,34,11],[55,15,34,14,"error"],[55,20,34,26],[55,24,34,31],[56,8,35,6,"Alert"],[56,20,35,11],[56,21,35,11,"Alert"],[56,26,35,11],[56,27,35,12,"alert"],[56,32,35,17],[56,33,35,18],[56,40,35,25],[56,42,35,27,"error"],[56,47,35,32],[56,48,35,33,"message"],[56,55,35,40],[56,59,35,44],[56,83,35,68],[56,84,35,69],[57,6,36,4],[58,4,37,2],[58,5,37,3],[58,6,37,4],[59,2,38,0],[59,3,38,1],[60,2,38,2,"_s"],[60,4,38,2],[60,5,14,6,"useUnblockUser"],[60,19,14,20],[61,4,14,20],[61,12,15,22,"useQueryClient"],[61,31,15,36],[61,32,15,36,"useQueryClient"],[61,46,15,36],[61,48,16,19,"useAuth"],[61,68,16,26],[61,69,16,26,"useAuth"],[61,76,16,26],[61,78,18,9,"useMutation"],[61,97,18,20],[61,98,18,20,"useMutation"],[61,109,18,20],[62,2,18,20],[63,2,40,0],[63,6,40,0,"_default"],[63,14,40,0],[63,17,40,15,"useUnblockUser"],[63,31,40,29],[64,0,40,30],[64,3]],"functionMap":{"names":["<global>","useUnblockUser","useMutation$argument_0.mutationFn","useMutation$argument_0.onSuccess","useMutation$argument_0.onError"],"mappings":"AAA;uBCa;gBCK;KDW;eEC;KFE;aGC;KHE;CDE"},"hasCjsExports":false},"type":"js/module"}]}