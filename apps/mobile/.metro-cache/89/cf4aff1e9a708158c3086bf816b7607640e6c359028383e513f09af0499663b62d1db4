{"dependencies":[{"name":"@babel/runtime/helpers/toConsumableArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"kiCFfIx1MWoD4noR0gEoyrFAUKE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersToConsumableArray = require(_dependencyMap[0], \"@babel/runtime/helpers/toConsumableArray\");\n  var _toConsumableArray = _interopDefault(_babelRuntimeHelpersToConsumableArray);\n  /**\n   * Filters price history points by time range and recalculates summary stats.\n   * Returns a new PriceHistory with only points within the selected range.\n   */\n  var filterPriceHistory = function filterPriceHistory(points, range) {\n    if (points.length === 0) {\n      return {\n        points: [],\n        high: 0,\n        low: 0,\n        changePercent: 0\n      };\n    }\n    var now = new Date();\n    var filtered;\n    if (range === 'max') {\n      filtered = points;\n    } else {\n      var monthsMap = {\n        '1m': 1,\n        '3m': 3,\n        '6m': 6,\n        '12m': 12\n      };\n      var months = monthsMap[range];\n      var cutoff = new Date(now);\n      cutoff.setMonth(cutoff.getMonth() - months);\n      var cutoffStr = cutoff.toISOString().slice(0, 10);\n      filtered = points.filter(function (p) {\n        return p.date >= cutoffStr;\n      });\n    }\n    if (filtered.length === 0) {\n      return {\n        points: [],\n        high: 0,\n        low: 0,\n        changePercent: 0\n      };\n    }\n    var prices = filtered.map(function (p) {\n      return p.price;\n    });\n    var high = Math.max.apply(Math, (0, _toConsumableArray.default)(prices));\n    var low = Math.min.apply(Math, (0, _toConsumableArray.default)(prices));\n    var firstPrice = filtered[0].price;\n    var lastPrice = filtered[filtered.length - 1].price;\n    var changePercent = firstPrice !== 0 ? (lastPrice - firstPrice) / firstPrice * 100 : 0;\n    return {\n      points: filtered,\n      high: high,\n      low: low,\n      changePercent: changePercent\n    };\n  };\n  var _default = filterPriceHistory;\n});","lineCount":76,"map":[[12,2,54,0,"Object"],[12,8,54,0],[12,9,54,0,"defineProperty"],[12,23,54,0],[12,24,54,0,"exports"],[12,31,54,0],[13,4,54,0,"enumerable"],[13,14,54,0],[14,4,54,0,"get"],[14,7,54,0],[14,18,54,0,"get"],[14,19,54,0],[15,6,54,0],[15,13,54,0,"_default"],[15,21,54,0],[16,4,54,0],[17,2,54,0],[18,2,54,34],[18,6,54,34,"_babelRuntimeHelpersToConsumableArray"],[18,43,54,34],[18,46,54,34,"require"],[18,53,54,34],[18,54,54,34,"_dependencyMap"],[18,68,54,34],[19,2,54,34],[19,6,54,34,"_toConsumableArray"],[19,24,54,34],[19,27,54,34,"_interopDefault"],[19,42,54,34],[19,43,54,34,"_babelRuntimeHelpersToConsumableArray"],[19,80,54,34],[20,2,5,0],[21,0,6,0],[22,0,7,0],[23,0,8,0],[24,2,9,0],[24,6,9,6,"filterPriceHistory"],[24,24,9,24],[24,27,9,27],[24,36,9,6,"filterPriceHistory"],[24,54,9,24,"filterPriceHistory"],[24,55,10,2,"points"],[24,61,10,22],[24,63,11,2,"range"],[24,68,11,19],[24,70,12,19],[25,4,13,2],[25,8,13,6,"points"],[25,14,13,12],[25,15,13,13,"length"],[25,21,13,19],[25,26,13,24],[25,27,13,25],[25,29,13,27],[26,6,14,4],[26,13,14,11],[27,8,14,13,"points"],[27,14,14,19],[27,16,14,21],[27,18,14,23],[28,8,14,25,"high"],[28,12,14,29],[28,14,14,31],[28,15,14,32],[29,8,14,34,"low"],[29,11,14,37],[29,13,14,39],[29,14,14,40],[30,8,14,42,"changePercent"],[30,21,14,55],[30,23,14,57],[31,6,14,59],[31,7,14,60],[32,4,15,2],[33,4,17,2],[33,8,17,8,"now"],[33,11,17,11],[33,14,17,14],[33,18,17,18,"Date"],[33,22,17,22],[33,23,17,23],[33,24,17,24],[34,4,18,2],[34,8,18,6,"filtered"],[34,16,18,28],[35,4,20,2],[35,8,20,6,"range"],[35,13,20,11],[35,18,20,16],[35,23,20,21],[35,25,20,23],[36,6,21,4,"filtered"],[36,14,21,12],[36,17,21,15,"points"],[36,23,21,21],[37,4,22,2],[37,5,22,3],[37,11,22,9],[38,6,23,4],[38,10,23,10,"monthsMap"],[38,19,23,63],[38,22,23,66],[39,8,24,6],[39,12,24,10],[39,14,24,12],[39,15,24,13],[40,8,25,6],[40,12,25,10],[40,14,25,12],[40,15,25,13],[41,8,26,6],[41,12,26,10],[41,14,26,12],[41,15,26,13],[42,8,27,6],[42,13,27,11],[42,15,27,13],[43,6,28,4],[43,7,28,5],[44,6,29,4],[44,10,29,10,"months"],[44,16,29,16],[44,19,29,19,"monthsMap"],[44,28,29,28],[44,29,29,29,"range"],[44,34,29,34],[44,35,29,35],[45,6,30,4],[45,10,30,10,"cutoff"],[45,16,30,16],[45,19,30,19],[45,23,30,23,"Date"],[45,27,30,27],[45,28,30,28,"now"],[45,31,30,31],[45,32,30,32],[46,6,31,4,"cutoff"],[46,12,31,10],[46,13,31,11,"setMonth"],[46,21,31,19],[46,22,31,20,"cutoff"],[46,28,31,26],[46,29,31,27,"getMonth"],[46,37,31,35],[46,38,31,36],[46,39,31,37],[46,42,31,40,"months"],[46,48,31,46],[46,49,31,47],[47,6,32,4],[47,10,32,10,"cutoffStr"],[47,19,32,19],[47,22,32,22,"cutoff"],[47,28,32,28],[47,29,32,29,"toISOString"],[47,40,32,40],[47,41,32,41],[47,42,32,42],[47,43,32,43,"slice"],[47,48,32,48],[47,49,32,49],[47,50,32,50],[47,52,32,52],[47,54,32,54],[47,55,32,55],[48,6,34,4,"filtered"],[48,14,34,12],[48,17,34,15,"points"],[48,23,34,21],[48,24,34,22,"filter"],[48,30,34,28],[48,31,34,29],[48,41,34,30,"p"],[48,42,34,31],[49,8,34,31],[49,15,34,36,"p"],[49,16,34,37],[49,17,34,38,"date"],[49,21,34,42],[49,25,34,46,"cutoffStr"],[49,34,34,55],[50,6,34,55],[50,8,34,56],[51,4,35,2],[52,4,37,2],[52,8,37,6,"filtered"],[52,16,37,14],[52,17,37,15,"length"],[52,23,37,21],[52,28,37,26],[52,29,37,27],[52,31,37,29],[53,6,38,4],[53,13,38,11],[54,8,38,13,"points"],[54,14,38,19],[54,16,38,21],[54,18,38,23],[55,8,38,25,"high"],[55,12,38,29],[55,14,38,31],[55,15,38,32],[56,8,38,34,"low"],[56,11,38,37],[56,13,38,39],[56,14,38,40],[57,8,38,42,"changePercent"],[57,21,38,55],[57,23,38,57],[58,6,38,59],[58,7,38,60],[59,4,39,2],[60,4,41,2],[60,8,41,8,"prices"],[60,14,41,14],[60,17,41,17,"filtered"],[60,25,41,25],[60,26,41,26,"map"],[60,29,41,29],[60,30,41,30],[60,40,41,31,"p"],[60,41,41,32],[61,6,41,32],[61,13,41,37,"p"],[61,14,41,38],[61,15,41,39,"price"],[61,20,41,44],[62,4,41,44],[62,6,41,45],[63,4,42,2],[63,8,42,8,"high"],[63,12,42,12],[63,15,42,15,"Math"],[63,19,42,19],[63,20,42,20,"max"],[63,23,42,23],[63,24,42,23,"apply"],[63,29,42,23],[63,30,42,15,"Math"],[63,34,42,19],[63,40,42,19,"_toConsumableArray"],[63,58,42,19],[63,59,42,19,"default"],[63,66,42,19],[63,68,42,27,"prices"],[63,74,42,33],[63,76,42,34],[64,4,43,2],[64,8,43,8,"low"],[64,11,43,11],[64,14,43,14,"Math"],[64,18,43,18],[64,19,43,19,"min"],[64,22,43,22],[64,23,43,22,"apply"],[64,28,43,22],[64,29,43,14,"Math"],[64,33,43,18],[64,39,43,18,"_toConsumableArray"],[64,57,43,18],[64,58,43,18,"default"],[64,65,43,18],[64,67,43,26,"prices"],[64,73,43,32],[64,75,43,33],[65,4,45,2],[65,8,45,8,"firstPrice"],[65,18,45,18],[65,21,45,21,"filtered"],[65,29,45,29],[65,30,45,30],[65,31,45,31],[65,32,45,32],[65,33,45,34,"price"],[65,38,45,39],[66,4,46,2],[66,8,46,8,"lastPrice"],[66,17,46,17],[66,20,46,20,"filtered"],[66,28,46,28],[66,29,46,29,"filtered"],[66,37,46,37],[66,38,46,38,"length"],[66,44,46,44],[66,47,46,47],[66,48,46,48],[66,49,46,49],[66,50,46,51,"price"],[66,55,46,56],[67,4,47,2],[67,8,47,8,"changePercent"],[67,21,47,21],[67,24,47,24,"firstPrice"],[67,34,47,34],[67,39,47,39],[67,40,47,40],[67,43,48,7],[67,44,48,8,"lastPrice"],[67,53,48,17],[67,56,48,20,"firstPrice"],[67,66,48,30],[67,70,48,34,"firstPrice"],[67,80,48,44],[67,83,48,48],[67,86,48,51],[67,89,49,6],[67,90,49,7],[68,4,51,2],[68,11,51,9],[69,6,51,11,"points"],[69,12,51,17],[69,14,51,19,"filtered"],[69,22,51,27],[70,6,51,29,"high"],[70,10,51,33],[70,12,51,29,"high"],[70,16,51,33],[71,6,51,35,"low"],[71,9,51,38],[71,11,51,35,"low"],[71,14,51,38],[72,6,51,40,"changePercent"],[72,19,51,53],[72,21,51,40,"changePercent"],[73,4,51,54],[73,5,51,55],[74,2,52,0],[74,3,52,1],[75,2,54,0],[75,6,54,0,"_default"],[75,14,54,0],[75,17,54,15,"filterPriceHistory"],[75,35,54,33],[76,0,54,34],[76,3]],"functionMap":{"names":["<global>","filterPriceHistory","points.filter$argument_0","filtered.map$argument_0"],"mappings":"AAA;2BCQ;6BCyB,0BD;8BEO,cF;CDW"},"hasCjsExports":false},"type":"js/module"}]}