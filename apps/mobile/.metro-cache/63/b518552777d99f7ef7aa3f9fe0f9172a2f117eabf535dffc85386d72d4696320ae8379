{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":42,"index":92}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":46,"index":139}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _queryKeys = require(_dependencyMap[3], \"../../queryKeys\");\n  /**\n   * Hook that fetches all ratings for a given user.\n   *\n   * Returns each rating with the rater's display name, score,\n   * optional comment, and date.\n   */\n  var useUserRatings = userId => {\n    _s();\n    return (0, _tanstackReactQuery.useQuery)({\n      queryKey: _queryKeys.profileKeys.ratings(userId),\n      queryFn: function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('ratings').select('id, score, comment, created_at, rater_id').eq('ratee_id', userId).order('created_at', {\n              ascending: false\n            }),\n            ratings = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          if (!ratings || ratings.length === 0) return [];\n\n          // Resolve rater display names\n          var raterIds = [...new Set(ratings.map(r => r.rater_id))];\n          var _yield$supabase$from$2 = yield _libSupabase.supabase.from('users').select('id, display_name').in('id', raterIds),\n            raters = _yield$supabase$from$2.data;\n          var ratersMap = new Map((raters ?? []).map(r => [r.id, r.display_name]));\n          return ratings.map(r => ({\n            id: r.id,\n            score: r.score,\n            comment: r.comment,\n            created_at: r.created_at,\n            rater_display_name: ratersMap.get(r.rater_id) ?? 'Unknown'\n          }));\n        });\n        return function queryFn() {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      enabled: !!userId\n    });\n  };\n  _s(useUserRatings, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n    return [_tanstackReactQuery.useQuery];\n  });\n  var _default = useUserRatings;\n});","lineCount":68,"map":[[13,2,53,0,"Object"],[13,8,53,0],[13,9,53,0,"defineProperty"],[13,23,53,0],[13,24,53,0,"exports"],[13,31,53,0],[14,4,53,0,"enumerable"],[14,14,53,0],[15,4,53,0,"get"],[15,7,53,0],[15,18,53,0,"get"],[15,19,53,0],[16,6,53,0],[16,13,53,0,"_default"],[16,21,53,0],[17,4,53,0],[18,2,53,0],[19,2,53,30],[19,6,53,30,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,53,30],[19,45,53,30,"require"],[19,52,53,30],[19,53,53,30,"_dependencyMap"],[19,67,53,30],[20,2,53,30],[20,6,53,30,"_asyncToGenerator"],[20,23,53,30],[20,26,53,30,"_interopDefault"],[20,41,53,30],[20,42,53,30,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,53,30],[21,2,1,0],[21,6,1,0,"_tanstackReactQuery"],[21,25,1,0],[21,28,1,0,"require"],[21,35,1,0],[21,36,1,0,"_dependencyMap"],[21,50,1,0],[22,2,2,0],[22,6,2,0,"_libSupabase"],[22,18,2,0],[22,21,2,0,"require"],[22,28,2,0],[22,29,2,0,"_dependencyMap"],[22,43,2,0],[23,2,3,0],[23,6,3,0,"_queryKeys"],[23,16,3,0],[23,19,3,0,"require"],[23,26,3,0],[23,27,3,0,"_dependencyMap"],[23,41,3,0],[24,2,13,0],[25,0,14,0],[26,0,15,0],[27,0,16,0],[28,0,17,0],[29,0,18,0],[30,2,19,0],[30,6,19,6,"useUserRatings"],[30,20,19,20],[30,23,19,24,"userId"],[30,29,19,38],[30,33,19,43],[31,4,19,43,"_s"],[31,6,19,43],[32,4,20,2],[32,11,20,9],[32,15,20,9,"useQuery"],[32,34,20,17],[32,35,20,17,"useQuery"],[32,43,20,17],[32,45,20,39],[33,6,21,4,"queryKey"],[33,14,21,12],[33,16,21,14,"profileKeys"],[33,26,21,25],[33,27,21,25,"profileKeys"],[33,38,21,25],[33,39,21,26,"ratings"],[33,46,21,33],[33,47,21,34,"userId"],[33,53,21,40],[33,54,21,41],[34,6,22,4,"queryFn"],[34,13,22,11],[35,8,22,11],[35,12,22,11,"_ref"],[35,16,22,11],[35,23,22,11,"_asyncToGenerator"],[35,40,22,11],[35,41,22,11,"default"],[35,48,22,11],[35,50,22,13],[35,63,22,25],[36,10,23,6],[36,14,23,6,"_yield$supabase$from$"],[36,35,23,6],[36,44,23,45,"supabase"],[36,56,23,53],[36,57,23,53,"supabase"],[36,65,23,53],[36,66,24,9,"from"],[36,70,24,13],[36,71,24,14],[36,80,24,23],[36,81,24,24],[36,82,25,9,"select"],[36,88,25,15],[36,89,25,16],[36,131,25,58],[36,132,25,59],[36,133,26,9,"eq"],[36,135,26,11],[36,136,26,12],[36,146,26,22],[36,148,26,24,"userId"],[36,154,26,30],[36,155,26,31],[36,156,27,9,"order"],[36,161,27,14],[36,162,27,15],[36,174,27,27],[36,176,27,29],[37,14,27,31,"ascending"],[37,23,27,40],[37,25,27,42],[38,12,27,48],[38,13,27,49],[38,14,27,50],[39,12,23,20,"ratings"],[39,19,23,27],[39,22,23,27,"_yield$supabase$from$"],[39,43,23,27],[39,44,23,14,"data"],[39,48,23,18],[40,12,23,29,"error"],[40,17,23,34],[40,20,23,34,"_yield$supabase$from$"],[40,41,23,34],[40,42,23,29,"error"],[40,47,23,34],[41,10,29,6],[41,14,29,10,"error"],[41,19,29,15],[41,21,29,17],[41,27,29,23,"error"],[41,32,29,28],[42,10,30,6],[42,14,30,10],[42,15,30,11,"ratings"],[42,22,30,18],[42,26,30,22,"ratings"],[42,33,30,29],[42,34,30,30,"length"],[42,40,30,36],[42,45,30,41],[42,46,30,42],[42,48,30,44],[42,55,30,51],[42,57,30,53],[44,10,32,6],[45,10,33,6],[45,14,33,12,"raterIds"],[45,22,33,20],[45,25,33,23],[45,26,33,24],[45,29,33,27],[45,33,33,31,"Set"],[45,36,33,34],[45,37,33,35,"ratings"],[45,44,33,42],[45,45,33,43,"map"],[45,48,33,46],[45,49,33,48,"r"],[45,50,33,49],[45,54,33,54,"r"],[45,55,33,55],[45,56,33,56,"rater_id"],[45,64,33,64],[45,65,33,65],[45,66,33,66],[45,67,33,67],[46,10,34,6],[46,14,34,6,"_yield$supabase$from$2"],[46,36,34,6],[46,45,34,37,"supabase"],[46,57,34,45],[46,58,34,45,"supabase"],[46,66,34,45],[46,67,35,9,"from"],[46,71,35,13],[46,72,35,14],[46,79,35,21],[46,80,35,22],[46,81,36,9,"select"],[46,87,36,15],[46,88,36,16],[46,106,36,34],[46,107,36,35],[46,108,37,9,"in"],[46,110,37,11],[46,111,37,12],[46,115,37,16],[46,117,37,18,"raterIds"],[46,125,37,26],[46,126,37,27],[47,12,34,20,"raters"],[47,18,34,26],[47,21,34,26,"_yield$supabase$from$2"],[47,43,34,26],[47,44,34,14,"data"],[47,48,34,18],[48,10,39,6],[48,14,39,12,"ratersMap"],[48,23,39,21],[48,26,39,24],[48,30,39,28,"Map"],[48,33,39,31],[48,34,39,32],[48,35,39,33,"raters"],[48,41,39,39],[48,45,39,43],[48,47,39,45],[48,49,39,47,"map"],[48,52,39,50],[48,53,39,52,"r"],[48,54,39,53],[48,58,39,58],[48,59,39,59,"r"],[48,60,39,60],[48,61,39,61,"id"],[48,63,39,63],[48,65,39,65,"r"],[48,66,39,66],[48,67,39,67,"display_name"],[48,79,39,79],[48,80,39,80],[48,81,39,81],[48,82,39,82],[49,10,41,6],[49,17,41,13,"ratings"],[49,24,41,20],[49,25,41,21,"map"],[49,28,41,24],[49,29,41,26,"r"],[49,30,41,27],[49,35,41,33],[50,12,42,8,"id"],[50,14,42,10],[50,16,42,12,"r"],[50,17,42,13],[50,18,42,14,"id"],[50,20,42,16],[51,12,43,8,"score"],[51,17,43,13],[51,19,43,15,"r"],[51,20,43,16],[51,21,43,17,"score"],[51,26,43,22],[52,12,44,8,"comment"],[52,19,44,15],[52,21,44,17,"r"],[52,22,44,18],[52,23,44,19,"comment"],[52,30,44,26],[53,12,45,8,"created_at"],[53,22,45,18],[53,24,45,20,"r"],[53,25,45,21],[53,26,45,22,"created_at"],[53,36,45,32],[54,12,46,8,"rater_display_name"],[54,30,46,26],[54,32,46,28,"ratersMap"],[54,41,46,37],[54,42,46,38,"get"],[54,45,46,41],[54,46,46,42,"r"],[54,47,46,43],[54,48,46,44,"rater_id"],[54,56,46,52],[54,57,46,53],[54,61,46,57],[55,10,47,6],[55,11,47,7],[55,12,47,8],[55,13,47,9],[56,8,48,4],[56,9,48,5],[57,8,48,5],[57,24,22,4,"queryFn"],[57,31,22,11,"queryFn"],[57,32,22,11],[58,10,22,11],[58,17,22,11,"_ref"],[58,21,22,11],[58,22,22,11,"apply"],[58,27,22,11],[58,34,22,11,"arguments"],[58,43,22,11],[59,8,22,11],[60,6,22,11],[60,9,48,5],[61,6,49,4,"enabled"],[61,13,49,11],[61,15,49,13],[61,16,49,14],[61,17,49,15,"userId"],[62,4,50,2],[62,5,50,3],[62,6,50,4],[63,2,51,0],[63,3,51,1],[64,2,51,2,"_s"],[64,4,51,2],[64,5,19,6,"useUserRatings"],[64,19,19,20],[65,4,19,20],[65,12,20,9,"useQuery"],[65,31,20,17],[65,32,20,17,"useQuery"],[65,40,20,17],[66,2,20,17],[67,2,53,0],[67,6,53,0,"_default"],[67,14,53,0],[67,17,53,15,"useUserRatings"],[67,31,53,29],[68,0,53,30],[68,3]],"functionMap":{"names":["<global>","useUserRatings","useQuery$argument_0.queryFn","ratings.map$argument_0","map$argument_0"],"mappings":"AAA;uBCkB;aCG;+CCW,iBD;mDEM,6BF;yBCE;QDM;KDC;CDG"},"hasCjsExports":false},"type":"js/module"}]}