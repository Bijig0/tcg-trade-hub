{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":42,"index":92}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":49,"index":142}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _contextAuthProvider = require(_dependencyMap[3], \"@/context/AuthProvider\");\n  /**\n   * Hook that fetches all blocked users for the current user.\n   *\n   * Returns each blocked user's display_name and avatar_url\n   * along with the block record ID and timestamp.\n   */\n  var useBlockedUsers = () => {\n    _s();\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    return (0, _tanstackReactQuery.useQuery)({\n      queryKey: ['blocked-users'],\n      queryFn: function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          if (!user) throw new Error('Not authenticated');\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('blocks').select('id, blocked_id, created_at').eq('blocker_id', user.id).order('created_at', {\n              ascending: false\n            }),\n            blocks = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          if (!blocks || blocks.length === 0) return [];\n\n          // Fetch blocked users' profiles\n          var blockedIds = blocks.map(b => b.blocked_id);\n          var _yield$supabase$from$2 = yield _libSupabase.supabase.from('users').select('id, display_name, avatar_url').in('id', blockedIds),\n            users = _yield$supabase$from$2.data;\n          var usersMap = new Map((users ?? []).map(u => [u.id, u]));\n          return blocks.map(block => {\n            var blockedUser = usersMap.get(block.blocked_id);\n            return {\n              id: block.id,\n              blocked_id: block.blocked_id,\n              display_name: blockedUser?.display_name ?? 'Unknown',\n              avatar_url: blockedUser?.avatar_url ?? null,\n              created_at: block.created_at\n            };\n          });\n        });\n        return function queryFn() {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      enabled: !!user\n    });\n  };\n  _s(useBlockedUsers, \"feBfegY2LWvVkHAo3/+H6/HJ9O4=\", false, function () {\n    return [_contextAuthProvider.useAuth, _tanstackReactQuery.useQuery];\n  });\n  var _default = useBlockedUsers;\n});","lineCount":74,"map":[[13,2,62,0,"Object"],[13,8,62,0],[13,9,62,0,"defineProperty"],[13,23,62,0],[13,24,62,0,"exports"],[13,31,62,0],[14,4,62,0,"enumerable"],[14,14,62,0],[15,4,62,0,"get"],[15,7,62,0],[15,18,62,0,"get"],[15,19,62,0],[16,6,62,0],[16,13,62,0,"_default"],[16,21,62,0],[17,4,62,0],[18,2,62,0],[19,2,62,31],[19,6,62,31,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,62,31],[19,45,62,31,"require"],[19,52,62,31],[19,53,62,31,"_dependencyMap"],[19,67,62,31],[20,2,62,31],[20,6,62,31,"_asyncToGenerator"],[20,23,62,31],[20,26,62,31,"_interopDefault"],[20,41,62,31],[20,42,62,31,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,62,31],[21,2,1,0],[21,6,1,0,"_tanstackReactQuery"],[21,25,1,0],[21,28,1,0,"require"],[21,35,1,0],[21,36,1,0,"_dependencyMap"],[21,50,1,0],[22,2,2,0],[22,6,2,0,"_libSupabase"],[22,18,2,0],[22,21,2,0,"require"],[22,28,2,0],[22,29,2,0,"_dependencyMap"],[22,43,2,0],[23,2,3,0],[23,6,3,0,"_contextAuthProvider"],[23,26,3,0],[23,29,3,0,"require"],[23,36,3,0],[23,37,3,0,"_dependencyMap"],[23,51,3,0],[24,2,13,0],[25,0,14,0],[26,0,15,0],[27,0,16,0],[28,0,17,0],[29,0,18,0],[30,2,19,0],[30,6,19,6,"useBlockedUsers"],[30,21,19,21],[30,24,19,24,"useBlockedUsers"],[30,25,19,24],[30,30,19,30],[31,4,19,30,"_s"],[31,6,19,30],[32,4,20,2],[32,8,20,2,"_useAuth"],[32,16,20,2],[32,19,20,19],[32,23,20,19,"useAuth"],[32,43,20,26],[32,44,20,26,"useAuth"],[32,51,20,26],[32,53,20,27],[32,54,20,28],[33,6,20,10,"user"],[33,10,20,14],[33,13,20,14,"_useAuth"],[33,21,20,14],[33,22,20,10,"user"],[33,26,20,14],[34,4,22,2],[34,11,22,9],[34,15,22,9,"useQuery"],[34,34,22,17],[34,35,22,17,"useQuery"],[34,43,22,17],[34,45,22,40],[35,6,23,4,"queryKey"],[35,14,23,12],[35,16,23,14],[35,17,23,15],[35,32,23,30],[35,33,23,31],[36,6,24,4,"queryFn"],[36,13,24,11],[37,8,24,11],[37,12,24,11,"_ref"],[37,16,24,11],[37,23,24,11,"_asyncToGenerator"],[37,40,24,11],[37,41,24,11,"default"],[37,48,24,11],[37,50,24,13],[37,63,24,25],[38,10,25,6],[38,14,25,10],[38,15,25,11,"user"],[38,19,25,15],[38,21,25,17],[38,27,25,23],[38,31,25,27,"Error"],[38,36,25,32],[38,37,25,33],[38,56,25,52],[38,57,25,53],[39,10,27,6],[39,14,27,6,"_yield$supabase$from$"],[39,35,27,6],[39,44,27,44,"supabase"],[39,56,27,52],[39,57,27,52,"supabase"],[39,65,27,52],[39,66,28,9,"from"],[39,70,28,13],[39,71,28,14],[39,79,28,22],[39,80,28,23],[39,81,29,9,"select"],[39,87,29,15],[39,88,29,16],[39,116,29,44],[39,117,29,45],[39,118,30,9,"eq"],[39,120,30,11],[39,121,30,12],[39,133,30,24],[39,135,30,26,"user"],[39,139,30,30],[39,140,30,31,"id"],[39,142,30,33],[39,143,30,34],[39,144,31,9,"order"],[39,149,31,14],[39,150,31,15],[39,162,31,27],[39,164,31,29],[40,14,31,31,"ascending"],[40,23,31,40],[40,25,31,42],[41,12,31,48],[41,13,31,49],[41,14,31,50],[42,12,27,20,"blocks"],[42,18,27,26],[42,21,27,26,"_yield$supabase$from$"],[42,42,27,26],[42,43,27,14,"data"],[42,47,27,18],[43,12,27,28,"error"],[43,17,27,33],[43,20,27,33,"_yield$supabase$from$"],[43,41,27,33],[43,42,27,28,"error"],[43,47,27,33],[44,10,33,6],[44,14,33,10,"error"],[44,19,33,15],[44,21,33,17],[44,27,33,23,"error"],[44,32,33,28],[45,10,34,6],[45,14,34,10],[45,15,34,11,"blocks"],[45,21,34,17],[45,25,34,21,"blocks"],[45,31,34,27],[45,32,34,28,"length"],[45,38,34,34],[45,43,34,39],[45,44,34,40],[45,46,34,42],[45,53,34,49],[45,55,34,51],[47,10,36,6],[48,10,37,6],[48,14,37,12,"blockedIds"],[48,24,37,22],[48,27,37,25,"blocks"],[48,33,37,31],[48,34,37,32,"map"],[48,37,37,35],[48,38,37,37,"b"],[48,39,37,38],[48,43,37,43,"b"],[48,44,37,44],[48,45,37,45,"blocked_id"],[48,55,37,55],[48,56,37,56],[49,10,38,6],[49,14,38,6,"_yield$supabase$from$2"],[49,36,38,6],[49,45,38,36,"supabase"],[49,57,38,44],[49,58,38,44,"supabase"],[49,66,38,44],[49,67,39,9,"from"],[49,71,39,13],[49,72,39,14],[49,79,39,21],[49,80,39,22],[49,81,40,9,"select"],[49,87,40,15],[49,88,40,16],[49,118,40,46],[49,119,40,47],[49,120,41,9,"in"],[49,122,41,11],[49,123,41,12],[49,127,41,16],[49,129,41,18,"blockedIds"],[49,139,41,28],[49,140,41,29],[50,12,38,20,"users"],[50,17,38,25],[50,20,38,25,"_yield$supabase$from$2"],[50,42,38,25],[50,43,38,14,"data"],[50,47,38,18],[51,10,43,6],[51,14,43,12,"usersMap"],[51,22,43,20],[51,25,43,23],[51,29,43,27,"Map"],[51,32,43,30],[51,33,44,8],[51,34,44,9,"users"],[51,39,44,14],[51,43,44,18],[51,45,44,20],[51,47,44,22,"map"],[51,50,44,25],[51,51,44,27,"u"],[51,52,44,28],[51,56,44,33],[51,57,44,34,"u"],[51,58,44,35],[51,59,44,36,"id"],[51,61,44,38],[51,63,44,40,"u"],[51,64,44,41],[51,65,44,42],[51,66,45,6],[51,67,45,7],[52,10,47,6],[52,17,47,13,"blocks"],[52,23,47,19],[52,24,47,20,"map"],[52,27,47,23],[52,28,47,25,"block"],[52,33,47,30],[52,37,47,35],[53,12,48,8],[53,16,48,14,"blockedUser"],[53,27,48,25],[53,30,48,28,"usersMap"],[53,38,48,36],[53,39,48,37,"get"],[53,42,48,40],[53,43,48,41,"block"],[53,48,48,46],[53,49,48,47,"blocked_id"],[53,59,48,57],[53,60,48,58],[54,12,49,8],[54,19,49,15],[55,14,50,10,"id"],[55,16,50,12],[55,18,50,14,"block"],[55,23,50,19],[55,24,50,20,"id"],[55,26,50,22],[56,14,51,10,"blocked_id"],[56,24,51,20],[56,26,51,22,"block"],[56,31,51,27],[56,32,51,28,"blocked_id"],[56,42,51,38],[57,14,52,10,"display_name"],[57,26,52,22],[57,28,52,24,"blockedUser"],[57,39,52,35],[57,41,52,37,"display_name"],[57,53,52,49],[57,57,52,53],[57,66,52,62],[58,14,53,10,"avatar_url"],[58,24,53,20],[58,26,53,22,"blockedUser"],[58,37,53,33],[58,39,53,35,"avatar_url"],[58,49,53,45],[58,53,53,49],[58,57,53,53],[59,14,54,10,"created_at"],[59,24,54,20],[59,26,54,22,"block"],[59,31,54,27],[59,32,54,28,"created_at"],[60,12,55,8],[60,13,55,9],[61,10,56,6],[61,11,56,7],[61,12,56,8],[62,8,57,4],[62,9,57,5],[63,8,57,5],[63,24,24,4,"queryFn"],[63,31,24,11,"queryFn"],[63,32,24,11],[64,10,24,11],[64,17,24,11,"_ref"],[64,21,24,11],[64,22,24,11,"apply"],[64,27,24,11],[64,34,24,11,"arguments"],[64,43,24,11],[65,8,24,11],[66,6,24,11],[66,9,57,5],[67,6,58,4,"enabled"],[67,13,58,11],[67,15,58,13],[67,16,58,14],[67,17,58,15,"user"],[68,4,59,2],[68,5,59,3],[68,6,59,4],[69,2,60,0],[69,3,60,1],[70,2,60,2,"_s"],[70,4,60,2],[70,5,19,6,"useBlockedUsers"],[70,20,19,21],[71,4,19,21],[71,12,20,19,"useAuth"],[71,32,20,26],[71,33,20,26,"useAuth"],[71,40,20,26],[71,42,22,9,"useQuery"],[71,61,22,17],[71,62,22,17,"useQuery"],[71,70,22,17],[72,2,22,17],[73,2,62,0],[73,6,62,0,"_default"],[73,14,62,0],[73,17,62,15,"useBlockedUsers"],[73,32,62,30],[74,0,62,31],[74,3]],"functionMap":{"names":["<global>","useBlockedUsers","useQuery$argument_0.queryFn","blocks.map$argument_0","map$argument_0"],"mappings":"AAA;wBCkB;aCK;oCCa,mBD;0BEO,gBF;wBCG;ODS;KDC;CDG"},"hasCjsExports":false},"type":"js/module"}]}