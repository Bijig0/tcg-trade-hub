{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-updates","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":20,"column":16,"index":593},"end":{"line":20,"column":39,"index":616}}],"key":"sQsauHA5DNzHLms5+mQxP53QDg8=","exportNames":["*"],"imports":1,"isOptional":true}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1]);\n  var POLL_INTERVAL_MS = 10_000;\n\n  /**\n   * Polls for OTA updates and auto-reloads the app when one is found.\n   * Designed for live development: Claude pushes an EAS update via a stop hook,\n   * and this hook picks it up within seconds and seamlessly reloads.\n   *\n   * Only active in non-dev mode (i.e., preview/production builds not connected to Metro).\n   */\n  var useAutoUpdate = () => {\n    var checking = (0, _react.useRef)(false);\n    (0, _react.useEffect)(() => {\n      var Updates = null;\n      try {\n        Updates = require(_dependencyMap[2], \"expo-updates\");\n      } catch {\n        return;\n      }\n      var poll = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          if (checking.current || !Updates) return;\n          checking.current = true;\n          try {\n            var result = yield Updates.checkForUpdateAsync();\n            if (!result.isAvailable) {\n              checking.current = false;\n              return;\n            }\n            console.log('[AutoUpdate] Update found, downloading...');\n            yield Updates.fetchUpdateAsync();\n            console.log('[AutoUpdate] Downloaded, reloading...');\n            yield Updates.reloadAsync();\n          } catch (error) {\n            // Silent fail â€” will retry on next poll\n            console.warn('[AutoUpdate] Check failed:', error);\n            checking.current = false;\n          }\n        });\n        return function poll() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      // Initial check after a short delay\n      var initialTimeout = setTimeout(poll, 3_000);\n      // Then poll on interval\n      var interval = setInterval(poll, POLL_INTERVAL_MS);\n      return () => {\n        clearTimeout(initialTimeout);\n        clearInterval(interval);\n      };\n    }, []);\n  };\n  var _default = useAutoUpdate;\n});","lineCount":75,"map":[[12,2,59,0,"Object"],[12,8,59,0],[12,9,59,0,"defineProperty"],[12,23,59,0],[12,24,59,0,"exports"],[12,31,59,0],[13,4,59,0,"enumerable"],[13,14,59,0],[14,4,59,0,"get"],[14,7,59,0],[14,18,59,0,"get"],[14,19,59,0],[15,6,59,0],[15,13,59,0,"_default"],[15,21,59,0],[16,4,59,0],[17,2,59,0],[18,2,59,29],[18,6,59,29,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,59,29],[18,45,59,29,"require"],[18,52,59,29],[18,53,59,29,"_dependencyMap"],[18,67,59,29],[19,2,59,29],[19,6,59,29,"_asyncToGenerator"],[19,23,59,29],[19,26,59,29,"_interopDefault"],[19,41,59,29],[19,42,59,29,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,59,29],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,3,0],[21,6,3,6,"POLL_INTERVAL_MS"],[21,22,3,22],[21,25,3,25],[21,31,3,31],[23,2,5,0],[24,0,6,0],[25,0,7,0],[26,0,8,0],[27,0,9,0],[28,0,10,0],[29,0,11,0],[30,2,12,0],[30,6,12,6,"useAutoUpdate"],[30,19,12,19],[30,22,12,22,"useAutoUpdate"],[30,23,12,22],[30,28,12,28],[31,4,13,2],[31,8,13,8,"checking"],[31,16,13,16],[31,19,13,19],[31,23,13,19,"useRef"],[31,29,13,25],[31,30,13,25,"useRef"],[31,36,13,25],[31,38,13,26],[31,43,13,31],[31,44,13,32],[32,4,15,2],[32,8,15,2,"useEffect"],[32,14,15,11],[32,15,15,11,"useEffect"],[32,24,15,11],[32,26,15,12],[32,32,15,18],[33,6,18,4],[33,10,18,8,"Updates"],[33,17,18,53],[33,20,18,56],[33,24,18,60],[34,6,19,4],[34,10,19,8],[35,8,20,6,"Updates"],[35,15,20,13],[35,18,20,16,"require"],[35,25,20,23],[35,26,20,23,"_dependencyMap"],[35,40,20,23],[35,59,20,38],[35,60,20,72],[36,6,21,4],[36,7,21,5],[36,8,21,6],[36,14,21,12],[37,8,22,6],[38,6,23,4],[39,6,25,4],[39,10,25,10,"poll"],[39,14,25,14],[40,8,25,14],[40,12,25,14,"_ref"],[40,16,25,14],[40,23,25,14,"_asyncToGenerator"],[40,40,25,14],[40,41,25,14,"default"],[40,48,25,14],[40,50,25,17],[40,63,25,29],[41,10,26,6],[41,14,26,10,"checking"],[41,22,26,18],[41,23,26,19,"current"],[41,30,26,26],[41,34,26,30],[41,35,26,31,"Updates"],[41,42,26,38],[41,44,26,40],[42,10,27,6,"checking"],[42,18,27,14],[42,19,27,15,"current"],[42,26,27,22],[42,29,27,25],[42,33,27,29],[43,10,29,6],[43,14,29,10],[44,12,30,8],[44,16,30,14,"result"],[44,22,30,20],[44,31,30,29,"Updates"],[44,38,30,36],[44,39,30,37,"checkForUpdateAsync"],[44,58,30,56],[44,59,30,57],[44,60,30,58],[45,12,31,8],[45,16,31,12],[45,17,31,13,"result"],[45,23,31,19],[45,24,31,20,"isAvailable"],[45,35,31,31],[45,37,31,33],[46,14,32,10,"checking"],[46,22,32,18],[46,23,32,19,"current"],[46,30,32,26],[46,33,32,29],[46,38,32,34],[47,14,33,10],[48,12,34,8],[49,12,36,8,"console"],[49,19,36,15],[49,20,36,16,"log"],[49,23,36,19],[49,24,36,20],[49,67,36,63],[49,68,36,64],[50,12,37,8],[50,18,37,14,"Updates"],[50,25,37,21],[50,26,37,22,"fetchUpdateAsync"],[50,42,37,38],[50,43,37,39],[50,44,37,40],[51,12,38,8,"console"],[51,19,38,15],[51,20,38,16,"log"],[51,23,38,19],[51,24,38,20],[51,63,38,59],[51,64,38,60],[52,12,39,8],[52,18,39,14,"Updates"],[52,25,39,21],[52,26,39,22,"reloadAsync"],[52,37,39,33],[52,38,39,34],[52,39,39,35],[53,10,40,6],[53,11,40,7],[53,12,40,8],[53,19,40,15,"error"],[53,24,40,20],[53,26,40,22],[54,12,41,8],[55,12,42,8,"console"],[55,19,42,15],[55,20,42,16,"warn"],[55,24,42,20],[55,25,42,21],[55,53,42,49],[55,55,42,51,"error"],[55,60,42,56],[55,61,42,57],[56,12,43,8,"checking"],[56,20,43,16],[56,21,43,17,"current"],[56,28,43,24],[56,31,43,27],[56,36,43,32],[57,10,44,6],[58,8,45,4],[58,9,45,5],[59,8,45,5],[59,24,25,10,"poll"],[59,28,25,14,"poll"],[59,29,25,14],[60,10,25,14],[60,17,25,14,"_ref"],[60,21,25,14],[60,22,25,14,"apply"],[60,27,25,14],[60,34,25,14,"arguments"],[60,43,25,14],[61,8,25,14],[62,6,25,14],[62,9,45,5],[64,6,47,4],[65,6,48,4],[65,10,48,10,"initialTimeout"],[65,24,48,24],[65,27,48,27,"setTimeout"],[65,37,48,37],[65,38,48,38,"poll"],[65,42,48,42],[65,44,48,44],[65,49,48,49],[65,50,48,50],[66,6,49,4],[67,6,50,4],[67,10,50,10,"interval"],[67,18,50,18],[67,21,50,21,"setInterval"],[67,32,50,32],[67,33,50,33,"poll"],[67,37,50,37],[67,39,50,39,"POLL_INTERVAL_MS"],[67,55,50,55],[67,56,50,56],[68,6,52,4],[68,13,52,11],[68,19,52,17],[69,8,53,6,"clearTimeout"],[69,20,53,18],[69,21,53,19,"initialTimeout"],[69,35,53,33],[69,36,53,34],[70,8,54,6,"clearInterval"],[70,21,54,19],[70,22,54,20,"interval"],[70,30,54,28],[70,31,54,29],[71,6,55,4],[71,7,55,5],[72,4,56,2],[72,5,56,3],[72,7,56,5],[72,9,56,7],[72,10,56,8],[73,2,57,0],[73,3,57,1],[74,2,59,0],[74,6,59,0,"_default"],[74,14,59,0],[74,17,59,15,"useAutoUpdate"],[74,30,59,28],[75,0,59,29],[75,3]],"functionMap":{"names":["<global>","useAutoUpdate","useEffect$argument_0","poll","<anonymous>"],"mappings":"AAA;sBCW;YCG;iBCU;KDoB;WEO;KFG;GDC;CDC"},"hasCjsExports":false},"type":"js/module"}]}