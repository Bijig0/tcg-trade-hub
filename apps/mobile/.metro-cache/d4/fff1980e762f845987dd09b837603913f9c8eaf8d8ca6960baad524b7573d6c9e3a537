{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var CONDITION_MAP = {\n    'near mint': 'nm',\n    'nm': 'nm',\n    'lightly played': 'lp',\n    'lp': 'lp',\n    'moderately played': 'mp',\n    'mp': 'mp',\n    'heavily played': 'hp',\n    'hp': 'hp',\n    'damaged': 'dmg',\n    'dmg': 'dmg'\n  };\n  var GRADING_MAP = {\n    'psa': 'psa',\n    'cgc': 'cgc',\n    'bgs': 'bgs',\n    'beckett': 'bgs'\n  };\n\n  /**\n   * Parses a CSV string into collection items.\n   * Supports common CSV formats from TCGPlayer and Moxfield exports,\n   * plus grading and purchase price columns.\n   */\n  var parseCsvCollection = csvText => {\n    var lines = csvText.trim().split('\\n');\n    if (lines.length < 2) return [];\n    var headerLine = lines[0];\n    var headers = headerLine.split(',').map(h => h.trim().toLowerCase().replace(/\"/g, ''));\n    var nameIdx = headers.findIndex(h => h === 'name' || h === 'card name' || h === 'card');\n    var setIdx = headers.findIndex(h => h === 'set' || h === 'set name' || h === 'edition');\n    var numberIdx = headers.findIndex(h => h === 'number' || h === 'card number' || h === 'collector number');\n    var condIdx = headers.findIndex(h => h === 'condition' || h === 'cond');\n    var qtyIdx = headers.findIndex(h => h === 'quantity' || h === 'qty' || h === 'count');\n    var gradingIdx = headers.findIndex(h => h === 'grading_company' || h === 'grading' || h === 'grader');\n    var gradeIdx = headers.findIndex(h => h === 'grading_score' || h === 'grade' || h === 'score');\n    var priceIdx = headers.findIndex(h => h === 'price' || h === 'purchase_price' || h === 'cost');\n    if (nameIdx === -1) return [];\n    var items = [];\n    for (var i = 1; i < lines.length; i++) {\n      var line = lines[i].trim();\n      if (!line) continue;\n      var cols = line.split(',').map(c => c.trim().replace(/\"/g, ''));\n      var name = cols[nameIdx];\n      if (!name) continue;\n      var rawCondition = condIdx >= 0 ? cols[condIdx]?.toLowerCase() ?? '' : '';\n      var condition = CONDITION_MAP[rawCondition] ?? 'nm';\n      var rawQty = qtyIdx >= 0 ? cols[qtyIdx] : '1';\n      var quantity = Math.max(1, parseInt(rawQty ?? '1', 10) || 1);\n      var rawGrading = gradingIdx >= 0 ? cols[gradingIdx]?.toLowerCase() ?? '' : '';\n      var grading_company = GRADING_MAP[rawGrading] ?? null;\n      var grading_score = gradeIdx >= 0 && cols[gradeIdx] ? cols[gradeIdx] : null;\n      var rawPrice = priceIdx >= 0 ? cols[priceIdx] : '';\n      var parsedPrice = rawPrice ? parseFloat(rawPrice) : NaN;\n      var purchase_price = !isNaN(parsedPrice) ? parsedPrice : null;\n      items.push({\n        card_name: name,\n        set_name: setIdx >= 0 ? cols[setIdx] ?? '' : '',\n        card_number: numberIdx >= 0 ? cols[numberIdx] ?? '' : '',\n        condition,\n        quantity,\n        grading_company,\n        grading_score,\n        purchase_price\n      });\n    }\n    return items;\n  };\n  var _default = parseCsvCollection;\n});","lineCount":82,"map":[[7,2,97,0,"Object"],[7,8,97,0],[7,9,97,0,"defineProperty"],[7,23,97,0],[7,24,97,0,"exports"],[7,31,97,0],[8,4,97,0,"enumerable"],[8,14,97,0],[9,4,97,0,"get"],[9,7,97,0],[9,18,97,0,"get"],[9,19,97,0],[10,6,97,0],[10,13,97,0,"_default"],[10,21,97,0],[11,4,97,0],[12,2,97,0],[13,2,14,0],[13,6,14,6,"CONDITION_MAP"],[13,19,14,50],[13,22,14,53],[14,4,15,2],[14,15,15,13],[14,17,15,15],[14,21,15,19],[15,4,16,2],[15,8,16,6],[15,10,16,8],[15,14,16,12],[16,4,17,2],[16,20,17,18],[16,22,17,20],[16,26,17,24],[17,4,18,2],[17,8,18,6],[17,10,18,8],[17,14,18,12],[18,4,19,2],[18,23,19,21],[18,25,19,23],[18,29,19,27],[19,4,20,2],[19,8,20,6],[19,10,20,8],[19,14,20,12],[20,4,21,2],[20,20,21,18],[20,22,21,20],[20,26,21,24],[21,4,22,2],[21,8,22,6],[21,10,22,8],[21,14,22,12],[22,4,23,2],[22,13,23,11],[22,15,23,13],[22,20,23,18],[23,4,24,2],[23,9,24,7],[23,11,24,9],[24,2,25,0],[24,3,25,1],[25,2,27,0],[25,6,27,6,"GRADING_MAP"],[25,17,27,49],[25,20,27,52],[26,4,28,2],[26,9,28,7],[26,11,28,9],[26,16,28,14],[27,4,29,2],[27,9,29,7],[27,11,29,9],[27,16,29,14],[28,4,30,2],[28,9,30,7],[28,11,30,9],[28,16,30,14],[29,4,31,2],[29,13,31,11],[29,15,31,13],[30,2,32,0],[30,3,32,1],[32,2,34,0],[33,0,35,0],[34,0,36,0],[35,0,37,0],[36,0,38,0],[37,2,39,0],[37,6,39,6,"parseCsvCollection"],[37,24,39,24],[37,27,39,28,"csvText"],[37,34,39,43],[37,38,39,72],[38,4,40,2],[38,8,40,8,"lines"],[38,13,40,13],[38,16,40,16,"csvText"],[38,23,40,23],[38,24,40,24,"trim"],[38,28,40,28],[38,29,40,29],[38,30,40,30],[38,31,40,31,"split"],[38,36,40,36],[38,37,40,37],[38,41,40,41],[38,42,40,42],[39,4,41,2],[39,8,41,6,"lines"],[39,13,41,11],[39,14,41,12,"length"],[39,20,41,18],[39,23,41,21],[39,24,41,22],[39,26,41,24],[39,33,41,31],[39,35,41,33],[40,4,43,2],[40,8,43,8,"headerLine"],[40,18,43,18],[40,21,43,21,"lines"],[40,26,43,26],[40,27,43,27],[40,28,43,28],[40,29,43,30],[41,4,44,2],[41,8,44,8,"headers"],[41,15,44,15],[41,18,44,18,"headerLine"],[41,28,44,28],[41,29,44,29,"split"],[41,34,44,34],[41,35,44,35],[41,38,44,38],[41,39,44,39],[41,40,44,40,"map"],[41,43,44,43],[41,44,44,45,"h"],[41,45,44,46],[41,49,44,51,"h"],[41,50,44,52],[41,51,44,53,"trim"],[41,55,44,57],[41,56,44,58],[41,57,44,59],[41,58,44,60,"toLowerCase"],[41,69,44,71],[41,70,44,72],[41,71,44,73],[41,72,44,74,"replace"],[41,79,44,81],[41,80,44,82],[41,84,44,86],[41,86,44,88],[41,88,44,90],[41,89,44,91],[41,90,44,92],[42,4,46,2],[42,8,46,8,"nameIdx"],[42,15,46,15],[42,18,46,18,"headers"],[42,25,46,25],[42,26,46,26,"findIndex"],[42,35,46,35],[42,36,46,37,"h"],[42,37,46,38],[42,41,46,43,"h"],[42,42,46,44],[42,47,46,49],[42,53,46,55],[42,57,46,59,"h"],[42,58,46,60],[42,63,46,65],[42,74,46,76],[42,78,46,80,"h"],[42,79,46,81],[42,84,46,86],[42,90,46,92],[42,91,46,93],[43,4,47,2],[43,8,47,8,"setIdx"],[43,14,47,14],[43,17,47,17,"headers"],[43,24,47,24],[43,25,47,25,"findIndex"],[43,34,47,34],[43,35,47,36,"h"],[43,36,47,37],[43,40,47,42,"h"],[43,41,47,43],[43,46,47,48],[43,51,47,53],[43,55,47,57,"h"],[43,56,47,58],[43,61,47,63],[43,71,47,73],[43,75,47,77,"h"],[43,76,47,78],[43,81,47,83],[43,90,47,92],[43,91,47,93],[44,4,48,2],[44,8,48,8,"numberIdx"],[44,17,48,17],[44,20,48,20,"headers"],[44,27,48,27],[44,28,48,28,"findIndex"],[44,37,48,37],[44,38,48,39,"h"],[44,39,48,40],[44,43,48,45,"h"],[44,44,48,46],[44,49,48,51],[44,57,48,59],[44,61,48,63,"h"],[44,62,48,64],[44,67,48,69],[44,80,48,82],[44,84,48,86,"h"],[44,85,48,87],[44,90,48,92],[44,108,48,110],[44,109,48,111],[45,4,49,2],[45,8,49,8,"condIdx"],[45,15,49,15],[45,18,49,18,"headers"],[45,25,49,25],[45,26,49,26,"findIndex"],[45,35,49,35],[45,36,49,37,"h"],[45,37,49,38],[45,41,49,43,"h"],[45,42,49,44],[45,47,49,49],[45,58,49,60],[45,62,49,64,"h"],[45,63,49,65],[45,68,49,70],[45,74,49,76],[45,75,49,77],[46,4,50,2],[46,8,50,8,"qtyIdx"],[46,14,50,14],[46,17,50,17,"headers"],[46,24,50,24],[46,25,50,25,"findIndex"],[46,34,50,34],[46,35,50,36,"h"],[46,36,50,37],[46,40,50,42,"h"],[46,41,50,43],[46,46,50,48],[46,56,50,58],[46,60,50,62,"h"],[46,61,50,63],[46,66,50,68],[46,71,50,73],[46,75,50,77,"h"],[46,76,50,78],[46,81,50,83],[46,88,50,90],[46,89,50,91],[47,4,51,2],[47,8,51,8,"gradingIdx"],[47,18,51,18],[47,21,51,21,"headers"],[47,28,51,28],[47,29,51,29,"findIndex"],[47,38,51,38],[47,39,51,40,"h"],[47,40,51,41],[47,44,51,46,"h"],[47,45,51,47],[47,50,51,52],[47,67,51,69],[47,71,51,73,"h"],[47,72,51,74],[47,77,51,79],[47,86,51,88],[47,90,51,92,"h"],[47,91,51,93],[47,96,51,98],[47,104,51,106],[47,105,51,107],[48,4,52,2],[48,8,52,8,"gradeIdx"],[48,16,52,16],[48,19,52,19,"headers"],[48,26,52,26],[48,27,52,27,"findIndex"],[48,36,52,36],[48,37,52,38,"h"],[48,38,52,39],[48,42,52,44,"h"],[48,43,52,45],[48,48,52,50],[48,63,52,65],[48,67,52,69,"h"],[48,68,52,70],[48,73,52,75],[48,80,52,82],[48,84,52,86,"h"],[48,85,52,87],[48,90,52,92],[48,97,52,99],[48,98,52,100],[49,4,53,2],[49,8,53,8,"priceIdx"],[49,16,53,16],[49,19,53,19,"headers"],[49,26,53,26],[49,27,53,27,"findIndex"],[49,36,53,36],[49,37,53,38,"h"],[49,38,53,39],[49,42,53,44,"h"],[49,43,53,45],[49,48,53,50],[49,55,53,57],[49,59,53,61,"h"],[49,60,53,62],[49,65,53,67],[49,81,53,83],[49,85,53,87,"h"],[49,86,53,88],[49,91,53,93],[49,97,53,99],[49,98,53,100],[50,4,55,2],[50,8,55,6,"nameIdx"],[50,15,55,13],[50,20,55,18],[50,21,55,19],[50,22,55,20],[50,24,55,22],[50,31,55,29],[50,33,55,31],[51,4,57,2],[51,8,57,8,"items"],[51,13,57,37],[51,16,57,40],[51,18,57,42],[52,4,59,2],[52,9,59,7],[52,13,59,11,"i"],[52,14,59,12],[52,17,59,15],[52,18,59,16],[52,20,59,18,"i"],[52,21,59,19],[52,24,59,22,"lines"],[52,29,59,27],[52,30,59,28,"length"],[52,36,59,34],[52,38,59,36,"i"],[52,39,59,37],[52,41,59,39],[52,43,59,41],[53,6,60,4],[53,10,60,10,"line"],[53,14,60,14],[53,17,60,17,"lines"],[53,22,60,22],[53,23,60,23,"i"],[53,24,60,24],[53,25,60,25],[53,26,60,27,"trim"],[53,30,60,31],[53,31,60,32],[53,32,60,33],[54,6,61,4],[54,10,61,8],[54,11,61,9,"line"],[54,15,61,13],[54,17,61,15],[55,6,63,4],[55,10,63,10,"cols"],[55,14,63,14],[55,17,63,17,"line"],[55,21,63,21],[55,22,63,22,"split"],[55,27,63,27],[55,28,63,28],[55,31,63,31],[55,32,63,32],[55,33,63,33,"map"],[55,36,63,36],[55,37,63,38,"c"],[55,38,63,39],[55,42,63,44,"c"],[55,43,63,45],[55,44,63,46,"trim"],[55,48,63,50],[55,49,63,51],[55,50,63,52],[55,51,63,53,"replace"],[55,58,63,60],[55,59,63,61],[55,63,63,65],[55,65,63,67],[55,67,63,69],[55,68,63,70],[55,69,63,71],[56,6,64,4],[56,10,64,10,"name"],[56,14,64,14],[56,17,64,17,"cols"],[56,21,64,21],[56,22,64,22,"nameIdx"],[56,29,64,29],[56,30,64,30],[57,6,65,4],[57,10,65,8],[57,11,65,9,"name"],[57,15,65,13],[57,17,65,15],[58,6,67,4],[58,10,67,10,"rawCondition"],[58,22,67,22],[58,25,67,25,"condIdx"],[58,32,67,32],[58,36,67,36],[58,37,67,37],[58,40,67,40,"cols"],[58,44,67,44],[58,45,67,45,"condIdx"],[58,52,67,52],[58,53,67,53],[58,55,67,55,"toLowerCase"],[58,66,67,66],[58,67,67,67],[58,68,67,68],[58,72,67,72],[58,74,67,74],[58,77,67,77],[58,79,67,79],[59,6,68,4],[59,10,68,10,"condition"],[59,19,68,19],[59,22,68,22,"CONDITION_MAP"],[59,35,68,35],[59,36,68,36,"rawCondition"],[59,48,68,48],[59,49,68,49],[59,53,68,53],[59,57,68,57],[60,6,70,4],[60,10,70,10,"rawQty"],[60,16,70,16],[60,19,70,19,"qtyIdx"],[60,25,70,25],[60,29,70,29],[60,30,70,30],[60,33,70,33,"cols"],[60,37,70,37],[60,38,70,38,"qtyIdx"],[60,44,70,44],[60,45,70,45],[60,48,70,48],[60,51,70,51],[61,6,71,4],[61,10,71,10,"quantity"],[61,18,71,18],[61,21,71,21,"Math"],[61,25,71,25],[61,26,71,26,"max"],[61,29,71,29],[61,30,71,30],[61,31,71,31],[61,33,71,33,"parseInt"],[61,41,71,41],[61,42,71,42,"rawQty"],[61,48,71,48],[61,52,71,52],[61,55,71,55],[61,57,71,57],[61,59,71,59],[61,60,71,60],[61,64,71,64],[61,65,71,65],[61,66,71,66],[62,6,73,4],[62,10,73,10,"rawGrading"],[62,20,73,20],[62,23,73,23,"gradingIdx"],[62,33,73,33],[62,37,73,37],[62,38,73,38],[62,41,73,41,"cols"],[62,45,73,45],[62,46,73,46,"gradingIdx"],[62,56,73,56],[62,57,73,57],[62,59,73,59,"toLowerCase"],[62,70,73,70],[62,71,73,71],[62,72,73,72],[62,76,73,76],[62,78,73,78],[62,81,73,81],[62,83,73,83],[63,6,74,4],[63,10,74,10,"grading_company"],[63,25,74,25],[63,28,74,28,"GRADING_MAP"],[63,39,74,39],[63,40,74,40,"rawGrading"],[63,50,74,50],[63,51,74,51],[63,55,74,55],[63,59,74,59],[64,6,76,4],[64,10,76,10,"grading_score"],[64,23,76,23],[64,26,76,26,"gradeIdx"],[64,34,76,34],[64,38,76,38],[64,39,76,39],[64,43,76,43,"cols"],[64,47,76,47],[64,48,76,48,"gradeIdx"],[64,56,76,56],[64,57,76,57],[64,60,76,60,"cols"],[64,64,76,64],[64,65,76,65,"gradeIdx"],[64,73,76,73],[64,74,76,74],[64,77,76,78],[64,81,76,82],[65,6,78,4],[65,10,78,10,"rawPrice"],[65,18,78,18],[65,21,78,21,"priceIdx"],[65,29,78,29],[65,33,78,33],[65,34,78,34],[65,37,78,37,"cols"],[65,41,78,41],[65,42,78,42,"priceIdx"],[65,50,78,50],[65,51,78,51],[65,54,78,54],[65,56,78,56],[66,6,79,4],[66,10,79,10,"parsedPrice"],[66,21,79,21],[66,24,79,24,"rawPrice"],[66,32,79,32],[66,35,79,35,"parseFloat"],[66,45,79,45],[66,46,79,46,"rawPrice"],[66,54,79,54],[66,55,79,55],[66,58,79,58,"NaN"],[66,61,79,61],[67,6,80,4],[67,10,80,10,"purchase_price"],[67,24,80,24],[67,27,80,27],[67,28,80,28,"isNaN"],[67,33,80,33],[67,34,80,34,"parsedPrice"],[67,45,80,45],[67,46,80,46],[67,49,80,49,"parsedPrice"],[67,60,80,60],[67,63,80,63],[67,67,80,67],[68,6,82,4,"items"],[68,11,82,9],[68,12,82,10,"push"],[68,16,82,14],[68,17,82,15],[69,8,83,6,"card_name"],[69,17,83,15],[69,19,83,17,"name"],[69,23,83,21],[70,8,84,6,"set_name"],[70,16,84,14],[70,18,84,16,"setIdx"],[70,24,84,22],[70,28,84,26],[70,29,84,27],[70,32,84,30,"cols"],[70,36,84,34],[70,37,84,35,"setIdx"],[70,43,84,41],[70,44,84,42],[70,48,84,46],[70,50,84,48],[70,53,84,51],[70,55,84,53],[71,8,85,6,"card_number"],[71,19,85,17],[71,21,85,19,"numberIdx"],[71,30,85,28],[71,34,85,32],[71,35,85,33],[71,38,85,36,"cols"],[71,42,85,40],[71,43,85,41,"numberIdx"],[71,52,85,50],[71,53,85,51],[71,57,85,55],[71,59,85,57],[71,62,85,60],[71,64,85,62],[72,8,86,6,"condition"],[72,17,86,15],[73,8,87,6,"quantity"],[73,16,87,14],[74,8,88,6,"grading_company"],[74,23,88,21],[75,8,89,6,"grading_score"],[75,21,89,19],[76,8,90,6,"purchase_price"],[77,6,91,4],[77,7,91,5],[77,8,91,6],[78,4,92,2],[79,4,94,2],[79,11,94,9,"items"],[79,16,94,14],[80,2,95,0],[80,3,95,1],[81,2,97,0],[81,6,97,0,"_default"],[81,14,97,0],[81,17,97,15,"parseCsvCollection"],[81,35,97,33],[82,0,97,34],[82,3]],"functionMap":{"names":["<global>","parseCsvCollection","headerLine.split.map$argument_0","headers.findIndex$argument_0","line.split.map$argument_0"],"mappings":"AAA;2BCsC;4CCK,+CD;oCEE,wDF;mCEC,yDF;sCEC,wEF;oCEC,wCF;mCEC,uDF;uCEC,mEF;qCEC,8DF;qCEC,8DF;qCGU,iCH;CDgC"},"hasCjsExports":false},"type":"js/module"}]}