{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":37,"index":90}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":91},"end":{"line":3,"column":42,"index":133}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":134},"end":{"line":4,"column":49,"index":183}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  var _libSupabase = require(_dependencyMap[3], \"@/lib/supabase\");\n  var _contextAuthProvider = require(_dependencyMap[4], \"@/context/AuthProvider\");\n  /**\n   * Hook that submits a report by inserting into the reports table.\n   * Shows a success toast on completion.\n   */\n  var useReportUser = function useReportUser() {\n    _s();\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    return (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _mutationFn = (0, _asyncToGenerator.default)(function* (_ref) {\n          var reportedUserId = _ref.reportedUserId,\n            reportedMessageId = _ref.reportedMessageId,\n            category = _ref.category,\n            description = _ref.description;\n          if (!user) throw new Error('Not authenticated');\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('reports').insert({\n              reporter_id: user.id,\n              reported_user_id: reportedUserId,\n              reported_message_id: reportedMessageId != null ? reportedMessageId : null,\n              category: category,\n              description: (description == null ? void 0 : description.trim()) || null\n            }),\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n        });\n        function mutationFn(_x) {\n          return _mutationFn.apply(this, arguments);\n        }\n        return mutationFn;\n      }(),\n      onSuccess: function onSuccess() {\n        _reactNative.Alert.alert('Report Submitted', 'Thank you. Our team will review your report.');\n      },\n      onError: function onError(error) {\n        var _error$message;\n        _reactNative.Alert.alert('Error', (_error$message = error.message) != null ? _error$message : 'Failed to submit report');\n      }\n    });\n  };\n  _s(useReportUser, \"+F9KD/mzabEgWRv3/fn0V/Yp/38=\", false, function () {\n    return [_contextAuthProvider.useAuth, _tanstackReactQuery.useMutation];\n  });\n  var _default = useReportUser;\n});","lineCount":69,"map":[[13,2,49,0,"Object"],[13,8,49,0],[13,9,49,0,"defineProperty"],[13,23,49,0],[13,24,49,0,"exports"],[13,31,49,0],[14,4,49,0,"enumerable"],[14,14,49,0],[15,4,49,0,"get"],[15,7,49,0],[15,18,49,0,"get"],[15,19,49,0],[16,6,49,0],[16,13,49,0,"_default"],[16,21,49,0],[17,4,49,0],[18,2,49,0],[19,2,49,29],[19,6,49,29,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,49,29],[19,45,49,29,"require"],[19,52,49,29],[19,53,49,29,"_dependencyMap"],[19,67,49,29],[20,2,49,29],[20,6,49,29,"_asyncToGenerator"],[20,23,49,29],[20,26,49,29,"_interopDefault"],[20,41,49,29],[20,42,49,29,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,49,29],[21,2,1,0],[21,6,1,0,"_tanstackReactQuery"],[21,25,1,0],[21,28,1,0,"require"],[21,35,1,0],[21,36,1,0,"_dependencyMap"],[21,50,1,0],[22,2,2,0],[22,6,2,0,"_reactNative"],[22,18,2,0],[22,21,2,0,"require"],[22,28,2,0],[22,29,2,0,"_dependencyMap"],[22,43,2,0],[23,2,3,0],[23,6,3,0,"_libSupabase"],[23,18,3,0],[23,21,3,0,"require"],[23,28,3,0],[23,29,3,0,"_dependencyMap"],[23,43,3,0],[24,2,4,0],[24,6,4,0,"_contextAuthProvider"],[24,26,4,0],[24,29,4,0,"require"],[24,36,4,0],[24,37,4,0,"_dependencyMap"],[24,51,4,0],[25,2,14,0],[26,0,15,0],[27,0,16,0],[28,0,17,0],[29,2,18,0],[29,6,18,6,"useReportUser"],[29,19,18,19],[29,22,18,22],[29,31,18,6,"useReportUser"],[29,44,18,19,"useReportUser"],[29,45,18,19],[29,47,18,28],[30,4,18,28,"_s"],[30,6,18,28],[31,4,19,2],[31,8,19,2,"_useAuth"],[31,16,19,2],[31,19,19,19],[31,23,19,19,"useAuth"],[31,43,19,26],[31,44,19,26,"useAuth"],[31,51,19,26],[31,53,19,27],[31,54,19,28],[32,6,19,10,"user"],[32,10,19,14],[32,13,19,14,"_useAuth"],[32,21,19,14],[32,22,19,10,"user"],[32,26,19,14],[33,4,21,2],[33,11,21,9],[33,15,21,9,"useMutation"],[33,34,21,20],[33,35,21,20,"useMutation"],[33,46,21,20],[33,48,21,21],[34,6,22,4,"mutationFn"],[34,16,22,14],[35,8,22,14],[35,12,22,14,"_mutationFn"],[35,23,22,14],[35,30,22,14,"_asyncToGenerator"],[35,47,22,14],[35,48,22,14,"default"],[35,55,22,14],[35,57,22,16],[35,68,22,16,"_ref"],[35,72,22,16],[35,74,27,28],[36,10,27,28],[36,14,23,6,"reportedUserId"],[36,28,23,20],[36,31,23,20,"_ref"],[36,35,23,20],[36,36,23,6,"reportedUserId"],[36,50,23,20],[37,12,24,6,"reportedMessageId"],[37,29,24,23],[37,32,24,23,"_ref"],[37,36,24,23],[37,37,24,6,"reportedMessageId"],[37,54,24,23],[38,12,25,6,"category"],[38,20,25,14],[38,23,25,14,"_ref"],[38,27,25,14],[38,28,25,6,"category"],[38,36,25,14],[39,12,26,6,"description"],[39,23,26,17],[39,26,26,17,"_ref"],[39,30,26,17],[39,31,26,6,"description"],[39,42,26,17],[40,10,28,6],[40,14,28,10],[40,15,28,11,"user"],[40,19,28,15],[40,21,28,17],[40,27,28,23],[40,31,28,27,"Error"],[40,36,28,32],[40,37,28,33],[40,56,28,52],[40,57,28,53],[41,10,30,6],[41,14,30,6,"_yield$supabase$from$"],[41,35,30,6],[41,44,30,30,"supabase"],[41,56,30,38],[41,57,30,38,"supabase"],[41,65,30,38],[41,66,30,39,"from"],[41,70,30,43],[41,71,30,44],[41,80,30,53],[41,81,30,54],[41,82,30,55,"insert"],[41,88,30,61],[41,89,30,62],[42,14,31,8,"reporter_id"],[42,25,31,19],[42,27,31,21,"user"],[42,31,31,25],[42,32,31,26,"id"],[42,34,31,28],[43,14,32,8,"reported_user_id"],[43,30,32,24],[43,32,32,26,"reportedUserId"],[43,46,32,40],[44,14,33,8,"reported_message_id"],[44,33,33,27],[44,35,33,29,"reportedMessageId"],[44,52,33,46],[44,63,33,29,"reportedMessageId"],[44,80,33,46],[44,83,33,50],[44,87,33,54],[45,14,34,8,"category"],[45,22,34,16],[45,24,34,8,"category"],[45,32,34,16],[46,14,35,8,"description"],[46,25,35,19],[46,27,35,21],[46,28,35,21,"description"],[46,39,35,32],[46,59,35,21,"description"],[46,70,35,32],[46,71,35,34,"trim"],[46,75,35,38],[46,76,35,39],[46,77,35,40],[46,82,35,44],[47,12,36,6],[47,13,36,7],[47,14,36,8],[48,12,30,14,"error"],[48,17,30,19],[48,20,30,19,"_yield$supabase$from$"],[48,41,30,19],[48,42,30,14,"error"],[48,47,30,19],[49,10,38,6],[49,14,38,10,"error"],[49,19,38,15],[49,21,38,17],[49,27,38,23,"error"],[49,32,38,28],[50,8,39,4],[50,9,39,5],[51,8,39,5],[51,17,22,4,"mutationFn"],[51,27,22,14,"mutationFn"],[51,28,22,14,"_x"],[51,30,22,14],[52,10,22,14],[52,17,22,14,"_mutationFn"],[52,28,22,14],[52,29,22,14,"apply"],[52,34,22,14],[52,41,22,14,"arguments"],[52,50,22,14],[53,8,22,14],[54,8,22,14],[54,15,22,4,"mutationFn"],[54,25,22,14],[55,6,22,14],[55,9,39,5],[56,6,40,4,"onSuccess"],[56,15,40,13],[56,17,40,15],[56,26,40,4,"onSuccess"],[56,35,40,13,"onSuccess"],[56,36,40,13],[56,38,40,21],[57,8,41,6,"Alert"],[57,20,41,11],[57,21,41,11,"Alert"],[57,26,41,11],[57,27,41,12,"alert"],[57,32,41,17],[57,33,41,18],[57,51,41,36],[57,53,41,38],[57,99,41,84],[57,100,41,85],[58,6,42,4],[58,7,42,5],[59,6,43,4,"onError"],[59,13,43,11],[59,15,43,13],[59,24,43,4,"onError"],[59,31,43,11,"onError"],[59,32,43,14,"error"],[59,37,43,26],[59,39,43,31],[60,8,43,31],[60,12,43,31,"_error$message"],[60,26,43,31],[61,8,44,6,"Alert"],[61,20,44,11],[61,21,44,11,"Alert"],[61,26,44,11],[61,27,44,12,"alert"],[61,32,44,17],[61,33,44,18],[61,40,44,25],[61,43,44,25,"_error$message"],[61,57,44,25],[61,60,44,27,"error"],[61,65,44,32],[61,66,44,33,"message"],[61,73,44,40],[61,85,44,40,"_error$message"],[61,99,44,40],[61,102,44,44],[61,127,44,69],[61,128,44,70],[62,6,45,4],[63,4,46,2],[63,5,46,3],[63,6,46,4],[64,2,47,0],[64,3,47,1],[65,2,47,2,"_s"],[65,4,47,2],[65,5,18,6,"useReportUser"],[65,18,18,19],[66,4,18,19],[66,12,19,19,"useAuth"],[66,32,19,26],[66,33,19,26,"useAuth"],[66,40,19,26],[66,42,21,9,"useMutation"],[66,61,21,20],[66,62,21,20,"useMutation"],[66,73,21,20],[67,2,21,20],[68,2,49,0],[68,6,49,0,"_default"],[68,14,49,0],[68,17,49,15,"useReportUser"],[68,30,49,28],[69,0,49,29],[69,3]],"functionMap":{"names":["<global>","useReportUser","useMutation$argument_0.mutationFn","useMutation$argument_0.onSuccess","useMutation$argument_0.onError"],"mappings":"AAA;sBCiB;gBCI;KDiB;eEC;KFE;aGC;KHE;CDE"},"hasCjsExports":false},"type":"js/module"}]}