{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":55,"index":99}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/features/feed","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":100},"end":{"line":3,"column":63,"index":163}}],"key":"wRY+r5QveRYeql0BMcgm8SbEGjg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _react = require(_dependencyMap[0]);\n  var _tanstackReactQuery = require(_dependencyMap[1]);\n  var _featuresFeed = require(_dependencyMap[2]);\n  var MAX_PREFETCH = 5;\n\n  /**\n   * Prefetches listing detail data for the top active listings so that\n   * navigating to MyListingDetailScreen feels instant.\n   *\n   * Filters for `status === 'active'`, takes the first 5, and calls\n   * `queryClient.prefetchQuery` for each using the feed detail query key.\n   */\n  var usePrefetchActiveListingDetails = listings => {\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    var activeIds = (0, _react.useMemo)(() => {\n      if (!listings) return [];\n      return listings.filter(l => l.status === 'active').slice(0, MAX_PREFETCH).map(l => l.id);\n    }, [listings]);\n    var cacheKey = activeIds.join(',');\n    (0, _react.useEffect)(() => {\n      if (activeIds.length === 0) return;\n      var _loop = function (id) {\n        queryClient.prefetchQuery({\n          queryKey: _featuresFeed.feedKeys.detail(id),\n          queryFn: () => (0, _featuresFeed.fetchListingDetail)(id)\n        });\n      };\n      for (var id of activeIds) {\n        _loop(id);\n      }\n    }, [cacheKey, queryClient]); // eslint-disable-line react-hooks/exhaustive-deps\n  };\n  var _default = usePrefetchActiveListingDetails;\n});","lineCount":46,"map":[[7,2,40,0,"Object"],[7,8,40,0],[7,9,40,0,"defineProperty"],[7,23,40,0],[7,24,40,0,"exports"],[7,31,40,0],[8,4,40,0,"enumerable"],[8,14,40,0],[9,4,40,0,"get"],[9,7,40,0],[9,18,40,0,"get"],[9,19,40,0],[10,6,40,0],[10,13,40,0,"_default"],[10,21,40,0],[11,4,40,0],[12,2,40,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_tanstackReactQuery"],[14,25,2,0],[14,28,2,0,"require"],[14,35,2,0],[14,36,2,0,"_dependencyMap"],[14,50,2,0],[15,2,3,0],[15,6,3,0,"_featuresFeed"],[15,19,3,0],[15,22,3,0,"require"],[15,29,3,0],[15,30,3,0,"_dependencyMap"],[15,44,3,0],[16,2,6,0],[16,6,6,6,"MAX_PREFETCH"],[16,18,6,18],[16,21,6,21],[16,22,6,22],[18,2,8,0],[19,0,9,0],[20,0,10,0],[21,0,11,0],[22,0,12,0],[23,0,13,0],[24,0,14,0],[25,2,15,0],[25,6,15,6,"usePrefetchActiveListingDetails"],[25,37,15,37],[25,40,15,41,"listings"],[25,48,15,84],[25,52,15,89],[26,4,16,2],[26,8,16,8,"queryClient"],[26,19,16,19],[26,22,16,22],[26,26,16,22,"useQueryClient"],[26,45,16,36],[26,46,16,36,"useQueryClient"],[26,60,16,36],[26,62,16,37],[26,63,16,38],[27,4,18,2],[27,8,18,8,"activeIds"],[27,17,18,17],[27,20,18,20],[27,24,18,20,"useMemo"],[27,30,18,27],[27,31,18,27,"useMemo"],[27,38,18,27],[27,40,18,28],[27,46,18,34],[28,6,19,4],[28,10,19,8],[28,11,19,9,"listings"],[28,19,19,17],[28,21,19,19],[28,28,19,26],[28,30,19,28],[29,6,20,4],[29,13,20,11,"listings"],[29,21,20,19],[29,22,21,7,"filter"],[29,28,21,13],[29,29,21,15,"l"],[29,30,21,16],[29,34,21,21,"l"],[29,35,21,22],[29,36,21,23,"status"],[29,42,21,29],[29,47,21,34],[29,55,21,42],[29,56,21,43],[29,57,22,7,"slice"],[29,62,22,12],[29,63,22,13],[29,64,22,14],[29,66,22,16,"MAX_PREFETCH"],[29,78,22,28],[29,79,22,29],[29,80,23,7,"map"],[29,83,23,10],[29,84,23,12,"l"],[29,85,23,13],[29,89,23,18,"l"],[29,90,23,19],[29,91,23,20,"id"],[29,93,23,22],[29,94,23,23],[30,4,24,2],[30,5,24,3],[30,7,24,5],[30,8,24,6,"listings"],[30,16,24,14],[30,17,24,15],[30,18,24,16],[31,4,26,2],[31,8,26,8,"cacheKey"],[31,16,26,16],[31,19,26,19,"activeIds"],[31,28,26,28],[31,29,26,29,"join"],[31,33,26,33],[31,34,26,34],[31,37,26,37],[31,38,26,38],[32,4,28,2],[32,8,28,2,"useEffect"],[32,14,28,11],[32,15,28,11,"useEffect"],[32,24,28,11],[32,26,28,12],[32,32,28,18],[33,6,29,4],[33,10,29,8,"activeIds"],[33,19,29,17],[33,20,29,18,"length"],[33,26,29,24],[33,31,29,29],[33,32,29,30],[33,34,29,32],[34,6,29,39],[34,10,29,39,"_loop"],[34,15,29,39],[34,27,29,39,"_loop"],[34,28,29,39,"id"],[34,30,29,39],[34,32,31,32],[35,8,32,6,"queryClient"],[35,19,32,17],[35,20,32,18,"prefetchQuery"],[35,33,32,31],[35,34,32,32],[36,10,33,8,"queryKey"],[36,18,33,16],[36,20,33,18,"feedKeys"],[36,33,33,26],[36,34,33,26,"feedKeys"],[36,42,33,26],[36,43,33,27,"detail"],[36,49,33,33],[36,50,33,34,"id"],[36,52,33,36],[36,53,33,37],[37,10,34,8,"queryFn"],[37,17,34,15],[37,19,34,17,"queryFn"],[37,20,34,17],[37,25,34,23],[37,29,34,23,"fetchListingDetail"],[37,42,34,41],[37,43,34,41,"fetchListingDetail"],[37,61,34,41],[37,63,34,42,"id"],[37,65,34,44],[38,8,35,6],[38,9,35,7],[38,10,35,8],[39,6,36,4],[39,7,36,5],[40,6,31,4],[40,11,31,9],[40,15,31,15,"id"],[40,17,31,17],[40,21,31,21,"activeIds"],[40,30,31,30],[41,8,31,30,"_loop"],[41,13,31,30],[41,14,31,30,"id"],[41,16,31,30],[42,6,31,30],[43,4,37,2],[43,5,37,3],[43,7,37,5],[43,8,37,6,"cacheKey"],[43,16,37,14],[43,18,37,16,"queryClient"],[43,29,37,27],[43,30,37,28],[43,31,37,29],[43,32,37,30],[43,33,37,31],[44,2,38,0],[44,3,38,1],[45,2,40,0],[45,6,40,0,"_default"],[45,14,40,0],[45,17,40,15,"usePrefetchActiveListingDetails"],[45,48,40,46],[46,0,40,47],[46,3]],"functionMap":{"names":["<global>","usePrefetchActiveListingDetails","useMemo$argument_0","listings.filter$argument_0","listings.filter.slice.map$argument_0","useEffect$argument_0","queryClient.prefetchQuery$argument_0.queryFn"],"mappings":"AAA;wCCc;4BCG;cCG,4BD;WEE,WF;GDC;YII;iBCM,4BD;GJG;CDC"},"hasCjsExports":false},"type":"js/module"}]}