{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":55,"index":99}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/features/feed","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":100},"end":{"line":3,"column":63,"index":163}}],"key":"wRY+r5QveRYeql0BMcgm8SbEGjg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _featuresFeed = require(_dependencyMap[2], \"@/features/feed\");\n  var MAX_PREFETCH = 5;\n\n  /**\n   * Prefetches listing detail data for the top active listings so that\n   * navigating to MyListingDetailScreen feels instant.\n   *\n   * Filters for `status === 'active'`, takes the first 5, and calls\n   * `queryClient.prefetchQuery` for each using the feed detail query key.\n   */\n  var usePrefetchActiveListingDetails = listings => {\n    _s();\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    var activeIds = (0, _react.useMemo)(() => {\n      if (!listings) return [];\n      return listings.filter(l => l.status === 'active').slice(0, MAX_PREFETCH).map(l => l.id);\n    }, [listings]);\n    var cacheKey = activeIds.join(',');\n    (0, _react.useEffect)(() => {\n      if (activeIds.length === 0) return;\n      var _loop = function (id) {\n        queryClient.prefetchQuery({\n          queryKey: _featuresFeed.feedKeys.detail(id),\n          queryFn: () => (0, _featuresFeed.fetchListingDetail)(id)\n        });\n      };\n      for (var id of activeIds) {\n        _loop(id);\n      }\n    }, [cacheKey, queryClient]); // eslint-disable-line react-hooks/exhaustive-deps\n  };\n  _s(usePrefetchActiveListingDetails, \"sr4mNWOpc6EXy4s2K/nr3xuhjOM=\", false, function () {\n    return [_tanstackReactQuery.useQueryClient];\n  });\n  var _default = usePrefetchActiveListingDetails;\n});","lineCount":51,"map":[[8,2,40,0,"Object"],[8,8,40,0],[8,9,40,0,"defineProperty"],[8,23,40,0],[8,24,40,0,"exports"],[8,31,40,0],[9,4,40,0,"enumerable"],[9,14,40,0],[10,4,40,0,"get"],[10,7,40,0],[10,18,40,0,"get"],[10,19,40,0],[11,6,40,0],[11,13,40,0,"_default"],[11,21,40,0],[12,4,40,0],[13,2,40,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_tanstackReactQuery"],[15,25,2,0],[15,28,2,0,"require"],[15,35,2,0],[15,36,2,0,"_dependencyMap"],[15,50,2,0],[16,2,3,0],[16,6,3,0,"_featuresFeed"],[16,19,3,0],[16,22,3,0,"require"],[16,29,3,0],[16,30,3,0,"_dependencyMap"],[16,44,3,0],[17,2,6,0],[17,6,6,6,"MAX_PREFETCH"],[17,18,6,18],[17,21,6,21],[17,22,6,22],[19,2,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,2,15,0],[26,6,15,6,"usePrefetchActiveListingDetails"],[26,37,15,37],[26,40,15,41,"listings"],[26,48,15,84],[26,52,15,89],[27,4,15,89,"_s"],[27,6,15,89],[28,4,16,2],[28,8,16,8,"queryClient"],[28,19,16,19],[28,22,16,22],[28,26,16,22,"useQueryClient"],[28,45,16,36],[28,46,16,36,"useQueryClient"],[28,60,16,36],[28,62,16,37],[28,63,16,38],[29,4,18,2],[29,8,18,8,"activeIds"],[29,17,18,17],[29,20,18,20],[29,24,18,20,"useMemo"],[29,30,18,27],[29,31,18,27,"useMemo"],[29,38,18,27],[29,40,18,28],[29,46,18,34],[30,6,19,4],[30,10,19,8],[30,11,19,9,"listings"],[30,19,19,17],[30,21,19,19],[30,28,19,26],[30,30,19,28],[31,6,20,4],[31,13,20,11,"listings"],[31,21,20,19],[31,22,21,7,"filter"],[31,28,21,13],[31,29,21,15,"l"],[31,30,21,16],[31,34,21,21,"l"],[31,35,21,22],[31,36,21,23,"status"],[31,42,21,29],[31,47,21,34],[31,55,21,42],[31,56,21,43],[31,57,22,7,"slice"],[31,62,22,12],[31,63,22,13],[31,64,22,14],[31,66,22,16,"MAX_PREFETCH"],[31,78,22,28],[31,79,22,29],[31,80,23,7,"map"],[31,83,23,10],[31,84,23,12,"l"],[31,85,23,13],[31,89,23,18,"l"],[31,90,23,19],[31,91,23,20,"id"],[31,93,23,22],[31,94,23,23],[32,4,24,2],[32,5,24,3],[32,7,24,5],[32,8,24,6,"listings"],[32,16,24,14],[32,17,24,15],[32,18,24,16],[33,4,26,2],[33,8,26,8,"cacheKey"],[33,16,26,16],[33,19,26,19,"activeIds"],[33,28,26,28],[33,29,26,29,"join"],[33,33,26,33],[33,34,26,34],[33,37,26,37],[33,38,26,38],[34,4,28,2],[34,8,28,2,"useEffect"],[34,14,28,11],[34,15,28,11,"useEffect"],[34,24,28,11],[34,26,28,12],[34,32,28,18],[35,6,29,4],[35,10,29,8,"activeIds"],[35,19,29,17],[35,20,29,18,"length"],[35,26,29,24],[35,31,29,29],[35,32,29,30],[35,34,29,32],[36,6,29,39],[36,10,29,39,"_loop"],[36,15,29,39],[36,27,29,39,"_loop"],[36,28,29,39,"id"],[36,30,29,39],[36,32,31,32],[37,8,32,6,"queryClient"],[37,19,32,17],[37,20,32,18,"prefetchQuery"],[37,33,32,31],[37,34,32,32],[38,10,33,8,"queryKey"],[38,18,33,16],[38,20,33,18,"feedKeys"],[38,33,33,26],[38,34,33,26,"feedKeys"],[38,42,33,26],[38,43,33,27,"detail"],[38,49,33,33],[38,50,33,34,"id"],[38,52,33,36],[38,53,33,37],[39,10,34,8,"queryFn"],[39,17,34,15],[39,19,34,17,"queryFn"],[39,20,34,17],[39,25,34,23],[39,29,34,23,"fetchListingDetail"],[39,42,34,41],[39,43,34,41,"fetchListingDetail"],[39,61,34,41],[39,63,34,42,"id"],[39,65,34,44],[40,8,35,6],[40,9,35,7],[40,10,35,8],[41,6,36,4],[41,7,36,5],[42,6,31,4],[42,11,31,9],[42,15,31,15,"id"],[42,17,31,17],[42,21,31,21,"activeIds"],[42,30,31,30],[43,8,31,30,"_loop"],[43,13,31,30],[43,14,31,30,"id"],[43,16,31,30],[44,6,31,30],[45,4,37,2],[45,5,37,3],[45,7,37,5],[45,8,37,6,"cacheKey"],[45,16,37,14],[45,18,37,16,"queryClient"],[45,29,37,27],[45,30,37,28],[45,31,37,29],[45,32,37,30],[45,33,37,31],[46,2,38,0],[46,3,38,1],[47,2,38,2,"_s"],[47,4,38,2],[47,5,15,6,"usePrefetchActiveListingDetails"],[47,36,15,37],[48,4,15,37],[48,12,16,22,"useQueryClient"],[48,31,16,36],[48,32,16,36,"useQueryClient"],[48,46,16,36],[49,2,16,36],[50,2,40,0],[50,6,40,0,"_default"],[50,14,40,0],[50,17,40,15,"usePrefetchActiveListingDetails"],[50,48,40,46],[51,0,40,47],[51,3]],"functionMap":{"names":["<global>","usePrefetchActiveListingDetails","useMemo$argument_0","listings.filter$argument_0","listings.filter.slice.map$argument_0","useEffect$argument_0","queryClient.prefetchQuery$argument_0.queryFn"],"mappings":"AAA;wCCc;4BCG;cCG,4BD;WEE,WF;GDC;YII;iBCM,4BD;GJG;CDC"},"hasCjsExports":false},"type":"js/module"}]}