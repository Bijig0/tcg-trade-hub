{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":42,"index":92}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":49,"index":142}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1]);\n  var _libSupabase = require(_dependencyMap[2]);\n  var _contextAuthProvider = require(_dependencyMap[3]);\n  /**\n   * Hook that fetches all blocked users for the current user.\n   *\n   * Returns each blocked user's display_name and avatar_url\n   * along with the block record ID and timestamp.\n   */\n  var useBlockedUsers = () => {\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    return (0, _tanstackReactQuery.useQuery)({\n      queryKey: ['blocked-users'],\n      queryFn: function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          if (!user) throw new Error('Not authenticated');\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('blocks').select('id, blocked_id, created_at').eq('blocker_id', user.id).order('created_at', {\n              ascending: false\n            }),\n            blocks = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          if (!blocks || blocks.length === 0) return [];\n\n          // Fetch blocked users' profiles\n          var blockedIds = blocks.map(b => b.blocked_id);\n          var _yield$supabase$from$2 = yield _libSupabase.supabase.from('users').select('id, display_name, avatar_url').in('id', blockedIds),\n            users = _yield$supabase$from$2.data;\n          var usersMap = new Map((users ?? []).map(u => [u.id, u]));\n          return blocks.map(block => {\n            var blockedUser = usersMap.get(block.blocked_id);\n            return {\n              id: block.id,\n              blocked_id: block.blocked_id,\n              display_name: blockedUser?.display_name ?? 'Unknown',\n              avatar_url: blockedUser?.avatar_url ?? null,\n              created_at: block.created_at\n            };\n          });\n        });\n        return function queryFn() {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      enabled: !!user\n    });\n  };\n  var _default = useBlockedUsers;\n});","lineCount":69,"map":[[12,2,62,0,"Object"],[12,8,62,0],[12,9,62,0,"defineProperty"],[12,23,62,0],[12,24,62,0,"exports"],[12,31,62,0],[13,4,62,0,"enumerable"],[13,14,62,0],[14,4,62,0,"get"],[14,7,62,0],[14,18,62,0,"get"],[14,19,62,0],[15,6,62,0],[15,13,62,0,"_default"],[15,21,62,0],[16,4,62,0],[17,2,62,0],[18,2,62,31],[18,6,62,31,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,62,31],[18,45,62,31,"require"],[18,52,62,31],[18,53,62,31,"_dependencyMap"],[18,67,62,31],[19,2,62,31],[19,6,62,31,"_asyncToGenerator"],[19,23,62,31],[19,26,62,31,"_interopDefault"],[19,41,62,31],[19,42,62,31,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,62,31],[20,2,1,0],[20,6,1,0,"_tanstackReactQuery"],[20,25,1,0],[20,28,1,0,"require"],[20,35,1,0],[20,36,1,0,"_dependencyMap"],[20,50,1,0],[21,2,2,0],[21,6,2,0,"_libSupabase"],[21,18,2,0],[21,21,2,0,"require"],[21,28,2,0],[21,29,2,0,"_dependencyMap"],[21,43,2,0],[22,2,3,0],[22,6,3,0,"_contextAuthProvider"],[22,26,3,0],[22,29,3,0,"require"],[22,36,3,0],[22,37,3,0,"_dependencyMap"],[22,51,3,0],[23,2,13,0],[24,0,14,0],[25,0,15,0],[26,0,16,0],[27,0,17,0],[28,0,18,0],[29,2,19,0],[29,6,19,6,"useBlockedUsers"],[29,21,19,21],[29,24,19,24,"useBlockedUsers"],[29,25,19,24],[29,30,19,30],[30,4,20,2],[30,8,20,2,"_useAuth"],[30,16,20,2],[30,19,20,19],[30,23,20,19,"useAuth"],[30,43,20,26],[30,44,20,26,"useAuth"],[30,51,20,26],[30,53,20,27],[30,54,20,28],[31,6,20,10,"user"],[31,10,20,14],[31,13,20,14,"_useAuth"],[31,21,20,14],[31,22,20,10,"user"],[31,26,20,14],[32,4,22,2],[32,11,22,9],[32,15,22,9,"useQuery"],[32,34,22,17],[32,35,22,17,"useQuery"],[32,43,22,17],[32,45,22,40],[33,6,23,4,"queryKey"],[33,14,23,12],[33,16,23,14],[33,17,23,15],[33,32,23,30],[33,33,23,31],[34,6,24,4,"queryFn"],[34,13,24,11],[35,8,24,11],[35,12,24,11,"_ref"],[35,16,24,11],[35,23,24,11,"_asyncToGenerator"],[35,40,24,11],[35,41,24,11,"default"],[35,48,24,11],[35,50,24,13],[35,63,24,25],[36,10,25,6],[36,14,25,10],[36,15,25,11,"user"],[36,19,25,15],[36,21,25,17],[36,27,25,23],[36,31,25,27,"Error"],[36,36,25,32],[36,37,25,33],[36,56,25,52],[36,57,25,53],[37,10,27,6],[37,14,27,6,"_yield$supabase$from$"],[37,35,27,6],[37,44,27,44,"supabase"],[37,56,27,52],[37,57,27,52,"supabase"],[37,65,27,52],[37,66,28,9,"from"],[37,70,28,13],[37,71,28,14],[37,79,28,22],[37,80,28,23],[37,81,29,9,"select"],[37,87,29,15],[37,88,29,16],[37,116,29,44],[37,117,29,45],[37,118,30,9,"eq"],[37,120,30,11],[37,121,30,12],[37,133,30,24],[37,135,30,26,"user"],[37,139,30,30],[37,140,30,31,"id"],[37,142,30,33],[37,143,30,34],[37,144,31,9,"order"],[37,149,31,14],[37,150,31,15],[37,162,31,27],[37,164,31,29],[38,14,31,31,"ascending"],[38,23,31,40],[38,25,31,42],[39,12,31,48],[39,13,31,49],[39,14,31,50],[40,12,27,20,"blocks"],[40,18,27,26],[40,21,27,26,"_yield$supabase$from$"],[40,42,27,26],[40,43,27,14,"data"],[40,47,27,18],[41,12,27,28,"error"],[41,17,27,33],[41,20,27,33,"_yield$supabase$from$"],[41,41,27,33],[41,42,27,28,"error"],[41,47,27,33],[42,10,33,6],[42,14,33,10,"error"],[42,19,33,15],[42,21,33,17],[42,27,33,23,"error"],[42,32,33,28],[43,10,34,6],[43,14,34,10],[43,15,34,11,"blocks"],[43,21,34,17],[43,25,34,21,"blocks"],[43,31,34,27],[43,32,34,28,"length"],[43,38,34,34],[43,43,34,39],[43,44,34,40],[43,46,34,42],[43,53,34,49],[43,55,34,51],[45,10,36,6],[46,10,37,6],[46,14,37,12,"blockedIds"],[46,24,37,22],[46,27,37,25,"blocks"],[46,33,37,31],[46,34,37,32,"map"],[46,37,37,35],[46,38,37,37,"b"],[46,39,37,38],[46,43,37,43,"b"],[46,44,37,44],[46,45,37,45,"blocked_id"],[46,55,37,55],[46,56,37,56],[47,10,38,6],[47,14,38,6,"_yield$supabase$from$2"],[47,36,38,6],[47,45,38,36,"supabase"],[47,57,38,44],[47,58,38,44,"supabase"],[47,66,38,44],[47,67,39,9,"from"],[47,71,39,13],[47,72,39,14],[47,79,39,21],[47,80,39,22],[47,81,40,9,"select"],[47,87,40,15],[47,88,40,16],[47,118,40,46],[47,119,40,47],[47,120,41,9,"in"],[47,122,41,11],[47,123,41,12],[47,127,41,16],[47,129,41,18,"blockedIds"],[47,139,41,28],[47,140,41,29],[48,12,38,20,"users"],[48,17,38,25],[48,20,38,25,"_yield$supabase$from$2"],[48,42,38,25],[48,43,38,14,"data"],[48,47,38,18],[49,10,43,6],[49,14,43,12,"usersMap"],[49,22,43,20],[49,25,43,23],[49,29,43,27,"Map"],[49,32,43,30],[49,33,44,8],[49,34,44,9,"users"],[49,39,44,14],[49,43,44,18],[49,45,44,20],[49,47,44,22,"map"],[49,50,44,25],[49,51,44,27,"u"],[49,52,44,28],[49,56,44,33],[49,57,44,34,"u"],[49,58,44,35],[49,59,44,36,"id"],[49,61,44,38],[49,63,44,40,"u"],[49,64,44,41],[49,65,44,42],[49,66,45,6],[49,67,45,7],[50,10,47,6],[50,17,47,13,"blocks"],[50,23,47,19],[50,24,47,20,"map"],[50,27,47,23],[50,28,47,25,"block"],[50,33,47,30],[50,37,47,35],[51,12,48,8],[51,16,48,14,"blockedUser"],[51,27,48,25],[51,30,48,28,"usersMap"],[51,38,48,36],[51,39,48,37,"get"],[51,42,48,40],[51,43,48,41,"block"],[51,48,48,46],[51,49,48,47,"blocked_id"],[51,59,48,57],[51,60,48,58],[52,12,49,8],[52,19,49,15],[53,14,50,10,"id"],[53,16,50,12],[53,18,50,14,"block"],[53,23,50,19],[53,24,50,20,"id"],[53,26,50,22],[54,14,51,10,"blocked_id"],[54,24,51,20],[54,26,51,22,"block"],[54,31,51,27],[54,32,51,28,"blocked_id"],[54,42,51,38],[55,14,52,10,"display_name"],[55,26,52,22],[55,28,52,24,"blockedUser"],[55,39,52,35],[55,41,52,37,"display_name"],[55,53,52,49],[55,57,52,53],[55,66,52,62],[56,14,53,10,"avatar_url"],[56,24,53,20],[56,26,53,22,"blockedUser"],[56,37,53,33],[56,39,53,35,"avatar_url"],[56,49,53,45],[56,53,53,49],[56,57,53,53],[57,14,54,10,"created_at"],[57,24,54,20],[57,26,54,22,"block"],[57,31,54,27],[57,32,54,28,"created_at"],[58,12,55,8],[58,13,55,9],[59,10,56,6],[59,11,56,7],[59,12,56,8],[60,8,57,4],[60,9,57,5],[61,8,57,5],[61,24,24,4,"queryFn"],[61,31,24,11,"queryFn"],[61,32,24,11],[62,10,24,11],[62,17,24,11,"_ref"],[62,21,24,11],[62,22,24,11,"apply"],[62,27,24,11],[62,34,24,11,"arguments"],[62,43,24,11],[63,8,24,11],[64,6,24,11],[64,9,57,5],[65,6,58,4,"enabled"],[65,13,58,11],[65,15,58,13],[65,16,58,14],[65,17,58,15,"user"],[66,4,59,2],[66,5,59,3],[66,6,59,4],[67,2,60,0],[67,3,60,1],[68,2,62,0],[68,6,62,0,"_default"],[68,14,62,0],[68,17,62,15,"useBlockedUsers"],[68,32,62,30],[69,0,62,31],[69,3]],"functionMap":{"names":["<global>","useBlockedUsers","useQuery$argument_0.queryFn","blocks.map$argument_0","map$argument_0"],"mappings":"AAA;wBCkB;aCK;oCCa,mBD;0BEO,gBF;wBCG;ODS;KDC;CDG"},"hasCjsExports":false},"type":"js/module"}]}