{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":63,"index":63}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":64},"end":{"line":2,"column":49,"index":113}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/services/cardData","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":186},"end":{"line":4,"column":54,"index":240}}],"key":"aDLIuqe8ZoUac1cvYkmTdLzn7po=","exportNames":["*"],"imports":1}},{"name":"@/stores/feedStore/feedStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":241},"end":{"line":5,"column":60,"index":301}}],"key":"ckClypyu2gzEzzWVrK+Z7fd4GzQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _tanstackReactQuery = require(_dependencyMap[2], \"@tanstack/react-query\");\n  var _servicesCardData = require(_dependencyMap[3], \"@/services/cardData\");\n  var _storesFeedStoreFeedStore = require(_dependencyMap[4], \"@/stores/feedStore/feedStore\");\n  var DEBOUNCE_MS = 300;\n  var MAX_PREVIEW = 5;\n  /**\n   * Hook that wraps card search with debouncing and dropdown state\n   * for autocomplete UX in the browse view.\n   *\n   * - Local `query` state with 300ms debounce before triggering search\n   * - Limits preview to 5 results with a \"See all\" affordance\n   * - Respects the current TCG filter from feedStore\n   */\n  var useAutocompleteSearch = () => {\n    _s();\n    var tcg = (0, _storesFeedStoreFeedStore.useFeedStore)(s => s.filters.tcg);\n    var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      query = _useState2[0],\n      setQueryRaw = _useState2[1];\n    var _useState3 = (0, _react.useState)(''),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      debouncedQuery = _useState4[0],\n      setDebouncedQuery = _useState4[1];\n    var _useState5 = (0, _react.useState)(false),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      isDropdownOpen = _useState6[0],\n      setIsDropdownOpen = _useState6[1];\n    var timerRef = (0, _react.useRef)(null);\n    var setQuery = (0, _react.useCallback)(text => {\n      setQueryRaw(text);\n      if (timerRef.current) clearTimeout(timerRef.current);\n      timerRef.current = setTimeout(() => {\n        setDebouncedQuery(text.trim());\n        if (text.trim().length >= 2) {\n          setIsDropdownOpen(true);\n        }\n      }, DEBOUNCE_MS);\n    }, []);\n    var clearQuery = (0, _react.useCallback)(() => {\n      setQueryRaw('');\n      setDebouncedQuery('');\n      setIsDropdownOpen(false);\n      if (timerRef.current) clearTimeout(timerRef.current);\n    }, []);\n\n    // Search needs a TCG â€” default to pokemon if none selected\n    var searchTcg = tcg ?? 'pokemon';\n    var enabled = debouncedQuery.length >= 2;\n    var _useQuery = (0, _tanstackReactQuery.useQuery)({\n        queryKey: ['card-search', searchTcg, debouncedQuery],\n        queryFn: () => _servicesCardData.cardDataService.searchCards(debouncedQuery, searchTcg),\n        enabled,\n        staleTime: 1000 * 60 * 10\n      }),\n      _useQuery$data = _useQuery.data,\n      results = _useQuery$data === void 0 ? [] : _useQuery$data,\n      isLoading = _useQuery.isLoading;\n    var previewResults = (0, _react.useMemo)(() => results.slice(0, MAX_PREVIEW), [results]);\n    var hasMore = results.length > MAX_PREVIEW;\n    return {\n      query,\n      setQuery,\n      clearQuery,\n      isDropdownOpen,\n      setIsDropdownOpen,\n      previewResults,\n      hasMore,\n      isLoading: isLoading && enabled,\n      totalResults: results.length\n    };\n  };\n  _s(useAutocompleteSearch, \"2BunHg5FvwilSzmXLlqrBmoBv5U=\", false, function () {\n    return [_storesFeedStoreFeedStore.useFeedStore, _tanstackReactQuery.useQuery];\n  });\n  var _default = useAutocompleteSearch;\n});","lineCount":98,"map":[[13,2,86,0,"Object"],[13,8,86,0],[13,9,86,0,"defineProperty"],[13,23,86,0],[13,24,86,0,"exports"],[13,31,86,0],[14,4,86,0,"enumerable"],[14,14,86,0],[15,4,86,0,"get"],[15,7,86,0],[15,18,86,0,"get"],[15,19,86,0],[16,6,86,0],[16,13,86,0,"_default"],[16,21,86,0],[17,4,86,0],[18,2,86,0],[19,2,86,37],[19,6,86,37,"_babelRuntimeHelpersSlicedToArray"],[19,39,86,37],[19,42,86,37,"require"],[19,49,86,37],[19,50,86,37,"_dependencyMap"],[19,64,86,37],[20,2,86,37],[20,6,86,37,"_slicedToArray"],[20,20,86,37],[20,23,86,37,"_interopDefault"],[20,38,86,37],[20,39,86,37,"_babelRuntimeHelpersSlicedToArray"],[20,72,86,37],[21,2,1,0],[21,6,1,0,"_react"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,2,0],[22,6,2,0,"_tanstackReactQuery"],[22,25,2,0],[22,28,2,0,"require"],[22,35,2,0],[22,36,2,0,"_dependencyMap"],[22,50,2,0],[23,2,4,0],[23,6,4,0,"_servicesCardData"],[23,23,4,0],[23,26,4,0,"require"],[23,33,4,0],[23,34,4,0,"_dependencyMap"],[23,48,4,0],[24,2,5,0],[24,6,5,0,"_storesFeedStoreFeedStore"],[24,31,5,0],[24,34,5,0,"require"],[24,41,5,0],[24,42,5,0,"_dependencyMap"],[24,56,5,0],[25,2,7,0],[25,6,7,6,"DEBOUNCE_MS"],[25,17,7,17],[25,20,7,20],[25,23,7,23],[26,2,8,0],[26,6,8,6,"MAX_PREVIEW"],[26,17,8,17],[26,20,8,20],[26,21,8,21],[27,2,22,0],[28,0,23,0],[29,0,24,0],[30,0,25,0],[31,0,26,0],[32,0,27,0],[33,0,28,0],[34,0,29,0],[35,2,30,0],[35,6,30,6,"useAutocompleteSearch"],[35,27,30,27],[35,30,30,30,"useAutocompleteSearch"],[35,31,30,30],[35,36,30,65],[36,4,30,65,"_s"],[36,6,30,65],[37,4,31,2],[37,8,31,8,"tcg"],[37,11,31,11],[37,14,31,14],[37,18,31,14,"useFeedStore"],[37,43,31,26],[37,44,31,26,"useFeedStore"],[37,56,31,26],[37,58,31,28,"s"],[37,59,31,29],[37,63,31,34,"s"],[37,64,31,35],[37,65,31,36,"filters"],[37,72,31,43],[37,73,31,44,"tcg"],[37,76,31,47],[37,77,31,48],[38,4,32,2],[38,8,32,2,"_useState"],[38,17,32,2],[38,20,32,31],[38,24,32,31,"useState"],[38,30,32,39],[38,31,32,39,"useState"],[38,39,32,39],[38,41,32,40],[38,43,32,42],[38,44,32,43],[39,6,32,43,"_useState2"],[39,16,32,43],[39,23,32,43,"_slicedToArray"],[39,37,32,43],[39,38,32,43,"default"],[39,45,32,43],[39,47,32,43,"_useState"],[39,56,32,43],[40,6,32,9,"query"],[40,11,32,14],[40,14,32,14,"_useState2"],[40,24,32,14],[41,6,32,16,"setQueryRaw"],[41,17,32,27],[41,20,32,27,"_useState2"],[41,30,32,27],[42,4,33,2],[42,8,33,2,"_useState3"],[42,18,33,2],[42,21,33,46],[42,25,33,46,"useState"],[42,31,33,54],[42,32,33,54,"useState"],[42,40,33,54],[42,42,33,55],[42,44,33,57],[42,45,33,58],[43,6,33,58,"_useState4"],[43,16,33,58],[43,23,33,58,"_slicedToArray"],[43,37,33,58],[43,38,33,58,"default"],[43,45,33,58],[43,47,33,58,"_useState3"],[43,57,33,58],[44,6,33,9,"debouncedQuery"],[44,20,33,23],[44,23,33,23,"_useState4"],[44,33,33,23],[45,6,33,25,"setDebouncedQuery"],[45,23,33,42],[45,26,33,42,"_useState4"],[45,36,33,42],[46,4,34,2],[46,8,34,2,"_useState5"],[46,18,34,2],[46,21,34,46],[46,25,34,46,"useState"],[46,31,34,54],[46,32,34,54,"useState"],[46,40,34,54],[46,42,34,55],[46,47,34,60],[46,48,34,61],[47,6,34,61,"_useState6"],[47,16,34,61],[47,23,34,61,"_slicedToArray"],[47,37,34,61],[47,38,34,61,"default"],[47,45,34,61],[47,47,34,61,"_useState5"],[47,57,34,61],[48,6,34,9,"isDropdownOpen"],[48,20,34,23],[48,23,34,23,"_useState6"],[48,33,34,23],[49,6,34,25,"setIsDropdownOpen"],[49,23,34,42],[49,26,34,42,"_useState6"],[49,36,34,42],[50,4,35,2],[50,8,35,8,"timerRef"],[50,16,35,16],[50,19,35,19],[50,23,35,19,"useRef"],[50,29,35,25],[50,30,35,25,"useRef"],[50,36,35,25],[50,38,35,64],[50,42,35,68],[50,43,35,69],[51,4,37,2],[51,8,37,8,"setQuery"],[51,16,37,16],[51,19,37,19],[51,23,37,19,"useCallback"],[51,29,37,30],[51,30,37,30,"useCallback"],[51,41,37,30],[51,43,37,32,"text"],[51,47,37,44],[51,51,37,49],[52,6,38,4,"setQueryRaw"],[52,17,38,15],[52,18,38,16,"text"],[52,22,38,20],[52,23,38,21],[53,6,39,4],[53,10,39,8,"timerRef"],[53,18,39,16],[53,19,39,17,"current"],[53,26,39,24],[53,28,39,26,"clearTimeout"],[53,40,39,38],[53,41,39,39,"timerRef"],[53,49,39,47],[53,50,39,48,"current"],[53,57,39,55],[53,58,39,56],[54,6,40,4,"timerRef"],[54,14,40,12],[54,15,40,13,"current"],[54,22,40,20],[54,25,40,23,"setTimeout"],[54,35,40,33],[54,36,40,34],[54,42,40,40],[55,8,41,6,"setDebouncedQuery"],[55,25,41,23],[55,26,41,24,"text"],[55,30,41,28],[55,31,41,29,"trim"],[55,35,41,33],[55,36,41,34],[55,37,41,35],[55,38,41,36],[56,8,42,6],[56,12,42,10,"text"],[56,16,42,14],[56,17,42,15,"trim"],[56,21,42,19],[56,22,42,20],[56,23,42,21],[56,24,42,22,"length"],[56,30,42,28],[56,34,42,32],[56,35,42,33],[56,37,42,35],[57,10,43,8,"setIsDropdownOpen"],[57,27,43,25],[57,28,43,26],[57,32,43,30],[57,33,43,31],[58,8,44,6],[59,6,45,4],[59,7,45,5],[59,9,45,7,"DEBOUNCE_MS"],[59,20,45,18],[59,21,45,19],[60,4,46,2],[60,5,46,3],[60,7,46,5],[60,9,46,7],[60,10,46,8],[61,4,48,2],[61,8,48,8,"clearQuery"],[61,18,48,18],[61,21,48,21],[61,25,48,21,"useCallback"],[61,31,48,32],[61,32,48,32,"useCallback"],[61,43,48,32],[61,45,48,33],[61,51,48,39],[62,6,49,4,"setQueryRaw"],[62,17,49,15],[62,18,49,16],[62,20,49,18],[62,21,49,19],[63,6,50,4,"setDebouncedQuery"],[63,23,50,21],[63,24,50,22],[63,26,50,24],[63,27,50,25],[64,6,51,4,"setIsDropdownOpen"],[64,23,51,21],[64,24,51,22],[64,29,51,27],[64,30,51,28],[65,6,52,4],[65,10,52,8,"timerRef"],[65,18,52,16],[65,19,52,17,"current"],[65,26,52,24],[65,28,52,26,"clearTimeout"],[65,40,52,38],[65,41,52,39,"timerRef"],[65,49,52,47],[65,50,52,48,"current"],[65,57,52,55],[65,58,52,56],[66,4,53,2],[66,5,53,3],[66,7,53,5],[66,9,53,7],[66,10,53,8],[68,4,55,2],[69,4,56,2],[69,8,56,8,"searchTcg"],[69,17,56,26],[69,20,56,29,"tcg"],[69,23,56,32],[69,27,56,36],[69,36,56,45],[70,4,57,2],[70,8,57,8,"enabled"],[70,15,57,15],[70,18,57,18,"debouncedQuery"],[70,32,57,32],[70,33,57,33,"length"],[70,39,57,39],[70,43,57,43],[70,44,57,44],[71,4,59,2],[71,8,59,2,"_useQuery"],[71,17,59,2],[71,20,59,44],[71,24,59,44,"useQuery"],[71,43,59,52],[71,44,59,52,"useQuery"],[71,52,59,52],[71,54,59,78],[72,8,60,4,"queryKey"],[72,16,60,12],[72,18,60,14],[72,19,60,15],[72,32,60,28],[72,34,60,30,"searchTcg"],[72,43,60,39],[72,45,60,41,"debouncedQuery"],[72,59,60,55],[72,60,60,56],[73,8,61,4,"queryFn"],[73,15,61,11],[73,17,61,13,"queryFn"],[73,18,61,13],[73,23,61,19,"cardDataService"],[73,40,61,34],[73,41,61,34,"cardDataService"],[73,56,61,34],[73,57,61,35,"searchCards"],[73,68,61,46],[73,69,61,47,"debouncedQuery"],[73,83,61,61],[73,85,61,63,"searchTcg"],[73,94,61,72],[73,95,61,73],[74,8,62,4,"enabled"],[74,15,62,11],[75,8,63,4,"staleTime"],[75,17,63,13],[75,19,63,15],[75,23,63,19],[75,26,63,22],[75,28,63,24],[75,31,63,27],[76,6,64,2],[76,7,64,3],[76,8,64,4],[77,6,64,4,"_useQuery$data"],[77,20,64,4],[77,23,64,4,"_useQuery"],[77,32,64,4],[77,33,59,10,"data"],[77,37,59,14],[78,6,59,16,"results"],[78,13,59,23],[78,16,59,23,"_useQuery$data"],[78,30,59,23],[78,44,59,26],[78,46,59,28],[78,49,59,28,"_useQuery$data"],[78,63,59,28],[79,6,59,30,"isLoading"],[79,15,59,39],[79,18,59,39,"_useQuery"],[79,27,59,39],[79,28,59,30,"isLoading"],[79,37,59,39],[80,4,66,2],[80,8,66,8,"previewResults"],[80,22,66,22],[80,25,66,25],[80,29,66,25,"useMemo"],[80,35,66,32],[80,36,66,32,"useMemo"],[80,43,66,32],[80,45,67,4],[80,51,67,10,"results"],[80,58,67,17],[80,59,67,18,"slice"],[80,64,67,23],[80,65,67,24],[80,66,67,25],[80,68,67,27,"MAX_PREVIEW"],[80,79,67,38],[80,80,67,39],[80,82,68,4],[80,83,68,5,"results"],[80,90,68,12],[80,91,69,2],[80,92,69,3],[81,4,71,2],[81,8,71,8,"hasMore"],[81,15,71,15],[81,18,71,18,"results"],[81,25,71,25],[81,26,71,26,"length"],[81,32,71,32],[81,35,71,35,"MAX_PREVIEW"],[81,46,71,46],[82,4,73,2],[82,11,73,9],[83,6,74,4,"query"],[83,11,74,9],[84,6,75,4,"setQuery"],[84,14,75,12],[85,6,76,4,"clearQuery"],[85,16,76,14],[86,6,77,4,"isDropdownOpen"],[86,20,77,18],[87,6,78,4,"setIsDropdownOpen"],[87,23,78,21],[88,6,79,4,"previewResults"],[88,20,79,18],[89,6,80,4,"hasMore"],[89,13,80,11],[90,6,81,4,"isLoading"],[90,15,81,13],[90,17,81,15,"isLoading"],[90,26,81,24],[90,30,81,28,"enabled"],[90,37,81,35],[91,6,82,4,"totalResults"],[91,18,82,16],[91,20,82,18,"results"],[91,27,82,25],[91,28,82,26,"length"],[92,4,83,2],[92,5,83,3],[93,2,84,0],[93,3,84,1],[94,2,84,2,"_s"],[94,4,84,2],[94,5,30,6,"useAutocompleteSearch"],[94,26,30,27],[95,4,30,27],[95,12,31,14,"useFeedStore"],[95,37,31,26],[95,38,31,26,"useFeedStore"],[95,50,31,26],[95,52,59,44,"useQuery"],[95,71,59,52],[95,72,59,52,"useQuery"],[95,80,59,52],[96,2,59,52],[97,2,86,0],[97,6,86,0,"_default"],[97,14,86,0],[97,17,86,15,"useAutocompleteSearch"],[97,38,86,36],[98,0,86,37],[98,3]],"functionMap":{"names":["<global>","useAutocompleteSearch","useFeedStore$argument_0","setQuery","setTimeout$argument_0","clearQuery","useQuery$argument_0.queryFn","useMemo$argument_0"],"mappings":"AAA;8BC6B;2BCC,oBD;+BEM;kCCG;KDK;GFC;iCIE;GJK;aKQ,4DL;IMM,mCN;CDiB"},"hasCjsExports":false},"type":"js/module"}]}