{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":63,"index":63}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":64},"end":{"line":2,"column":49,"index":113}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/services/cardData","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":186},"end":{"line":4,"column":54,"index":240}}],"key":"aDLIuqe8ZoUac1cvYkmTdLzn7po=","exportNames":["*"],"imports":1}},{"name":"@/stores/feedStore/feedStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":241},"end":{"line":5,"column":60,"index":301}}],"key":"ckClypyu2gzEzzWVrK+Z7fd4GzQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _tanstackReactQuery = require(_dependencyMap[2], \"@tanstack/react-query\");\n  var _servicesCardData = require(_dependencyMap[3], \"@/services/cardData\");\n  var _storesFeedStoreFeedStore = require(_dependencyMap[4], \"@/stores/feedStore/feedStore\");\n  var DEBOUNCE_MS = 300;\n  var MAX_PREVIEW = 5;\n  /**\n   * Hook that wraps card search with debouncing and dropdown state\n   * for autocomplete UX in the browse view.\n   *\n   * - Local `query` state with 300ms debounce before triggering search\n   * - Limits preview to 5 results with a \"See all\" affordance\n   * - Respects the current TCG filter from feedStore\n   */\n  var useAutocompleteSearch = () => {\n    _s();\n    var tcg = (0, _storesFeedStoreFeedStore.useFeedStore)(s => s.filters.tcg);\n    var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      query = _useState2[0],\n      setQueryRaw = _useState2[1];\n    var _useState3 = (0, _react.useState)(''),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      debouncedQuery = _useState4[0],\n      setDebouncedQuery = _useState4[1];\n    var _useState5 = (0, _react.useState)(false),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      isDropdownOpen = _useState6[0],\n      setIsDropdownOpen = _useState6[1];\n    var timerRef = (0, _react.useRef)(null);\n    var setQuery = (0, _react.useCallback)(text => {\n      setQueryRaw(text);\n      if (timerRef.current) clearTimeout(timerRef.current);\n      if (text.trim().length < 2) {\n        setIsDropdownOpen(false);\n      }\n      timerRef.current = setTimeout(() => {\n        setDebouncedQuery(text.trim());\n        if (text.trim().length >= 2) {\n          setIsDropdownOpen(true);\n        }\n      }, DEBOUNCE_MS);\n    }, []);\n    var clearQuery = (0, _react.useCallback)(() => {\n      setQueryRaw('');\n      setDebouncedQuery('');\n      setIsDropdownOpen(false);\n      if (timerRef.current) clearTimeout(timerRef.current);\n    }, []);\n\n    // Search needs a TCG â€” default to pokemon if none selected\n    var searchTcg = tcg ?? 'pokemon';\n    var enabled = debouncedQuery.length >= 2;\n    var _useQuery = (0, _tanstackReactQuery.useQuery)({\n        queryKey: ['card-search', searchTcg, debouncedQuery],\n        queryFn: () => _servicesCardData.cardDataService.searchCards(debouncedQuery, searchTcg),\n        enabled,\n        staleTime: 1000 * 60 * 10\n      }),\n      _useQuery$data = _useQuery.data,\n      results = _useQuery$data === void 0 ? [] : _useQuery$data,\n      isLoading = _useQuery.isLoading;\n    var previewResults = (0, _react.useMemo)(() => results.slice(0, MAX_PREVIEW), [results]);\n    var hasMore = results.length > MAX_PREVIEW;\n    return {\n      query,\n      setQuery,\n      clearQuery,\n      isDropdownOpen,\n      setIsDropdownOpen,\n      previewResults,\n      hasMore,\n      isLoading: isLoading && enabled,\n      totalResults: results.length\n    };\n  };\n  _s(useAutocompleteSearch, \"2BunHg5FvwilSzmXLlqrBmoBv5U=\", false, function () {\n    return [_storesFeedStoreFeedStore.useFeedStore, _tanstackReactQuery.useQuery];\n  });\n  var _default = useAutocompleteSearch;\n});","lineCount":101,"map":[[13,2,89,0,"Object"],[13,8,89,0],[13,9,89,0,"defineProperty"],[13,23,89,0],[13,24,89,0,"exports"],[13,31,89,0],[14,4,89,0,"enumerable"],[14,14,89,0],[15,4,89,0,"get"],[15,7,89,0],[15,18,89,0,"get"],[15,19,89,0],[16,6,89,0],[16,13,89,0,"_default"],[16,21,89,0],[17,4,89,0],[18,2,89,0],[19,2,89,37],[19,6,89,37,"_babelRuntimeHelpersSlicedToArray"],[19,39,89,37],[19,42,89,37,"require"],[19,49,89,37],[19,50,89,37,"_dependencyMap"],[19,64,89,37],[20,2,89,37],[20,6,89,37,"_slicedToArray"],[20,20,89,37],[20,23,89,37,"_interopDefault"],[20,38,89,37],[20,39,89,37,"_babelRuntimeHelpersSlicedToArray"],[20,72,89,37],[21,2,1,0],[21,6,1,0,"_react"],[21,12,1,0],[21,15,1,0,"require"],[21,22,1,0],[21,23,1,0,"_dependencyMap"],[21,37,1,0],[22,2,2,0],[22,6,2,0,"_tanstackReactQuery"],[22,25,2,0],[22,28,2,0,"require"],[22,35,2,0],[22,36,2,0,"_dependencyMap"],[22,50,2,0],[23,2,4,0],[23,6,4,0,"_servicesCardData"],[23,23,4,0],[23,26,4,0,"require"],[23,33,4,0],[23,34,4,0,"_dependencyMap"],[23,48,4,0],[24,2,5,0],[24,6,5,0,"_storesFeedStoreFeedStore"],[24,31,5,0],[24,34,5,0,"require"],[24,41,5,0],[24,42,5,0,"_dependencyMap"],[24,56,5,0],[25,2,7,0],[25,6,7,6,"DEBOUNCE_MS"],[25,17,7,17],[25,20,7,20],[25,23,7,23],[26,2,8,0],[26,6,8,6,"MAX_PREVIEW"],[26,17,8,17],[26,20,8,20],[26,21,8,21],[27,2,22,0],[28,0,23,0],[29,0,24,0],[30,0,25,0],[31,0,26,0],[32,0,27,0],[33,0,28,0],[34,0,29,0],[35,2,30,0],[35,6,30,6,"useAutocompleteSearch"],[35,27,30,27],[35,30,30,30,"useAutocompleteSearch"],[35,31,30,30],[35,36,30,65],[36,4,30,65,"_s"],[36,6,30,65],[37,4,31,2],[37,8,31,8,"tcg"],[37,11,31,11],[37,14,31,14],[37,18,31,14,"useFeedStore"],[37,43,31,26],[37,44,31,26,"useFeedStore"],[37,56,31,26],[37,58,31,28,"s"],[37,59,31,29],[37,63,31,34,"s"],[37,64,31,35],[37,65,31,36,"filters"],[37,72,31,43],[37,73,31,44,"tcg"],[37,76,31,47],[37,77,31,48],[38,4,32,2],[38,8,32,2,"_useState"],[38,17,32,2],[38,20,32,31],[38,24,32,31,"useState"],[38,30,32,39],[38,31,32,39,"useState"],[38,39,32,39],[38,41,32,40],[38,43,32,42],[38,44,32,43],[39,6,32,43,"_useState2"],[39,16,32,43],[39,23,32,43,"_slicedToArray"],[39,37,32,43],[39,38,32,43,"default"],[39,45,32,43],[39,47,32,43,"_useState"],[39,56,32,43],[40,6,32,9,"query"],[40,11,32,14],[40,14,32,14,"_useState2"],[40,24,32,14],[41,6,32,16,"setQueryRaw"],[41,17,32,27],[41,20,32,27,"_useState2"],[41,30,32,27],[42,4,33,2],[42,8,33,2,"_useState3"],[42,18,33,2],[42,21,33,46],[42,25,33,46,"useState"],[42,31,33,54],[42,32,33,54,"useState"],[42,40,33,54],[42,42,33,55],[42,44,33,57],[42,45,33,58],[43,6,33,58,"_useState4"],[43,16,33,58],[43,23,33,58,"_slicedToArray"],[43,37,33,58],[43,38,33,58,"default"],[43,45,33,58],[43,47,33,58,"_useState3"],[43,57,33,58],[44,6,33,9,"debouncedQuery"],[44,20,33,23],[44,23,33,23,"_useState4"],[44,33,33,23],[45,6,33,25,"setDebouncedQuery"],[45,23,33,42],[45,26,33,42,"_useState4"],[45,36,33,42],[46,4,34,2],[46,8,34,2,"_useState5"],[46,18,34,2],[46,21,34,46],[46,25,34,46,"useState"],[46,31,34,54],[46,32,34,54,"useState"],[46,40,34,54],[46,42,34,55],[46,47,34,60],[46,48,34,61],[47,6,34,61,"_useState6"],[47,16,34,61],[47,23,34,61,"_slicedToArray"],[47,37,34,61],[47,38,34,61,"default"],[47,45,34,61],[47,47,34,61,"_useState5"],[47,57,34,61],[48,6,34,9,"isDropdownOpen"],[48,20,34,23],[48,23,34,23,"_useState6"],[48,33,34,23],[49,6,34,25,"setIsDropdownOpen"],[49,23,34,42],[49,26,34,42,"_useState6"],[49,36,34,42],[50,4,35,2],[50,8,35,8,"timerRef"],[50,16,35,16],[50,19,35,19],[50,23,35,19,"useRef"],[50,29,35,25],[50,30,35,25,"useRef"],[50,36,35,25],[50,38,35,64],[50,42,35,68],[50,43,35,69],[51,4,37,2],[51,8,37,8,"setQuery"],[51,16,37,16],[51,19,37,19],[51,23,37,19,"useCallback"],[51,29,37,30],[51,30,37,30,"useCallback"],[51,41,37,30],[51,43,37,32,"text"],[51,47,37,44],[51,51,37,49],[52,6,38,4,"setQueryRaw"],[52,17,38,15],[52,18,38,16,"text"],[52,22,38,20],[52,23,38,21],[53,6,39,4],[53,10,39,8,"timerRef"],[53,18,39,16],[53,19,39,17,"current"],[53,26,39,24],[53,28,39,26,"clearTimeout"],[53,40,39,38],[53,41,39,39,"timerRef"],[53,49,39,47],[53,50,39,48,"current"],[53,57,39,55],[53,58,39,56],[54,6,40,4],[54,10,40,8,"text"],[54,14,40,12],[54,15,40,13,"trim"],[54,19,40,17],[54,20,40,18],[54,21,40,19],[54,22,40,20,"length"],[54,28,40,26],[54,31,40,29],[54,32,40,30],[54,34,40,32],[55,8,41,6,"setIsDropdownOpen"],[55,25,41,23],[55,26,41,24],[55,31,41,29],[55,32,41,30],[56,6,42,4],[57,6,43,4,"timerRef"],[57,14,43,12],[57,15,43,13,"current"],[57,22,43,20],[57,25,43,23,"setTimeout"],[57,35,43,33],[57,36,43,34],[57,42,43,40],[58,8,44,6,"setDebouncedQuery"],[58,25,44,23],[58,26,44,24,"text"],[58,30,44,28],[58,31,44,29,"trim"],[58,35,44,33],[58,36,44,34],[58,37,44,35],[58,38,44,36],[59,8,45,6],[59,12,45,10,"text"],[59,16,45,14],[59,17,45,15,"trim"],[59,21,45,19],[59,22,45,20],[59,23,45,21],[59,24,45,22,"length"],[59,30,45,28],[59,34,45,32],[59,35,45,33],[59,37,45,35],[60,10,46,8,"setIsDropdownOpen"],[60,27,46,25],[60,28,46,26],[60,32,46,30],[60,33,46,31],[61,8,47,6],[62,6,48,4],[62,7,48,5],[62,9,48,7,"DEBOUNCE_MS"],[62,20,48,18],[62,21,48,19],[63,4,49,2],[63,5,49,3],[63,7,49,5],[63,9,49,7],[63,10,49,8],[64,4,51,2],[64,8,51,8,"clearQuery"],[64,18,51,18],[64,21,51,21],[64,25,51,21,"useCallback"],[64,31,51,32],[64,32,51,32,"useCallback"],[64,43,51,32],[64,45,51,33],[64,51,51,39],[65,6,52,4,"setQueryRaw"],[65,17,52,15],[65,18,52,16],[65,20,52,18],[65,21,52,19],[66,6,53,4,"setDebouncedQuery"],[66,23,53,21],[66,24,53,22],[66,26,53,24],[66,27,53,25],[67,6,54,4,"setIsDropdownOpen"],[67,23,54,21],[67,24,54,22],[67,29,54,27],[67,30,54,28],[68,6,55,4],[68,10,55,8,"timerRef"],[68,18,55,16],[68,19,55,17,"current"],[68,26,55,24],[68,28,55,26,"clearTimeout"],[68,40,55,38],[68,41,55,39,"timerRef"],[68,49,55,47],[68,50,55,48,"current"],[68,57,55,55],[68,58,55,56],[69,4,56,2],[69,5,56,3],[69,7,56,5],[69,9,56,7],[69,10,56,8],[71,4,58,2],[72,4,59,2],[72,8,59,8,"searchTcg"],[72,17,59,26],[72,20,59,29,"tcg"],[72,23,59,32],[72,27,59,36],[72,36,59,45],[73,4,60,2],[73,8,60,8,"enabled"],[73,15,60,15],[73,18,60,18,"debouncedQuery"],[73,32,60,32],[73,33,60,33,"length"],[73,39,60,39],[73,43,60,43],[73,44,60,44],[74,4,62,2],[74,8,62,2,"_useQuery"],[74,17,62,2],[74,20,62,44],[74,24,62,44,"useQuery"],[74,43,62,52],[74,44,62,52,"useQuery"],[74,52,62,52],[74,54,62,78],[75,8,63,4,"queryKey"],[75,16,63,12],[75,18,63,14],[75,19,63,15],[75,32,63,28],[75,34,63,30,"searchTcg"],[75,43,63,39],[75,45,63,41,"debouncedQuery"],[75,59,63,55],[75,60,63,56],[76,8,64,4,"queryFn"],[76,15,64,11],[76,17,64,13,"queryFn"],[76,18,64,13],[76,23,64,19,"cardDataService"],[76,40,64,34],[76,41,64,34,"cardDataService"],[76,56,64,34],[76,57,64,35,"searchCards"],[76,68,64,46],[76,69,64,47,"debouncedQuery"],[76,83,64,61],[76,85,64,63,"searchTcg"],[76,94,64,72],[76,95,64,73],[77,8,65,4,"enabled"],[77,15,65,11],[78,8,66,4,"staleTime"],[78,17,66,13],[78,19,66,15],[78,23,66,19],[78,26,66,22],[78,28,66,24],[78,31,66,27],[79,6,67,2],[79,7,67,3],[79,8,67,4],[80,6,67,4,"_useQuery$data"],[80,20,67,4],[80,23,67,4,"_useQuery"],[80,32,67,4],[80,33,62,10,"data"],[80,37,62,14],[81,6,62,16,"results"],[81,13,62,23],[81,16,62,23,"_useQuery$data"],[81,30,62,23],[81,44,62,26],[81,46,62,28],[81,49,62,28,"_useQuery$data"],[81,63,62,28],[82,6,62,30,"isLoading"],[82,15,62,39],[82,18,62,39,"_useQuery"],[82,27,62,39],[82,28,62,30,"isLoading"],[82,37,62,39],[83,4,69,2],[83,8,69,8,"previewResults"],[83,22,69,22],[83,25,69,25],[83,29,69,25,"useMemo"],[83,35,69,32],[83,36,69,32,"useMemo"],[83,43,69,32],[83,45,70,4],[83,51,70,10,"results"],[83,58,70,17],[83,59,70,18,"slice"],[83,64,70,23],[83,65,70,24],[83,66,70,25],[83,68,70,27,"MAX_PREVIEW"],[83,79,70,38],[83,80,70,39],[83,82,71,4],[83,83,71,5,"results"],[83,90,71,12],[83,91,72,2],[83,92,72,3],[84,4,74,2],[84,8,74,8,"hasMore"],[84,15,74,15],[84,18,74,18,"results"],[84,25,74,25],[84,26,74,26,"length"],[84,32,74,32],[84,35,74,35,"MAX_PREVIEW"],[84,46,74,46],[85,4,76,2],[85,11,76,9],[86,6,77,4,"query"],[86,11,77,9],[87,6,78,4,"setQuery"],[87,14,78,12],[88,6,79,4,"clearQuery"],[88,16,79,14],[89,6,80,4,"isDropdownOpen"],[89,20,80,18],[90,6,81,4,"setIsDropdownOpen"],[90,23,81,21],[91,6,82,4,"previewResults"],[91,20,82,18],[92,6,83,4,"hasMore"],[92,13,83,11],[93,6,84,4,"isLoading"],[93,15,84,13],[93,17,84,15,"isLoading"],[93,26,84,24],[93,30,84,28,"enabled"],[93,37,84,35],[94,6,85,4,"totalResults"],[94,18,85,16],[94,20,85,18,"results"],[94,27,85,25],[94,28,85,26,"length"],[95,4,86,2],[95,5,86,3],[96,2,87,0],[96,3,87,1],[97,2,87,2,"_s"],[97,4,87,2],[97,5,30,6,"useAutocompleteSearch"],[97,26,30,27],[98,4,30,27],[98,12,31,14,"useFeedStore"],[98,37,31,26],[98,38,31,26,"useFeedStore"],[98,50,31,26],[98,52,62,44,"useQuery"],[98,71,62,52],[98,72,62,52,"useQuery"],[98,80,62,52],[99,2,62,52],[100,2,89,0],[100,6,89,0,"_default"],[100,14,89,0],[100,17,89,15,"useAutocompleteSearch"],[100,38,89,36],[101,0,89,37],[101,3]],"functionMap":{"names":["<global>","useAutocompleteSearch","useFeedStore$argument_0","setQuery","setTimeout$argument_0","clearQuery","useQuery$argument_0.queryFn","useMemo$argument_0"],"mappings":"AAA;8BC6B;2BCC,oBD;+BEM;kCCM;KDK;GFC;iCIE;GJK;aKQ,4DL;IMM,mCN;CDiB"},"hasCjsExports":false},"type":"js/module"}]}