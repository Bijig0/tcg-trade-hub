{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"createTraceId\", {\n    enumerable: true,\n    get: function () {\n      return createTraceId;\n    }\n  });\n  Object.defineProperty(exports, \"devEmitter\", {\n    enumerable: true,\n    get: function () {\n      return devEmitter;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  /**\n   * Dev-only live event emitter for the graph server.\n   *\n   * Inlined from flow-graph's createLiveEmitter to avoid pulling in\n   * better-sqlite3 and other native dependencies into the mobile bundle.\n   * All calls are fire-and-forget with a 2s timeout; errors are swallowed.\n   *\n   * Only initializes when __DEV__ is true.\n   */\n\n  var createTraceId = () => {\n    var ts = Date.now().toString(36);\n    var rand = Math.random().toString(36).slice(2, 8);\n    return `${ts}-${rand}`;\n  };\n  var GRAPH_SERVER_URL = _expoVirtualEnv.env.EXPO_PUBLIC_GRAPH_SERVER_URL ?? 'http://localhost:4243';\n  var createDevLiveEmitter = () => {\n    var emit = event => {\n      console.log('[devEmitter] →', event.pathId, `step=${event.stepIndex}`, event.status, event.message ?? '');\n      var controller = new AbortController();\n      var timeout = setTimeout(() => controller.abort(), 2_000);\n      fetch(`${GRAPH_SERVER_URL}/api/events`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(event),\n        signal: controller.signal\n      }).then(res => {\n        clearTimeout(timeout);\n        console.log('[devEmitter] ←', res.status, res.statusText);\n      }).catch(err => {\n        clearTimeout(timeout);\n        console.error('[devEmitter] FAILED:', err?.message ?? err);\n      });\n    };\n    var forPath = (pathId, traceId, caller) => {\n      return (stepIndex, status, opts) => {\n        emit({\n          pathId,\n          stepIndex,\n          status,\n          traceId,\n          timestamp: Date.now(),\n          caller,\n          ...opts\n        });\n      };\n    };\n    return {\n      emit,\n      forPath\n    };\n  };\n\n  /**\n   * Singleton emitter instance. No-ops in production builds since\n   * Metro strips `__DEV__` branches at compile time.\n   */\n  var noopEmitter = {\n    emit: () => {},\n    forPath: () => () => {}\n  };\n  var devEmitter = __DEV__ ? createDevLiveEmitter() : noopEmitter;\n});","lineCount":84,"map":[[7,2,33,0,"Object"],[7,8,33,0],[7,9,33,0,"defineProperty"],[7,23,33,0],[7,24,33,0,"exports"],[7,31,33,0],[8,4,33,0,"enumerable"],[8,14,33,0],[9,4,33,0,"get"],[9,7,33,0],[9,18,33,0,"get"],[9,19,33,0],[10,6,33,0],[10,13,33,0,"createTraceId"],[10,26,33,0],[11,4,33,0],[12,2,33,0],[13,2,94,0,"Object"],[13,8,94,0],[13,9,94,0,"defineProperty"],[13,23,94,0],[13,24,94,0,"exports"],[13,31,94,0],[14,4,94,0,"enumerable"],[14,14,94,0],[15,4,94,0,"get"],[15,7,94,0],[15,18,94,0,"get"],[15,19,94,0],[16,6,94,0],[16,13,94,0,"devEmitter"],[16,23,94,0],[17,4,94,0],[18,2,94,0],[19,2,96,16],[19,6,96,16,"_expoVirtualEnv"],[19,21,96,16],[19,24,96,16,"require"],[19,31,96,16],[19,32,96,16,"_dependencyMap"],[19,46,96,16],[20,2,1,0],[21,0,2,0],[22,0,3,0],[23,0,4,0],[24,0,5,0],[25,0,6,0],[26,0,7,0],[27,0,8,0],[28,0,9,0],[30,2,33,7],[30,6,33,13,"createTraceId"],[30,19,33,26],[30,22,33,29,"createTraceId"],[30,23,33,29],[30,28,33,43],[31,4,34,2],[31,8,34,8,"ts"],[31,10,34,10],[31,13,34,13,"Date"],[31,17,34,17],[31,18,34,18,"now"],[31,21,34,21],[31,22,34,22],[31,23,34,23],[31,24,34,24,"toString"],[31,32,34,32],[31,33,34,33],[31,35,34,35],[31,36,34,36],[32,4,35,2],[32,8,35,8,"rand"],[32,12,35,12],[32,15,35,15,"Math"],[32,19,35,19],[32,20,35,20,"random"],[32,26,35,26],[32,27,35,27],[32,28,35,28],[32,29,35,29,"toString"],[32,37,35,37],[32,38,35,38],[32,40,35,40],[32,41,35,41],[32,42,35,42,"slice"],[32,47,35,47],[32,48,35,48],[32,49,35,49],[32,51,35,51],[32,52,35,52],[32,53,35,53],[33,4,36,2],[33,11,36,9],[33,14,36,12,"ts"],[33,16,36,14],[33,20,36,18,"rand"],[33,24,36,22],[33,26,36,24],[34,2,37,0],[34,3,37,1],[35,2,39,0],[35,6,39,6,"GRAPH_SERVER_URL"],[35,22,39,22],[35,25,40,2,"_expoVirtualEnv"],[35,40,40,2],[35,41,40,2,"env"],[35,44,40,2],[35,45,40,2,"EXPO_PUBLIC_GRAPH_SERVER_URL"],[35,73,40,2],[35,77,40,46],[35,100,40,69],[36,2,42,0],[36,6,42,6,"createDevLiveEmitter"],[36,26,42,26],[36,29,42,29,"createDevLiveEmitter"],[36,30,42,29],[36,35,42,48],[37,4,43,2],[37,8,43,8,"emit"],[37,12,43,12],[37,15,43,16,"event"],[37,20,43,39],[37,24,43,50],[38,6,44,4,"console"],[38,13,44,11],[38,14,44,12,"log"],[38,17,44,15],[38,18,44,16],[38,34,44,32],[38,36,44,34,"event"],[38,41,44,39],[38,42,44,40,"pathId"],[38,48,44,46],[38,50,44,48],[38,58,44,56,"event"],[38,63,44,61],[38,64,44,62,"stepIndex"],[38,73,44,71],[38,75,44,73],[38,77,44,75,"event"],[38,82,44,80],[38,83,44,81,"status"],[38,89,44,87],[38,91,44,89,"event"],[38,96,44,94],[38,97,44,95,"message"],[38,104,44,102],[38,108,44,106],[38,110,44,108],[38,111,44,109],[39,6,45,4],[39,10,45,10,"controller"],[39,20,45,20],[39,23,45,23],[39,27,45,27,"AbortController"],[39,42,45,42],[39,43,45,43],[39,44,45,44],[40,6,46,4],[40,10,46,10,"timeout"],[40,17,46,17],[40,20,46,20,"setTimeout"],[40,30,46,30],[40,31,46,31],[40,37,46,37,"controller"],[40,47,46,47],[40,48,46,48,"abort"],[40,53,46,53],[40,54,46,54],[40,55,46,55],[40,57,46,57],[40,62,46,62],[40,63,46,63],[41,6,48,4,"fetch"],[41,11,48,9],[41,12,48,10],[41,15,48,13,"GRAPH_SERVER_URL"],[41,31,48,29],[41,44,48,42],[41,46,48,44],[42,8,49,6,"method"],[42,14,49,12],[42,16,49,14],[42,22,49,20],[43,8,50,6,"headers"],[43,15,50,13],[43,17,50,15],[44,10,50,17],[44,24,50,31],[44,26,50,33],[45,8,50,52],[45,9,50,53],[46,8,51,6,"body"],[46,12,51,10],[46,14,51,12,"JSON"],[46,18,51,16],[46,19,51,17,"stringify"],[46,28,51,26],[46,29,51,27,"event"],[46,34,51,32],[46,35,51,33],[47,8,52,6,"signal"],[47,14,52,12],[47,16,52,14,"controller"],[47,26,52,24],[47,27,52,25,"signal"],[48,6,53,4],[48,7,53,5],[48,8,53,6],[48,9,54,7,"then"],[48,13,54,11],[48,14,54,13,"res"],[48,17,54,16],[48,21,54,21],[49,8,55,8,"clearTimeout"],[49,20,55,20],[49,21,55,21,"timeout"],[49,28,55,28],[49,29,55,29],[50,8,56,8,"console"],[50,15,56,15],[50,16,56,16,"log"],[50,19,56,19],[50,20,56,20],[50,36,56,36],[50,38,56,38,"res"],[50,41,56,41],[50,42,56,42,"status"],[50,48,56,48],[50,50,56,50,"res"],[50,53,56,53],[50,54,56,54,"statusText"],[50,64,56,64],[50,65,56,65],[51,6,57,6],[51,7,57,7],[51,8,57,8],[51,9,58,7,"catch"],[51,14,58,12],[51,15,58,14,"err"],[51,18,58,17],[51,22,58,22],[52,8,59,8,"clearTimeout"],[52,20,59,20],[52,21,59,21,"timeout"],[52,28,59,28],[52,29,59,29],[53,8,60,8,"console"],[53,15,60,15],[53,16,60,16,"error"],[53,21,60,21],[53,22,60,22],[53,44,60,44],[53,46,60,46,"err"],[53,49,60,49],[53,51,60,51,"message"],[53,58,60,58],[53,62,60,62,"err"],[53,65,60,65],[53,66,60,66],[54,6,61,6],[54,7,61,7],[54,8,61,8],[55,4,62,2],[55,5,62,3],[56,4,64,2],[56,8,64,8,"forPath"],[56,15,64,15],[56,18,64,18,"forPath"],[56,19,65,4,"pathId"],[56,25,65,18],[56,27,66,4,"traceId"],[56,34,66,19],[56,36,67,4,"caller"],[56,42,67,18],[56,47,68,22],[57,6,69,4],[57,13,69,11],[57,14,69,12,"stepIndex"],[57,23,69,21],[57,25,69,23,"status"],[57,31,69,29],[57,33,69,31,"opts"],[57,37,69,35],[57,42,69,40],[58,8,70,6,"emit"],[58,12,70,10],[58,13,70,11],[59,10,71,8,"pathId"],[59,16,71,14],[60,10,72,8,"stepIndex"],[60,19,72,17],[61,10,73,8,"status"],[61,16,73,14],[62,10,74,8,"traceId"],[62,17,74,15],[63,10,75,8,"timestamp"],[63,19,75,17],[63,21,75,19,"Date"],[63,25,75,23],[63,26,75,24,"now"],[63,29,75,27],[63,30,75,28],[63,31,75,29],[64,10,76,8,"caller"],[64,16,76,14],[65,10,77,8],[65,13,77,11,"opts"],[66,8,78,6],[66,9,78,7],[66,10,78,8],[67,6,79,4],[67,7,79,5],[68,4,80,2],[68,5,80,3],[69,4,82,2],[69,11,82,9],[70,6,82,11,"emit"],[70,10,82,15],[71,6,82,17,"forPath"],[72,4,82,25],[72,5,82,26],[73,2,83,0],[73,3,83,1],[75,2,85,0],[76,0,86,0],[77,0,87,0],[78,0,88,0],[79,2,89,0],[79,6,89,6,"noopEmitter"],[79,17,89,30],[79,20,89,33],[80,4,90,2,"emit"],[80,8,90,6],[80,10,90,8,"emit"],[80,11,90,8],[80,16,90,14],[80,17,90,15],[80,18,90,16],[81,4,91,2,"forPath"],[81,11,91,9],[81,13,91,11,"forPath"],[81,14,91,11],[81,19,91,17],[81,25,91,23],[81,26,91,24],[82,2,92,0],[82,3,92,1],[83,2,94,7],[83,6,94,13,"devEmitter"],[83,16,94,36],[83,19,94,39,"__DEV__"],[83,26,94,46],[83,29,95,4,"createDevLiveEmitter"],[83,49,95,24],[83,50,95,25],[83,51,95,26],[83,54,96,4,"noopEmitter"],[83,65,96,15],[84,0,96,16],[84,3]],"functionMap":{"names":["<global>","createTraceId","createDevLiveEmitter","emit","setTimeout$argument_0","fetch.then$argument_0","fetch.then._catch$argument_0","forPath","<anonymous>","noopEmitter.emit","noopEmitter.forPath"],"mappings":"AAA;6BCgC;CDI;6BEK;eCC;+BCG,wBD;YEQ;OFG;aGC;OHG;GDC;kBKE;WCK;KDU;GLC;CFG;QSO,QT;WUC,MF,QR"},"hasCjsExports":false},"type":"js/module"}]}