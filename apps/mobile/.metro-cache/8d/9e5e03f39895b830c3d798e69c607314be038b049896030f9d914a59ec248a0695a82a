{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"ROUTE_PATH_MAP\", {\n    enumerable: true,\n    get: function () {\n      return ROUTE_PATH_MAP;\n    }\n  });\n  Object.defineProperty(exports, \"resolveSegments\", {\n    enumerable: true,\n    get: function () {\n      return resolveSegments;\n    }\n  });\n  /**\n   * Maps Expo Router segments to graph path IDs with step-level granularity.\n   *\n   * When the user navigates within the app, we resolve the full segment path\n   * to one or more graph pathId + stepIndex pairs so the admin graph can\n   * highlight every flow the user is currently participating in.\n   */\n\n  /** A single flow that a route participates in. */\n\n  /**\n   * Lookup from full segment path to graph path mapping.\n   *\n   * Keys use \"/\" to join segments after \"(tabs)\".\n   * The resolver tries longest-prefix match first, then falls back to tab-only.\n   *\n   * Example segments from Expo Router:\n   *   ['(tabs)', '(discover)']                     -> key: '(discover)'\n   *   ['(tabs)', '(discover)', 'browse']           -> key: '(discover)/browse'\n   *   ['(tabs)', '(listings)', 'listing', '[id]']  -> key: '(listings)/listing/[id]'\n   */\n  var ROUTE_PATH_MAP = {\n    // ── P2P Trade Flow (flow:p2p-trade) ──\n    '(discover)': {\n      label: 'Discover Feed',\n      flows: [{\n        pathId: 'flow:p2p-trade',\n        stepIndex: 0\n      }]\n    },\n    '(discover)/browse': {\n      label: 'Browse Listings',\n      flows: [{\n        pathId: 'flow:p2p-trade',\n        stepIndex: 0\n      }]\n    },\n    // ── Listing State Machine (state:listing) ──\n    '(listings)': {\n      label: 'My Listings',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 0\n      }]\n    },\n    '(listings)/new': {\n      label: 'New Listing',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 0\n      }]\n    },\n    '(listings)/add-card': {\n      label: 'Add Card',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 0\n      }]\n    },\n    '(listings)/add-sealed': {\n      label: 'Add Sealed',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 0\n      }]\n    },\n    '(listings)/listing/[id]': {\n      label: 'Listing Detail',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 1\n      }]\n    },\n    '(listings)/edit/[id]': {\n      label: 'Edit Listing',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 2\n      }]\n    },\n    // ── Multi-flow routes ──\n    '(listings)/trade-builder': {\n      label: 'Trade Builder',\n      flows: [{\n        pathId: 'flow:p2p-trade',\n        stepIndex: 1\n      }, {\n        pathId: 'state:listing',\n        stepIndex: 1\n      }]\n    },\n    // ── Offer State Machine (state:offer) ──\n    '(messages)': {\n      label: 'Messages',\n      flows: [{\n        pathId: 'state:offer',\n        stepIndex: 0\n      }]\n    },\n    '(messages)/offer-detail': {\n      label: 'Offer Detail',\n      flows: [{\n        pathId: 'state:offer',\n        stepIndex: 2\n      }]\n    },\n    '(messages)/chat/[conversationId]': {\n      label: 'Chat Thread',\n      flows: [{\n        pathId: 'state:offer',\n        stepIndex: 1\n      }, {\n        pathId: 'flow:p2p-trade',\n        stepIndex: 2\n      }]\n    },\n    '(messages)/meetup-location': {\n      label: 'Meetup Location',\n      flows: [{\n        pathId: 'state:meetup',\n        stepIndex: 1\n      }, {\n        pathId: 'state:offer',\n        stepIndex: 2\n      }]\n    },\n    // ── Meetup State Machine (state:meetup) ──\n    '(meetups)': {\n      label: 'Meetups',\n      flows: [{\n        pathId: 'state:meetup',\n        stepIndex: 0\n      }]\n    },\n    '(meetups)/[id]': {\n      label: 'Meetup Detail',\n      flows: [{\n        pathId: 'state:meetup',\n        stepIndex: 1\n      }]\n    }\n\n    // Profile screens intentionally omitted — no corresponding graph flow.\n  };\n\n  /** Check if a segment looks like a dynamic value (UUID, number, etc.) */\n  var isDynamicSegment = seg =>\n  // UUID pattern (hex + dashes, 8+ chars)\n  /^[0-9a-f-]{8,}$/i.test(seg) ||\n  // Pure number\n  /^\\d+$/.test(seg) ||\n  // UUID-like with standard 8-4-4-4-12 structure\n  /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(seg);\n\n  /**\n   * For dynamic segments, guess the param name based on the preceding route segment.\n   * Falls back to 'id' which covers most cases.\n   */\n  var guessDynamicName = (segments, index) => {\n    var prev = segments[index - 1];\n    if (prev === 'chat') return 'conversationId';\n    return 'id';\n  };\n\n  /**\n   * Resolves Expo Router segments to the best-matching path mapping.\n   * Tries longest prefix first, then falls back to tab-only segment.\n   *\n   * Dynamic segments like \"abc-123-uuid\" are matched against \"[id]\" patterns.\n   */\n  var resolveSegments = segments => {\n    // segments = ['(tabs)', '(discover)', 'browse'] or similar\n    var afterTabs = segments.slice(1); // drop '(tabs)'\n    if (afterTabs.length === 0) return null;\n\n    // Try longest match first, progressively shorten\n    for (var len = afterTabs.length; len >= 1; len--) {\n      var key = afterTabs.slice(0, len).map((seg, i) => isDynamicSegment(seg) ? `[${guessDynamicName(afterTabs, i)}]` : seg).join('/');\n      var mapping = ROUTE_PATH_MAP[key];\n      if (mapping) return mapping;\n    }\n    return null;\n  };\n});","lineCount":202,"map":[[7,2,136,0,"Object"],[7,8,136,0],[7,9,136,0,"defineProperty"],[7,23,136,0],[7,24,136,0,"exports"],[7,31,136,0],[8,4,136,0,"enumerable"],[8,14,136,0],[9,4,136,0,"get"],[9,7,136,0],[9,18,136,0,"get"],[9,19,136,0],[10,6,136,0],[10,13,136,9,"ROUTE_PATH_MAP"],[10,27,136,23],[11,4,136,23],[12,2,136,23],[13,2,136,0,"Object"],[13,8,136,0],[13,9,136,0,"defineProperty"],[13,23,136,0],[13,24,136,0,"exports"],[13,31,136,0],[14,4,136,0,"enumerable"],[14,14,136,0],[15,4,136,0,"get"],[15,7,136,0],[15,18,136,0,"get"],[15,19,136,0],[16,6,136,0],[16,13,136,25,"resolveSegments"],[16,28,136,40],[17,4,136,40],[18,2,136,40],[19,2,1,0],[20,0,2,0],[21,0,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,0,7,0],[27,2,9,0],[29,2,24,0],[30,0,25,0],[31,0,26,0],[32,0,27,0],[33,0,28,0],[34,0,29,0],[35,0,30,0],[36,0,31,0],[37,0,32,0],[38,0,33,0],[39,0,34,0],[40,2,35,0],[40,6,35,6,"ROUTE_PATH_MAP"],[40,20,35,54],[40,23,35,57],[41,4,36,2],[42,4,37,2],[42,16,37,14],[42,18,37,29],[43,6,37,31,"label"],[43,11,37,36],[43,13,37,38],[43,28,37,53],[44,6,37,57,"flows"],[44,11,37,62],[44,13,37,64],[44,14,37,65],[45,8,37,67,"pathId"],[45,14,37,73],[45,16,37,75],[45,32,37,91],[46,8,37,93,"stepIndex"],[46,17,37,102],[46,19,37,104],[47,6,37,106],[47,7,37,107],[48,4,37,109],[48,5,37,110],[49,4,38,2],[49,23,38,21],[49,25,38,29],[50,6,38,31,"label"],[50,11,38,36],[50,13,38,38],[50,30,38,55],[51,6,38,57,"flows"],[51,11,38,62],[51,13,38,64],[51,14,38,65],[52,8,38,67,"pathId"],[52,14,38,73],[52,16,38,75],[52,32,38,91],[53,8,38,93,"stepIndex"],[53,17,38,102],[53,19,38,104],[54,6,38,106],[54,7,38,107],[55,4,38,109],[55,5,38,110],[56,4,40,2],[57,4,41,2],[57,16,41,14],[57,18,41,29],[58,6,41,31,"label"],[58,11,41,36],[58,13,41,38],[58,26,41,51],[59,6,41,57,"flows"],[59,11,41,62],[59,13,41,64],[59,14,41,65],[60,8,41,67,"pathId"],[60,14,41,73],[60,16,41,75],[60,31,41,90],[61,8,41,92,"stepIndex"],[61,17,41,101],[61,19,41,103],[62,6,41,105],[62,7,41,106],[63,4,41,108],[63,5,41,109],[64,4,42,2],[64,20,42,18],[64,22,42,29],[65,6,42,31,"label"],[65,11,42,36],[65,13,42,38],[65,26,42,51],[66,6,42,57,"flows"],[66,11,42,62],[66,13,42,64],[66,14,42,65],[67,8,42,67,"pathId"],[67,14,42,73],[67,16,42,75],[67,31,42,90],[68,8,42,92,"stepIndex"],[68,17,42,101],[68,19,42,103],[69,6,42,105],[69,7,42,106],[70,4,42,108],[70,5,42,109],[71,4,43,2],[71,25,43,23],[71,27,43,29],[72,6,43,31,"label"],[72,11,43,36],[72,13,43,38],[72,23,43,48],[73,6,43,57,"flows"],[73,11,43,62],[73,13,43,64],[73,14,43,65],[74,8,43,67,"pathId"],[74,14,43,73],[74,16,43,75],[74,31,43,90],[75,8,43,92,"stepIndex"],[75,17,43,101],[75,19,43,103],[76,6,43,105],[76,7,43,106],[77,4,43,108],[77,5,43,109],[78,4,44,2],[78,27,44,25],[78,29,44,29],[79,6,44,31,"label"],[79,11,44,36],[79,13,44,38],[79,25,44,50],[80,6,44,57,"flows"],[80,11,44,62],[80,13,44,64],[80,14,44,65],[81,8,44,67,"pathId"],[81,14,44,73],[81,16,44,75],[81,31,44,90],[82,8,44,92,"stepIndex"],[82,17,44,101],[82,19,44,103],[83,6,44,105],[83,7,44,106],[84,4,44,108],[84,5,44,109],[85,4,45,2],[85,29,45,27],[85,31,45,29],[86,6,45,31,"label"],[86,11,45,36],[86,13,45,38],[86,29,45,54],[87,6,45,57,"flows"],[87,11,45,62],[87,13,45,64],[87,14,45,65],[88,8,45,67,"pathId"],[88,14,45,73],[88,16,45,75],[88,31,45,90],[89,8,45,92,"stepIndex"],[89,17,45,101],[89,19,45,103],[90,6,45,105],[90,7,45,106],[91,4,45,108],[91,5,45,109],[92,4,46,2],[92,26,46,24],[92,28,46,29],[93,6,46,31,"label"],[93,11,46,36],[93,13,46,38],[93,27,46,52],[94,6,46,57,"flows"],[94,11,46,62],[94,13,46,64],[94,14,46,65],[95,8,46,67,"pathId"],[95,14,46,73],[95,16,46,75],[95,31,46,90],[96,8,46,92,"stepIndex"],[96,17,46,101],[96,19,46,103],[97,6,46,105],[97,7,46,106],[98,4,46,108],[98,5,46,109],[99,4,48,2],[100,4,49,2],[100,30,49,28],[100,32,49,30],[101,6,50,4,"label"],[101,11,50,9],[101,13,50,11],[101,28,50,26],[102,6,51,4,"flows"],[102,11,51,9],[102,13,51,11],[102,14,52,6],[103,8,52,8,"pathId"],[103,14,52,14],[103,16,52,16],[103,32,52,32],[104,8,52,34,"stepIndex"],[104,17,52,43],[104,19,52,45],[105,6,52,47],[105,7,52,48],[105,9,53,6],[106,8,53,8,"pathId"],[106,14,53,14],[106,16,53,16],[106,31,53,31],[107,8,53,33,"stepIndex"],[107,17,53,42],[107,19,53,44],[108,6,53,46],[108,7,53,47],[109,4,55,2],[109,5,55,3],[110,4,57,2],[111,4,58,2],[111,16,58,14],[111,18,58,29],[112,6,58,31,"label"],[112,11,58,36],[112,13,58,38],[112,23,58,48],[113,6,58,55,"flows"],[113,11,58,60],[113,13,58,62],[113,14,58,63],[114,8,58,65,"pathId"],[114,14,58,71],[114,16,58,73],[114,29,58,86],[115,8,58,88,"stepIndex"],[115,17,58,97],[115,19,58,99],[116,6,58,101],[116,7,58,102],[117,4,58,104],[117,5,58,105],[118,4,59,2],[118,29,59,27],[118,31,59,29],[119,6,59,31,"label"],[119,11,59,36],[119,13,59,38],[119,27,59,52],[120,6,59,55,"flows"],[120,11,59,60],[120,13,59,62],[120,14,59,63],[121,8,59,65,"pathId"],[121,14,59,71],[121,16,59,73],[121,29,59,86],[122,8,59,88,"stepIndex"],[122,17,59,97],[122,19,59,99],[123,6,59,101],[123,7,59,102],[124,4,59,104],[124,5,59,105],[125,4,61,2],[125,38,61,36],[125,40,61,38],[126,6,62,4,"label"],[126,11,62,9],[126,13,62,11],[126,26,62,24],[127,6,63,4,"flows"],[127,11,63,9],[127,13,63,11],[127,14,64,6],[128,8,64,8,"pathId"],[128,14,64,14],[128,16,64,16],[128,29,64,29],[129,8,64,31,"stepIndex"],[129,17,64,40],[129,19,64,42],[130,6,64,44],[130,7,64,45],[130,9,65,6],[131,8,65,8,"pathId"],[131,14,65,14],[131,16,65,16],[131,32,65,32],[132,8,65,34,"stepIndex"],[132,17,65,43],[132,19,65,45],[133,6,65,47],[133,7,65,48],[134,4,67,2],[134,5,67,3],[135,4,69,2],[135,32,69,30],[135,34,69,32],[136,6,70,4,"label"],[136,11,70,9],[136,13,70,11],[136,30,70,28],[137,6,71,4,"flows"],[137,11,71,9],[137,13,71,11],[137,14,72,6],[138,8,72,8,"pathId"],[138,14,72,14],[138,16,72,16],[138,30,72,30],[139,8,72,32,"stepIndex"],[139,17,72,41],[139,19,72,43],[140,6,72,45],[140,7,72,46],[140,9,73,6],[141,8,73,8,"pathId"],[141,14,73,14],[141,16,73,16],[141,29,73,29],[142,8,73,31,"stepIndex"],[142,17,73,40],[142,19,73,42],[143,6,73,44],[143,7,73,45],[144,4,75,2],[144,5,75,3],[145,4,77,2],[146,4,78,2],[146,15,78,13],[146,17,78,21],[147,6,78,23,"label"],[147,11,78,28],[147,13,78,30],[147,22,78,39],[148,6,78,47,"flows"],[148,11,78,52],[148,13,78,54],[148,14,78,55],[149,8,78,57,"pathId"],[149,14,78,63],[149,16,78,65],[149,30,78,79],[150,8,78,81,"stepIndex"],[150,17,78,90],[150,19,78,92],[151,6,78,94],[151,7,78,95],[152,4,78,97],[152,5,78,98],[153,4,79,2],[153,20,79,18],[153,22,79,21],[154,6,80,4,"label"],[154,11,80,9],[154,13,80,11],[154,28,80,26],[155,6,81,4,"flows"],[155,11,81,9],[155,13,81,11],[155,14,82,6],[156,8,82,8,"pathId"],[156,14,82,14],[156,16,82,16],[156,30,82,30],[157,8,82,32,"stepIndex"],[157,17,82,41],[157,19,82,43],[158,6,82,45],[158,7,82,46],[159,4,84,2],[161,4,86,2],[162,2,87,0],[162,3,87,1],[164,2,89,0],[165,2,90,0],[165,6,90,6,"isDynamicSegment"],[165,22,90,22],[165,25,90,26,"seg"],[165,28,90,37],[166,2,91,2],[167,2,92,2],[167,20,92,20],[167,21,92,21,"test"],[167,25,92,25],[167,26,92,26,"seg"],[167,29,92,29],[167,30,92,30],[168,2,93,2],[169,2,94,2],[169,9,94,9],[169,10,94,10,"test"],[169,14,94,14],[169,15,94,15,"seg"],[169,18,94,18],[169,19,94,19],[170,2,95,2],[171,2,96,2],[171,67,96,67],[171,68,96,68,"test"],[171,72,96,72],[171,73,96,73,"seg"],[171,76,96,76],[171,77,96,77],[173,2,98,0],[174,0,99,0],[175,0,100,0],[176,0,101,0],[177,2,102,0],[177,6,102,6,"guessDynamicName"],[177,22,102,22],[177,25,102,25,"guessDynamicName"],[177,26,102,26,"segments"],[177,34,102,44],[177,36,102,46,"index"],[177,41,102,59],[177,46,102,72],[178,4,103,2],[178,8,103,8,"prev"],[178,12,103,12],[178,15,103,15,"segments"],[178,23,103,23],[178,24,103,24,"index"],[178,29,103,29],[178,32,103,32],[178,33,103,33],[178,34,103,34],[179,4,104,2],[179,8,104,6,"prev"],[179,12,104,10],[179,17,104,15],[179,23,104,21],[179,25,104,23],[179,32,104,30],[179,48,104,46],[180,4,105,2],[180,11,105,9],[180,15,105,13],[181,2,106,0],[181,3,106,1],[183,2,108,0],[184,0,109,0],[185,0,110,0],[186,0,111,0],[187,0,112,0],[188,0,113,0],[189,2,114,0],[189,6,114,6,"resolveSegments"],[189,21,114,21],[189,24,115,2,"segments"],[189,32,115,20],[189,36,116,30],[190,4,117,2],[191,4,118,2],[191,8,118,8,"afterTabs"],[191,17,118,17],[191,20,118,20,"segments"],[191,28,118,28],[191,29,118,29,"slice"],[191,34,118,34],[191,35,118,35],[191,36,118,36],[191,37,118,37],[191,38,118,38],[191,39,118,39],[192,4,119,2],[192,8,119,6,"afterTabs"],[192,17,119,15],[192,18,119,16,"length"],[192,24,119,22],[192,29,119,27],[192,30,119,28],[192,32,119,30],[192,39,119,37],[192,43,119,41],[194,4,121,2],[195,4,122,2],[195,9,122,7],[195,13,122,11,"len"],[195,16,122,14],[195,19,122,17,"afterTabs"],[195,28,122,26],[195,29,122,27,"length"],[195,35,122,33],[195,37,122,35,"len"],[195,40,122,38],[195,44,122,42],[195,45,122,43],[195,47,122,45,"len"],[195,50,122,48],[195,52,122,50],[195,54,122,52],[196,6,123,4],[196,10,123,10,"key"],[196,13,123,13],[196,16,123,16,"afterTabs"],[196,25,123,25],[196,26,124,7,"slice"],[196,31,124,12],[196,32,124,13],[196,33,124,14],[196,35,124,16,"len"],[196,38,124,19],[196,39,124,20],[196,40,125,7,"map"],[196,43,125,10],[196,44,125,11],[196,45,125,12,"seg"],[196,48,125,15],[196,50,125,17,"i"],[196,51,125,18],[196,56,126,8,"isDynamicSegment"],[196,72,126,24],[196,73,126,25,"seg"],[196,76,126,28],[196,77,126,29],[196,80,126,32],[196,84,126,36,"guessDynamicName"],[196,100,126,52],[196,101,126,53,"afterTabs"],[196,110,126,62],[196,112,126,64,"i"],[196,113,126,65],[196,114,126,66],[196,117,126,69],[196,120,126,72,"seg"],[196,123,127,6],[196,124,127,7],[196,125,128,7,"join"],[196,129,128,11],[196,130,128,12],[196,133,128,15],[196,134,128,16],[197,6,129,4],[197,10,129,10,"mapping"],[197,17,129,17],[197,20,129,20,"ROUTE_PATH_MAP"],[197,34,129,34],[197,35,129,35,"key"],[197,38,129,38],[197,39,129,39],[198,6,130,4],[198,10,130,8,"mapping"],[198,17,130,15],[198,19,130,17],[198,26,130,24,"mapping"],[198,33,130,31],[199,4,131,2],[200,4,133,2],[200,11,133,9],[200,15,133,13],[201,2,134,0],[201,3,134,1],[202,0,134,2],[202,3]],"functionMap":{"names":["<global>","isDynamicSegment","guessDynamicName","resolveSegments","afterTabs.slice.map$argument_0"],"mappings":"AAA;yBCyF;6EDM;yBEM;CFI;wBGQ;WCW;2EDC;CHQ"},"hasCjsExports":false},"type":"js/module"}]}