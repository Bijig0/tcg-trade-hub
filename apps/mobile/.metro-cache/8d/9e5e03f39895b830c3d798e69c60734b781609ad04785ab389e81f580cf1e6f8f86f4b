{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"ROUTE_PATH_MAP\", {\n    enumerable: true,\n    get: function () {\n      return ROUTE_PATH_MAP;\n    }\n  });\n  Object.defineProperty(exports, \"resolveSegments\", {\n    enumerable: true,\n    get: function () {\n      return resolveSegments;\n    }\n  });\n  /**\n   * Maps Expo Router segments to graph path IDs with step-level granularity.\n   *\n   * When the user navigates within the app, we resolve the full segment path\n   * to a graph pathId + stepIndex so the admin graph can highlight the\n   * exact step the user is on.\n   */\n\n  /**\n   * Lookup from full segment path to graph path mapping.\n   *\n   * Keys use \"/\" to join segments after \"(tabs)\".\n   * The resolver tries longest-prefix match first, then falls back to tab-only.\n   *\n   * Example segments from Expo Router:\n   *   ['(tabs)', '(discover)']                     -> key: '(discover)'\n   *   ['(tabs)', '(discover)', 'browse']           -> key: '(discover)/browse'\n   *   ['(tabs)', '(listings)', 'listing', '[id]']  -> key: '(listings)/listing/[id]'\n   */\n  var ROUTE_PATH_MAP = {\n    // ── P2P Trade Flow (flow:p2p-trade) ──\n    '(discover)': {\n      pathId: 'flow:p2p-trade',\n      label: 'Discover Feed',\n      stepIndex: 0\n    },\n    '(discover)/browse': {\n      pathId: 'flow:p2p-trade',\n      label: 'Browse Listings',\n      stepIndex: 0\n    },\n    // ── Listing State Machine (state:listing) ──\n    '(listings)': {\n      pathId: 'state:listing',\n      label: 'My Listings',\n      stepIndex: 0\n    },\n    '(listings)/new': {\n      pathId: 'state:listing',\n      label: 'New Listing',\n      stepIndex: 0\n    },\n    '(listings)/add-card': {\n      pathId: 'state:listing',\n      label: 'Add Card',\n      stepIndex: 0\n    },\n    '(listings)/add-sealed': {\n      pathId: 'state:listing',\n      label: 'Add Sealed',\n      stepIndex: 0\n    },\n    '(listings)/listing/[id]': {\n      pathId: 'state:listing',\n      label: 'Listing Detail',\n      stepIndex: 1\n    },\n    '(listings)/edit/[id]': {\n      pathId: 'state:listing',\n      label: 'Edit Listing',\n      stepIndex: 2\n    },\n    '(listings)/trade-builder': {\n      pathId: 'flow:p2p-trade',\n      label: 'Trade Builder',\n      stepIndex: 1\n    },\n    // ── Offer State Machine (state:offer) ──\n    '(messages)': {\n      pathId: 'state:offer',\n      label: 'Messages',\n      stepIndex: 0\n    },\n    '(messages)/chat/[conversationId]': {\n      pathId: 'state:offer',\n      label: 'Chat Thread',\n      stepIndex: 1\n    },\n    '(messages)/offer-detail': {\n      pathId: 'state:offer',\n      label: 'Offer Detail',\n      stepIndex: 2\n    },\n    '(messages)/meetup-location': {\n      pathId: 'state:meetup',\n      label: 'Meetup Location',\n      stepIndex: 1\n    },\n    // ── Meetup State Machine (state:meetup) ──\n    '(meetups)': {\n      pathId: 'state:meetup',\n      label: 'Meetups',\n      stepIndex: 0\n    },\n    '(meetups)/[id]': {\n      pathId: 'state:meetup',\n      label: 'Meetup Detail',\n      stepIndex: 1\n    }\n\n    // Profile screens intentionally omitted — no corresponding graph flow.\n  };\n\n  /** Check if a segment looks like a dynamic value (UUID, number, etc.) */\n  var isDynamicSegment = seg =>\n  // UUID pattern (hex + dashes, 8+ chars)\n  /^[0-9a-f-]{8,}$/i.test(seg) ||\n  // Pure number\n  /^\\d+$/.test(seg) ||\n  // UUID-like with standard 8-4-4-4-12 structure\n  /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(seg);\n\n  /**\n   * For dynamic segments, guess the param name based on the preceding route segment.\n   * Falls back to 'id' which covers most cases.\n   */\n  var guessDynamicName = (segments, index) => {\n    var prev = segments[index - 1];\n    if (prev === 'chat') return 'conversationId';\n    return 'id';\n  };\n\n  /**\n   * Resolves Expo Router segments to the best-matching path mapping.\n   * Tries longest prefix first, then falls back to tab-only segment.\n   *\n   * Dynamic segments like \"abc-123-uuid\" are matched against \"[id]\" patterns.\n   */\n  var resolveSegments = segments => {\n    // segments = ['(tabs)', '(discover)', 'browse'] or similar\n    var afterTabs = segments.slice(1); // drop '(tabs)'\n    if (afterTabs.length === 0) return null;\n\n    // Try longest match first, progressively shorten\n    for (var len = afterTabs.length; len >= 1; len--) {\n      var key = afterTabs.slice(0, len).map((seg, i) => isDynamicSegment(seg) ? `[${guessDynamicName(afterTabs, i)}]` : seg).join('/');\n      var mapping = ROUTE_PATH_MAP[key];\n      if (mapping) return mapping;\n    }\n    return null;\n  };\n});","lineCount":160,"map":[[7,2,103,0,"Object"],[7,8,103,0],[7,9,103,0,"defineProperty"],[7,23,103,0],[7,24,103,0,"exports"],[7,31,103,0],[8,4,103,0,"enumerable"],[8,14,103,0],[9,4,103,0,"get"],[9,7,103,0],[9,18,103,0,"get"],[9,19,103,0],[10,6,103,0],[10,13,103,9,"ROUTE_PATH_MAP"],[10,27,103,23],[11,4,103,23],[12,2,103,23],[13,2,103,0,"Object"],[13,8,103,0],[13,9,103,0,"defineProperty"],[13,23,103,0],[13,24,103,0,"exports"],[13,31,103,0],[14,4,103,0,"enumerable"],[14,14,103,0],[15,4,103,0,"get"],[15,7,103,0],[15,18,103,0,"get"],[15,19,103,0],[16,6,103,0],[16,13,103,25,"resolveSegments"],[16,28,103,40],[17,4,103,40],[18,2,103,40],[19,2,1,0],[20,0,2,0],[21,0,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,0,7,0],[27,2,18,0],[28,0,19,0],[29,0,20,0],[30,0,21,0],[31,0,22,0],[32,0,23,0],[33,0,24,0],[34,0,25,0],[35,0,26,0],[36,0,27,0],[37,0,28,0],[38,2,29,0],[38,6,29,6,"ROUTE_PATH_MAP"],[38,20,29,54],[38,23,29,57],[39,4,30,2],[40,4,31,2],[40,16,31,14],[40,18,31,29],[41,6,31,31,"pathId"],[41,12,31,37],[41,14,31,39],[41,30,31,55],[42,6,31,57,"label"],[42,11,31,62],[42,13,31,64],[42,28,31,79],[43,6,31,83,"stepIndex"],[43,15,31,92],[43,17,31,94],[44,4,31,96],[44,5,31,97],[45,4,32,2],[45,23,32,21],[45,25,32,29],[46,6,32,31,"pathId"],[46,12,32,37],[46,14,32,39],[46,30,32,55],[47,6,32,57,"label"],[47,11,32,62],[47,13,32,64],[47,30,32,81],[48,6,32,83,"stepIndex"],[48,15,32,92],[48,17,32,94],[49,4,32,96],[49,5,32,97],[50,4,34,2],[51,4,35,2],[51,16,35,14],[51,18,35,29],[52,6,35,31,"pathId"],[52,12,35,37],[52,14,35,39],[52,29,35,54],[53,6,35,57,"label"],[53,11,35,62],[53,13,35,64],[53,26,35,77],[54,6,35,83,"stepIndex"],[54,15,35,92],[54,17,35,94],[55,4,35,96],[55,5,35,97],[56,4,36,2],[56,20,36,18],[56,22,36,29],[57,6,36,31,"pathId"],[57,12,36,37],[57,14,36,39],[57,29,36,54],[58,6,36,57,"label"],[58,11,36,62],[58,13,36,64],[58,26,36,77],[59,6,36,83,"stepIndex"],[59,15,36,92],[59,17,36,94],[60,4,36,96],[60,5,36,97],[61,4,37,2],[61,25,37,23],[61,27,37,29],[62,6,37,31,"pathId"],[62,12,37,37],[62,14,37,39],[62,29,37,54],[63,6,37,57,"label"],[63,11,37,62],[63,13,37,64],[63,23,37,74],[64,6,37,83,"stepIndex"],[64,15,37,92],[64,17,37,94],[65,4,37,96],[65,5,37,97],[66,4,38,2],[66,27,38,25],[66,29,38,29],[67,6,38,31,"pathId"],[67,12,38,37],[67,14,38,39],[67,29,38,54],[68,6,38,57,"label"],[68,11,38,62],[68,13,38,64],[68,25,38,76],[69,6,38,83,"stepIndex"],[69,15,38,92],[69,17,38,94],[70,4,38,96],[70,5,38,97],[71,4,39,2],[71,29,39,27],[71,31,39,29],[72,6,39,31,"pathId"],[72,12,39,37],[72,14,39,39],[72,29,39,54],[73,6,39,57,"label"],[73,11,39,62],[73,13,39,64],[73,29,39,80],[74,6,39,83,"stepIndex"],[74,15,39,92],[74,17,39,94],[75,4,39,96],[75,5,39,97],[76,4,40,2],[76,26,40,24],[76,28,40,29],[77,6,40,31,"pathId"],[77,12,40,37],[77,14,40,39],[77,29,40,54],[78,6,40,57,"label"],[78,11,40,62],[78,13,40,64],[78,27,40,78],[79,6,40,83,"stepIndex"],[79,15,40,92],[79,17,40,94],[80,4,40,96],[80,5,40,97],[81,4,41,2],[81,30,41,28],[81,32,41,30],[82,6,41,32,"pathId"],[82,12,41,38],[82,14,41,40],[82,30,41,56],[83,6,41,58,"label"],[83,11,41,63],[83,13,41,65],[83,28,41,80],[84,6,41,83,"stepIndex"],[84,15,41,92],[84,17,41,94],[85,4,41,96],[85,5,41,97],[86,4,43,2],[87,4,44,2],[87,16,44,14],[87,18,44,38],[88,6,44,40,"pathId"],[88,12,44,46],[88,14,44,48],[88,27,44,61],[89,6,44,64,"label"],[89,11,44,69],[89,13,44,71],[89,23,44,81],[90,6,44,90,"stepIndex"],[90,15,44,99],[90,17,44,101],[91,4,44,103],[91,5,44,104],[92,4,45,2],[92,38,45,36],[92,40,45,38],[93,6,45,40,"pathId"],[93,12,45,46],[93,14,45,48],[93,27,45,61],[94,6,45,64,"label"],[94,11,45,69],[94,13,45,71],[94,26,45,84],[95,6,45,90,"stepIndex"],[95,15,45,99],[95,17,45,101],[96,4,45,103],[96,5,45,104],[97,4,46,2],[97,29,46,27],[97,31,46,38],[98,6,46,40,"pathId"],[98,12,46,46],[98,14,46,48],[98,27,46,61],[99,6,46,64,"label"],[99,11,46,69],[99,13,46,71],[99,27,46,85],[100,6,46,90,"stepIndex"],[100,15,46,99],[100,17,46,101],[101,4,46,103],[101,5,46,104],[102,4,47,2],[102,32,47,30],[102,34,47,38],[103,6,47,40,"pathId"],[103,12,47,46],[103,14,47,48],[103,28,47,62],[104,6,47,64,"label"],[104,11,47,69],[104,13,47,71],[104,30,47,88],[105,6,47,90,"stepIndex"],[105,15,47,99],[105,17,47,101],[106,4,47,103],[106,5,47,104],[107,4,49,2],[108,4,50,2],[108,15,50,13],[108,17,50,21],[109,6,50,23,"pathId"],[109,12,50,29],[109,14,50,31],[109,28,50,45],[110,6,50,47,"label"],[110,11,50,52],[110,13,50,54],[110,22,50,63],[111,6,50,71,"stepIndex"],[111,15,50,80],[111,17,50,82],[112,4,50,84],[112,5,50,85],[113,4,51,2],[113,20,51,18],[113,22,51,21],[114,6,51,23,"pathId"],[114,12,51,29],[114,14,51,31],[114,28,51,45],[115,6,51,47,"label"],[115,11,51,52],[115,13,51,54],[115,28,51,69],[116,6,51,71,"stepIndex"],[116,15,51,80],[116,17,51,82],[117,4,51,84],[119,4,53,2],[120,2,54,0],[120,3,54,1],[122,2,56,0],[123,2,57,0],[123,6,57,6,"isDynamicSegment"],[123,22,57,22],[123,25,57,26,"seg"],[123,28,57,37],[124,2,58,2],[125,2,59,2],[125,20,59,20],[125,21,59,21,"test"],[125,25,59,25],[125,26,59,26,"seg"],[125,29,59,29],[125,30,59,30],[126,2,60,2],[127,2,61,2],[127,9,61,9],[127,10,61,10,"test"],[127,14,61,14],[127,15,61,15,"seg"],[127,18,61,18],[127,19,61,19],[128,2,62,2],[129,2,63,2],[129,67,63,67],[129,68,63,68,"test"],[129,72,63,72],[129,73,63,73,"seg"],[129,76,63,76],[129,77,63,77],[131,2,65,0],[132,0,66,0],[133,0,67,0],[134,0,68,0],[135,2,69,0],[135,6,69,6,"guessDynamicName"],[135,22,69,22],[135,25,69,25,"guessDynamicName"],[135,26,69,26,"segments"],[135,34,69,44],[135,36,69,46,"index"],[135,41,69,59],[135,46,69,72],[136,4,70,2],[136,8,70,8,"prev"],[136,12,70,12],[136,15,70,15,"segments"],[136,23,70,23],[136,24,70,24,"index"],[136,29,70,29],[136,32,70,32],[136,33,70,33],[136,34,70,34],[137,4,71,2],[137,8,71,6,"prev"],[137,12,71,10],[137,17,71,15],[137,23,71,21],[137,25,71,23],[137,32,71,30],[137,48,71,46],[138,4,72,2],[138,11,72,9],[138,15,72,13],[139,2,73,0],[139,3,73,1],[141,2,75,0],[142,0,76,0],[143,0,77,0],[144,0,78,0],[145,0,79,0],[146,0,80,0],[147,2,81,0],[147,6,81,6,"resolveSegments"],[147,21,81,21],[147,24,82,2,"segments"],[147,32,82,20],[147,36,83,30],[148,4,84,2],[149,4,85,2],[149,8,85,8,"afterTabs"],[149,17,85,17],[149,20,85,20,"segments"],[149,28,85,28],[149,29,85,29,"slice"],[149,34,85,34],[149,35,85,35],[149,36,85,36],[149,37,85,37],[149,38,85,38],[149,39,85,39],[150,4,86,2],[150,8,86,6,"afterTabs"],[150,17,86,15],[150,18,86,16,"length"],[150,24,86,22],[150,29,86,27],[150,30,86,28],[150,32,86,30],[150,39,86,37],[150,43,86,41],[152,4,88,2],[153,4,89,2],[153,9,89,7],[153,13,89,11,"len"],[153,16,89,14],[153,19,89,17,"afterTabs"],[153,28,89,26],[153,29,89,27,"length"],[153,35,89,33],[153,37,89,35,"len"],[153,40,89,38],[153,44,89,42],[153,45,89,43],[153,47,89,45,"len"],[153,50,89,48],[153,52,89,50],[153,54,89,52],[154,6,90,4],[154,10,90,10,"key"],[154,13,90,13],[154,16,90,16,"afterTabs"],[154,25,90,25],[154,26,91,7,"slice"],[154,31,91,12],[154,32,91,13],[154,33,91,14],[154,35,91,16,"len"],[154,38,91,19],[154,39,91,20],[154,40,92,7,"map"],[154,43,92,10],[154,44,92,11],[154,45,92,12,"seg"],[154,48,92,15],[154,50,92,17,"i"],[154,51,92,18],[154,56,93,8,"isDynamicSegment"],[154,72,93,24],[154,73,93,25,"seg"],[154,76,93,28],[154,77,93,29],[154,80,93,32],[154,84,93,36,"guessDynamicName"],[154,100,93,52],[154,101,93,53,"afterTabs"],[154,110,93,62],[154,112,93,64,"i"],[154,113,93,65],[154,114,93,66],[154,117,93,69],[154,120,93,72,"seg"],[154,123,94,6],[154,124,94,7],[154,125,95,7,"join"],[154,129,95,11],[154,130,95,12],[154,133,95,15],[154,134,95,16],[155,6,96,4],[155,10,96,10,"mapping"],[155,17,96,17],[155,20,96,20,"ROUTE_PATH_MAP"],[155,34,96,34],[155,35,96,35,"key"],[155,38,96,38],[155,39,96,39],[156,6,97,4],[156,10,97,8,"mapping"],[156,17,97,15],[156,19,97,17],[156,26,97,24,"mapping"],[156,33,97,31],[157,4,98,2],[158,4,100,2],[158,11,100,9],[158,15,100,13],[159,2,101,0],[159,3,101,1],[160,0,101,2],[160,3]],"functionMap":{"names":["<global>","isDynamicSegment","guessDynamicName","resolveSegments","afterTabs.slice.map$argument_0"],"mappings":"AAA;yBCwD;6EDM;yBEM;CFI;wBGQ;WCW;2EDC;CHQ"},"hasCjsExports":false},"type":"js/module"}]}