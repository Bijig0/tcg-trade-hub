{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":63,"index":63}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":64},"end":{"line":2,"column":49,"index":113}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/services/cardData","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":186},"end":{"line":4,"column":54,"index":240}}],"key":"aDLIuqe8ZoUac1cvYkmTdLzn7po=","exportNames":["*"],"imports":1}},{"name":"@/stores/feedStore/feedStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":241},"end":{"line":5,"column":60,"index":301}}],"key":"ckClypyu2gzEzzWVrK+Z7fd4GzQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1]);\n  var _tanstackReactQuery = require(_dependencyMap[2]);\n  var _servicesCardData = require(_dependencyMap[3]);\n  var _storesFeedStoreFeedStore = require(_dependencyMap[4]);\n  var DEBOUNCE_MS = 300;\n  var MAX_PREVIEW = 5;\n  /**\n   * Hook that wraps card search with debouncing and dropdown state\n   * for autocomplete UX in the browse view.\n   *\n   * - Local `query` state with 300ms debounce before triggering search\n   * - Limits preview to 5 results with a \"See all\" affordance\n   * - Respects the current TCG filter from feedStore\n   */\n  var useAutocompleteSearch = () => {\n    var tcg = (0, _storesFeedStoreFeedStore.useFeedStore)(s => s.filters.tcg);\n    var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      query = _useState2[0],\n      setQueryRaw = _useState2[1];\n    var _useState3 = (0, _react.useState)(''),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      debouncedQuery = _useState4[0],\n      setDebouncedQuery = _useState4[1];\n    var _useState5 = (0, _react.useState)(false),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      isDropdownOpen = _useState6[0],\n      setIsDropdownOpen = _useState6[1];\n    var timerRef = (0, _react.useRef)(null);\n    var setQuery = (0, _react.useCallback)(text => {\n      setQueryRaw(text);\n      if (timerRef.current) clearTimeout(timerRef.current);\n      timerRef.current = setTimeout(() => {\n        setDebouncedQuery(text.trim());\n        if (text.trim().length >= 2) {\n          setIsDropdownOpen(true);\n        }\n      }, DEBOUNCE_MS);\n    }, []);\n    var clearQuery = (0, _react.useCallback)(() => {\n      setQueryRaw('');\n      setDebouncedQuery('');\n      setIsDropdownOpen(false);\n      if (timerRef.current) clearTimeout(timerRef.current);\n    }, []);\n\n    // Search needs a TCG â€” default to pokemon if none selected\n    var searchTcg = tcg ?? 'pokemon';\n    var enabled = debouncedQuery.length >= 2;\n    var _useQuery = (0, _tanstackReactQuery.useQuery)({\n        queryKey: ['card-search', searchTcg, debouncedQuery],\n        queryFn: () => _servicesCardData.cardDataService.searchCards(debouncedQuery, searchTcg),\n        enabled,\n        staleTime: 600000\n      }),\n      _useQuery$data = _useQuery.data,\n      results = _useQuery$data === undefined ? [] : _useQuery$data,\n      isLoading = _useQuery.isLoading;\n    var previewResults = (0, _react.useMemo)(() => results.slice(0, MAX_PREVIEW), [results]);\n    var hasMore = results.length > MAX_PREVIEW;\n    return {\n      query,\n      setQuery,\n      clearQuery,\n      isDropdownOpen,\n      setIsDropdownOpen,\n      previewResults,\n      hasMore,\n      isLoading: isLoading && enabled,\n      totalResults: results.length\n    };\n  };\n  var _default = useAutocompleteSearch;\n});","lineCount":93,"map":[[12,2,86,0,"Object"],[12,8,86,0],[12,9,86,0,"defineProperty"],[12,23,86,0],[12,24,86,0,"exports"],[12,31,86,0],[13,4,86,0,"enumerable"],[13,14,86,0],[14,4,86,0,"get"],[14,7,86,0],[14,18,86,0,"get"],[14,19,86,0],[15,6,86,0],[15,13,86,0,"_default"],[15,21,86,0],[16,4,86,0],[17,2,86,0],[18,2,86,37],[18,6,86,37,"_babelRuntimeHelpersSlicedToArray"],[18,39,86,37],[18,42,86,37,"require"],[18,49,86,37],[18,50,86,37,"_dependencyMap"],[18,64,86,37],[19,2,86,37],[19,6,86,37,"_slicedToArray"],[19,20,86,37],[19,23,86,37,"_interopDefault"],[19,38,86,37],[19,39,86,37,"_babelRuntimeHelpersSlicedToArray"],[19,72,86,37],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_tanstackReactQuery"],[21,25,2,0],[21,28,2,0,"require"],[21,35,2,0],[21,36,2,0,"_dependencyMap"],[21,50,2,0],[22,2,4,0],[22,6,4,0,"_servicesCardData"],[22,23,4,0],[22,26,4,0,"require"],[22,33,4,0],[22,34,4,0,"_dependencyMap"],[22,48,4,0],[23,2,5,0],[23,6,5,0,"_storesFeedStoreFeedStore"],[23,31,5,0],[23,34,5,0,"require"],[23,41,5,0],[23,42,5,0,"_dependencyMap"],[23,56,5,0],[24,2,7,0],[24,6,7,6,"DEBOUNCE_MS"],[24,17,7,17],[24,20,7,20],[24,23,7,23],[25,2,8,0],[25,6,8,6,"MAX_PREVIEW"],[25,17,8,17],[25,20,8,20],[25,21,8,21],[26,2,22,0],[27,0,23,0],[28,0,24,0],[29,0,25,0],[30,0,26,0],[31,0,27,0],[32,0,28,0],[33,0,29,0],[34,2,30,0],[34,6,30,6,"useAutocompleteSearch"],[34,27,30,27],[34,30,30,30,"useAutocompleteSearch"],[34,31,30,30],[34,36,30,65],[35,4,31,2],[35,8,31,8,"tcg"],[35,11,31,11],[35,14,31,14],[35,18,31,14,"useFeedStore"],[35,43,31,26],[35,44,31,26,"useFeedStore"],[35,56,31,26],[35,58,31,28,"s"],[35,59,31,29],[35,63,31,34,"s"],[35,64,31,35],[35,65,31,36,"filters"],[35,72,31,43],[35,73,31,44,"tcg"],[35,76,31,47],[35,77,31,48],[36,4,32,2],[36,8,32,2,"_useState"],[36,17,32,2],[36,20,32,31],[36,24,32,31,"useState"],[36,30,32,39],[36,31,32,39,"useState"],[36,39,32,39],[36,41,32,40],[36,43,32,42],[36,44,32,43],[37,6,32,43,"_useState2"],[37,16,32,43],[37,23,32,43,"_slicedToArray"],[37,37,32,43],[37,38,32,43,"default"],[37,45,32,43],[37,47,32,43,"_useState"],[37,56,32,43],[38,6,32,9,"query"],[38,11,32,14],[38,14,32,14,"_useState2"],[38,24,32,14],[39,6,32,16,"setQueryRaw"],[39,17,32,27],[39,20,32,27,"_useState2"],[39,30,32,27],[40,4,33,2],[40,8,33,2,"_useState3"],[40,18,33,2],[40,21,33,46],[40,25,33,46,"useState"],[40,31,33,54],[40,32,33,54,"useState"],[40,40,33,54],[40,42,33,55],[40,44,33,57],[40,45,33,58],[41,6,33,58,"_useState4"],[41,16,33,58],[41,23,33,58,"_slicedToArray"],[41,37,33,58],[41,38,33,58,"default"],[41,45,33,58],[41,47,33,58,"_useState3"],[41,57,33,58],[42,6,33,9,"debouncedQuery"],[42,20,33,23],[42,23,33,23,"_useState4"],[42,33,33,23],[43,6,33,25,"setDebouncedQuery"],[43,23,33,42],[43,26,33,42,"_useState4"],[43,36,33,42],[44,4,34,2],[44,8,34,2,"_useState5"],[44,18,34,2],[44,21,34,46],[44,25,34,46,"useState"],[44,31,34,54],[44,32,34,54,"useState"],[44,40,34,54],[44,42,34,55],[44,47,34,60],[44,48,34,61],[45,6,34,61,"_useState6"],[45,16,34,61],[45,23,34,61,"_slicedToArray"],[45,37,34,61],[45,38,34,61,"default"],[45,45,34,61],[45,47,34,61,"_useState5"],[45,57,34,61],[46,6,34,9,"isDropdownOpen"],[46,20,34,23],[46,23,34,23,"_useState6"],[46,33,34,23],[47,6,34,25,"setIsDropdownOpen"],[47,23,34,42],[47,26,34,42,"_useState6"],[47,36,34,42],[48,4,35,2],[48,8,35,8,"timerRef"],[48,16,35,16],[48,19,35,19],[48,23,35,19,"useRef"],[48,29,35,25],[48,30,35,25,"useRef"],[48,36,35,25],[48,38,35,64],[48,42,35,68],[48,43,35,69],[49,4,37,2],[49,8,37,8,"setQuery"],[49,16,37,16],[49,19,37,19],[49,23,37,19,"useCallback"],[49,29,37,30],[49,30,37,30,"useCallback"],[49,41,37,30],[49,43,37,32,"text"],[49,47,37,44],[49,51,37,49],[50,6,38,4,"setQueryRaw"],[50,17,38,15],[50,18,38,16,"text"],[50,22,38,20],[50,23,38,21],[51,6,39,4],[51,10,39,8,"timerRef"],[51,18,39,16],[51,19,39,17,"current"],[51,26,39,24],[51,28,39,26,"clearTimeout"],[51,40,39,38],[51,41,39,39,"timerRef"],[51,49,39,47],[51,50,39,48,"current"],[51,57,39,55],[51,58,39,56],[52,6,40,4,"timerRef"],[52,14,40,12],[52,15,40,13,"current"],[52,22,40,20],[52,25,40,23,"setTimeout"],[52,35,40,33],[52,36,40,34],[52,42,40,40],[53,8,41,6,"setDebouncedQuery"],[53,25,41,23],[53,26,41,24,"text"],[53,30,41,28],[53,31,41,29,"trim"],[53,35,41,33],[53,36,41,34],[53,37,41,35],[53,38,41,36],[54,8,42,6],[54,12,42,10,"text"],[54,16,42,14],[54,17,42,15,"trim"],[54,21,42,19],[54,22,42,20],[54,23,42,21],[54,24,42,22,"length"],[54,30,42,28],[54,34,42,32],[54,35,42,33],[54,37,42,35],[55,10,43,8,"setIsDropdownOpen"],[55,27,43,25],[55,28,43,26],[55,32,43,30],[55,33,43,31],[56,8,44,6],[57,6,45,4],[57,7,45,5],[57,9,45,7,"DEBOUNCE_MS"],[57,20,45,18],[57,21,45,19],[58,4,46,2],[58,5,46,3],[58,7,46,5],[58,9,46,7],[58,10,46,8],[59,4,48,2],[59,8,48,8,"clearQuery"],[59,18,48,18],[59,21,48,21],[59,25,48,21,"useCallback"],[59,31,48,32],[59,32,48,32,"useCallback"],[59,43,48,32],[59,45,48,33],[59,51,48,39],[60,6,49,4,"setQueryRaw"],[60,17,49,15],[60,18,49,16],[60,20,49,18],[60,21,49,19],[61,6,50,4,"setDebouncedQuery"],[61,23,50,21],[61,24,50,22],[61,26,50,24],[61,27,50,25],[62,6,51,4,"setIsDropdownOpen"],[62,23,51,21],[62,24,51,22],[62,29,51,27],[62,30,51,28],[63,6,52,4],[63,10,52,8,"timerRef"],[63,18,52,16],[63,19,52,17,"current"],[63,26,52,24],[63,28,52,26,"clearTimeout"],[63,40,52,38],[63,41,52,39,"timerRef"],[63,49,52,47],[63,50,52,48,"current"],[63,57,52,55],[63,58,52,56],[64,4,53,2],[64,5,53,3],[64,7,53,5],[64,9,53,7],[64,10,53,8],[66,4,55,2],[67,4,56,2],[67,8,56,8,"searchTcg"],[67,17,56,26],[67,20,56,29,"tcg"],[67,23,56,32],[67,27,56,36],[67,36,56,45],[68,4,57,2],[68,8,57,8,"enabled"],[68,15,57,15],[68,18,57,18,"debouncedQuery"],[68,32,57,32],[68,33,57,33,"length"],[68,39,57,39],[68,43,57,43],[68,44,57,44],[69,4,59,2],[69,8,59,2,"_useQuery"],[69,17,59,2],[69,20,59,44],[69,24,59,44,"useQuery"],[69,43,59,52],[69,44,59,52,"useQuery"],[69,52,59,52],[69,54,59,78],[70,8,60,4,"queryKey"],[70,16,60,12],[70,18,60,14],[70,19,60,15],[70,32,60,28],[70,34,60,30,"searchTcg"],[70,43,60,39],[70,45,60,41,"debouncedQuery"],[70,59,60,55],[70,60,60,56],[71,8,61,4,"queryFn"],[71,15,61,11],[71,17,61,13,"queryFn"],[71,18,61,13],[71,23,61,19,"cardDataService"],[71,40,61,34],[71,41,61,34,"cardDataService"],[71,56,61,34],[71,57,61,35,"searchCards"],[71,68,61,46],[71,69,61,47,"debouncedQuery"],[71,83,61,61],[71,85,61,63,"searchTcg"],[71,94,61,72],[71,95,61,73],[72,8,62,4,"enabled"],[72,15,62,11],[73,8,63,4,"staleTime"],[73,17,63,13],[74,6,64,2],[74,7,64,3],[74,8,64,4],[75,6,64,4,"_useQuery$data"],[75,20,64,4],[75,23,64,4,"_useQuery"],[75,32,64,4],[75,33,59,10,"data"],[75,37,59,14],[76,6,59,16,"results"],[76,13,59,23],[76,16,59,23,"_useQuery$data"],[76,30,59,23],[76,35,59,23,"undefined"],[76,44,59,23],[76,47,59,26],[76,49,59,28],[76,52,59,28,"_useQuery$data"],[76,66,59,28],[77,6,59,30,"isLoading"],[77,15,59,39],[77,18,59,39,"_useQuery"],[77,27,59,39],[77,28,59,30,"isLoading"],[77,37,59,39],[78,4,66,2],[78,8,66,8,"previewResults"],[78,22,66,22],[78,25,66,25],[78,29,66,25,"useMemo"],[78,35,66,32],[78,36,66,32,"useMemo"],[78,43,66,32],[78,45,67,4],[78,51,67,10,"results"],[78,58,67,17],[78,59,67,18,"slice"],[78,64,67,23],[78,65,67,24],[78,66,67,25],[78,68,67,27,"MAX_PREVIEW"],[78,79,67,38],[78,80,67,39],[78,82,68,4],[78,83,68,5,"results"],[78,90,68,12],[78,91,69,2],[78,92,69,3],[79,4,71,2],[79,8,71,8,"hasMore"],[79,15,71,15],[79,18,71,18,"results"],[79,25,71,25],[79,26,71,26,"length"],[79,32,71,32],[79,35,71,35,"MAX_PREVIEW"],[79,46,71,46],[80,4,73,2],[80,11,73,9],[81,6,74,4,"query"],[81,11,74,9],[82,6,75,4,"setQuery"],[82,14,75,12],[83,6,76,4,"clearQuery"],[83,16,76,14],[84,6,77,4,"isDropdownOpen"],[84,20,77,18],[85,6,78,4,"setIsDropdownOpen"],[85,23,78,21],[86,6,79,4,"previewResults"],[86,20,79,18],[87,6,80,4,"hasMore"],[87,13,80,11],[88,6,81,4,"isLoading"],[88,15,81,13],[88,17,81,15,"isLoading"],[88,26,81,24],[88,30,81,28,"enabled"],[88,37,81,35],[89,6,82,4,"totalResults"],[89,18,82,16],[89,20,82,18,"results"],[89,27,82,25],[89,28,82,26,"length"],[90,4,83,2],[90,5,83,3],[91,2,84,0],[91,3,84,1],[92,2,86,0],[92,6,86,0,"_default"],[92,14,86,0],[92,17,86,15,"useAutocompleteSearch"],[92,38,86,36],[93,0,86,37],[93,3]],"functionMap":{"names":["<global>","useAutocompleteSearch","useFeedStore$argument_0","setQuery","setTimeout$argument_0","clearQuery","useQuery$argument_0.queryFn","useMemo$argument_0"],"mappings":"AAA;8BC6B;2BCC,oBD;+BEM;kCCG;KDK;GFC;iCIE;GJK;aKQ,4DL;IMM,mCN;CDiB"},"hasCjsExports":false},"type":"js/module"}]}