{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":63,"index":63}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":64},"end":{"line":2,"column":49,"index":113}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/services/cardData","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":186},"end":{"line":4,"column":54,"index":240}}],"key":"aDLIuqe8ZoUac1cvYkmTdLzn7po=","exportNames":["*"],"imports":1}},{"name":"@/stores/feedStore/feedStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":241},"end":{"line":5,"column":60,"index":301}}],"key":"ckClypyu2gzEzzWVrK+Z7fd4GzQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1]);\n  var _tanstackReactQuery = require(_dependencyMap[2]);\n  var _servicesCardData = require(_dependencyMap[3]);\n  var _storesFeedStoreFeedStore = require(_dependencyMap[4]);\n  var DEBOUNCE_MS = 300;\n  var MAX_PREVIEW = 5;\n  /**\n   * Hook that wraps card search with debouncing and dropdown state\n   * for autocomplete UX in the browse view.\n   *\n   * - Local `query` state with 300ms debounce before triggering search\n   * - Limits preview to 5 results with a \"See all\" affordance\n   * - Respects the current TCG filter from feedStore\n   */\n  var useAutocompleteSearch = () => {\n    var tcg = (0, _storesFeedStoreFeedStore.useFeedStore)(s => s.filters.tcg);\n    var _useState = (0, _react.useState)(''),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      query = _useState2[0],\n      setQueryRaw = _useState2[1];\n    var _useState3 = (0, _react.useState)(''),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      debouncedQuery = _useState4[0],\n      setDebouncedQuery = _useState4[1];\n    var _useState5 = (0, _react.useState)(false),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      isDropdownOpen = _useState6[0],\n      setIsDropdownOpen = _useState6[1];\n    var timerRef = (0, _react.useRef)(null);\n    var setQuery = (0, _react.useCallback)(text => {\n      setQueryRaw(text);\n      if (timerRef.current) clearTimeout(timerRef.current);\n      if (text.trim().length < 2) {\n        setIsDropdownOpen(false);\n      }\n      timerRef.current = setTimeout(() => {\n        setDebouncedQuery(text.trim());\n        if (text.trim().length >= 2) {\n          setIsDropdownOpen(true);\n        }\n      }, DEBOUNCE_MS);\n    }, []);\n    var clearQuery = (0, _react.useCallback)(() => {\n      setQueryRaw('');\n      setDebouncedQuery('');\n      setIsDropdownOpen(false);\n      if (timerRef.current) clearTimeout(timerRef.current);\n    }, []);\n\n    // Search needs a TCG â€” default to pokemon if none selected\n    var searchTcg = tcg ?? 'pokemon';\n    var enabled = debouncedQuery.length >= 2;\n    var _useQuery = (0, _tanstackReactQuery.useQuery)({\n        queryKey: ['card-search', searchTcg, debouncedQuery],\n        queryFn: () => _servicesCardData.cardDataService.searchCards(debouncedQuery, searchTcg),\n        enabled,\n        staleTime: 600000\n      }),\n      _useQuery$data = _useQuery.data,\n      results = _useQuery$data === undefined ? [] : _useQuery$data,\n      isLoading = _useQuery.isLoading;\n    var previewResults = (0, _react.useMemo)(() => results.slice(0, MAX_PREVIEW), [results]);\n    var hasMore = results.length > MAX_PREVIEW;\n    return {\n      query,\n      setQuery,\n      clearQuery,\n      isDropdownOpen,\n      setIsDropdownOpen,\n      previewResults,\n      hasMore,\n      isLoading: isLoading && enabled,\n      totalResults: results.length\n    };\n  };\n  var _default = useAutocompleteSearch;\n});","lineCount":96,"map":[[12,2,89,0,"Object"],[12,8,89,0],[12,9,89,0,"defineProperty"],[12,23,89,0],[12,24,89,0,"exports"],[12,31,89,0],[13,4,89,0,"enumerable"],[13,14,89,0],[14,4,89,0,"get"],[14,7,89,0],[14,18,89,0,"get"],[14,19,89,0],[15,6,89,0],[15,13,89,0,"_default"],[15,21,89,0],[16,4,89,0],[17,2,89,0],[18,2,89,37],[18,6,89,37,"_babelRuntimeHelpersSlicedToArray"],[18,39,89,37],[18,42,89,37,"require"],[18,49,89,37],[18,50,89,37,"_dependencyMap"],[18,64,89,37],[19,2,89,37],[19,6,89,37,"_slicedToArray"],[19,20,89,37],[19,23,89,37,"_interopDefault"],[19,38,89,37],[19,39,89,37,"_babelRuntimeHelpersSlicedToArray"],[19,72,89,37],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_tanstackReactQuery"],[21,25,2,0],[21,28,2,0,"require"],[21,35,2,0],[21,36,2,0,"_dependencyMap"],[21,50,2,0],[22,2,4,0],[22,6,4,0,"_servicesCardData"],[22,23,4,0],[22,26,4,0,"require"],[22,33,4,0],[22,34,4,0,"_dependencyMap"],[22,48,4,0],[23,2,5,0],[23,6,5,0,"_storesFeedStoreFeedStore"],[23,31,5,0],[23,34,5,0,"require"],[23,41,5,0],[23,42,5,0,"_dependencyMap"],[23,56,5,0],[24,2,7,0],[24,6,7,6,"DEBOUNCE_MS"],[24,17,7,17],[24,20,7,20],[24,23,7,23],[25,2,8,0],[25,6,8,6,"MAX_PREVIEW"],[25,17,8,17],[25,20,8,20],[25,21,8,21],[26,2,22,0],[27,0,23,0],[28,0,24,0],[29,0,25,0],[30,0,26,0],[31,0,27,0],[32,0,28,0],[33,0,29,0],[34,2,30,0],[34,6,30,6,"useAutocompleteSearch"],[34,27,30,27],[34,30,30,30,"useAutocompleteSearch"],[34,31,30,30],[34,36,30,65],[35,4,31,2],[35,8,31,8,"tcg"],[35,11,31,11],[35,14,31,14],[35,18,31,14,"useFeedStore"],[35,43,31,26],[35,44,31,26,"useFeedStore"],[35,56,31,26],[35,58,31,28,"s"],[35,59,31,29],[35,63,31,34,"s"],[35,64,31,35],[35,65,31,36,"filters"],[35,72,31,43],[35,73,31,44,"tcg"],[35,76,31,47],[35,77,31,48],[36,4,32,2],[36,8,32,2,"_useState"],[36,17,32,2],[36,20,32,31],[36,24,32,31,"useState"],[36,30,32,39],[36,31,32,39,"useState"],[36,39,32,39],[36,41,32,40],[36,43,32,42],[36,44,32,43],[37,6,32,43,"_useState2"],[37,16,32,43],[37,23,32,43,"_slicedToArray"],[37,37,32,43],[37,38,32,43,"default"],[37,45,32,43],[37,47,32,43,"_useState"],[37,56,32,43],[38,6,32,9,"query"],[38,11,32,14],[38,14,32,14,"_useState2"],[38,24,32,14],[39,6,32,16,"setQueryRaw"],[39,17,32,27],[39,20,32,27,"_useState2"],[39,30,32,27],[40,4,33,2],[40,8,33,2,"_useState3"],[40,18,33,2],[40,21,33,46],[40,25,33,46,"useState"],[40,31,33,54],[40,32,33,54,"useState"],[40,40,33,54],[40,42,33,55],[40,44,33,57],[40,45,33,58],[41,6,33,58,"_useState4"],[41,16,33,58],[41,23,33,58,"_slicedToArray"],[41,37,33,58],[41,38,33,58,"default"],[41,45,33,58],[41,47,33,58,"_useState3"],[41,57,33,58],[42,6,33,9,"debouncedQuery"],[42,20,33,23],[42,23,33,23,"_useState4"],[42,33,33,23],[43,6,33,25,"setDebouncedQuery"],[43,23,33,42],[43,26,33,42,"_useState4"],[43,36,33,42],[44,4,34,2],[44,8,34,2,"_useState5"],[44,18,34,2],[44,21,34,46],[44,25,34,46,"useState"],[44,31,34,54],[44,32,34,54,"useState"],[44,40,34,54],[44,42,34,55],[44,47,34,60],[44,48,34,61],[45,6,34,61,"_useState6"],[45,16,34,61],[45,23,34,61,"_slicedToArray"],[45,37,34,61],[45,38,34,61,"default"],[45,45,34,61],[45,47,34,61,"_useState5"],[45,57,34,61],[46,6,34,9,"isDropdownOpen"],[46,20,34,23],[46,23,34,23,"_useState6"],[46,33,34,23],[47,6,34,25,"setIsDropdownOpen"],[47,23,34,42],[47,26,34,42,"_useState6"],[47,36,34,42],[48,4,35,2],[48,8,35,8,"timerRef"],[48,16,35,16],[48,19,35,19],[48,23,35,19,"useRef"],[48,29,35,25],[48,30,35,25,"useRef"],[48,36,35,25],[48,38,35,64],[48,42,35,68],[48,43,35,69],[49,4,37,2],[49,8,37,8,"setQuery"],[49,16,37,16],[49,19,37,19],[49,23,37,19,"useCallback"],[49,29,37,30],[49,30,37,30,"useCallback"],[49,41,37,30],[49,43,37,32,"text"],[49,47,37,44],[49,51,37,49],[50,6,38,4,"setQueryRaw"],[50,17,38,15],[50,18,38,16,"text"],[50,22,38,20],[50,23,38,21],[51,6,39,4],[51,10,39,8,"timerRef"],[51,18,39,16],[51,19,39,17,"current"],[51,26,39,24],[51,28,39,26,"clearTimeout"],[51,40,39,38],[51,41,39,39,"timerRef"],[51,49,39,47],[51,50,39,48,"current"],[51,57,39,55],[51,58,39,56],[52,6,40,4],[52,10,40,8,"text"],[52,14,40,12],[52,15,40,13,"trim"],[52,19,40,17],[52,20,40,18],[52,21,40,19],[52,22,40,20,"length"],[52,28,40,26],[52,31,40,29],[52,32,40,30],[52,34,40,32],[53,8,41,6,"setIsDropdownOpen"],[53,25,41,23],[53,26,41,24],[53,31,41,29],[53,32,41,30],[54,6,42,4],[55,6,43,4,"timerRef"],[55,14,43,12],[55,15,43,13,"current"],[55,22,43,20],[55,25,43,23,"setTimeout"],[55,35,43,33],[55,36,43,34],[55,42,43,40],[56,8,44,6,"setDebouncedQuery"],[56,25,44,23],[56,26,44,24,"text"],[56,30,44,28],[56,31,44,29,"trim"],[56,35,44,33],[56,36,44,34],[56,37,44,35],[56,38,44,36],[57,8,45,6],[57,12,45,10,"text"],[57,16,45,14],[57,17,45,15,"trim"],[57,21,45,19],[57,22,45,20],[57,23,45,21],[57,24,45,22,"length"],[57,30,45,28],[57,34,45,32],[57,35,45,33],[57,37,45,35],[58,10,46,8,"setIsDropdownOpen"],[58,27,46,25],[58,28,46,26],[58,32,46,30],[58,33,46,31],[59,8,47,6],[60,6,48,4],[60,7,48,5],[60,9,48,7,"DEBOUNCE_MS"],[60,20,48,18],[60,21,48,19],[61,4,49,2],[61,5,49,3],[61,7,49,5],[61,9,49,7],[61,10,49,8],[62,4,51,2],[62,8,51,8,"clearQuery"],[62,18,51,18],[62,21,51,21],[62,25,51,21,"useCallback"],[62,31,51,32],[62,32,51,32,"useCallback"],[62,43,51,32],[62,45,51,33],[62,51,51,39],[63,6,52,4,"setQueryRaw"],[63,17,52,15],[63,18,52,16],[63,20,52,18],[63,21,52,19],[64,6,53,4,"setDebouncedQuery"],[64,23,53,21],[64,24,53,22],[64,26,53,24],[64,27,53,25],[65,6,54,4,"setIsDropdownOpen"],[65,23,54,21],[65,24,54,22],[65,29,54,27],[65,30,54,28],[66,6,55,4],[66,10,55,8,"timerRef"],[66,18,55,16],[66,19,55,17,"current"],[66,26,55,24],[66,28,55,26,"clearTimeout"],[66,40,55,38],[66,41,55,39,"timerRef"],[66,49,55,47],[66,50,55,48,"current"],[66,57,55,55],[66,58,55,56],[67,4,56,2],[67,5,56,3],[67,7,56,5],[67,9,56,7],[67,10,56,8],[69,4,58,2],[70,4,59,2],[70,8,59,8,"searchTcg"],[70,17,59,26],[70,20,59,29,"tcg"],[70,23,59,32],[70,27,59,36],[70,36,59,45],[71,4,60,2],[71,8,60,8,"enabled"],[71,15,60,15],[71,18,60,18,"debouncedQuery"],[71,32,60,32],[71,33,60,33,"length"],[71,39,60,39],[71,43,60,43],[71,44,60,44],[72,4,62,2],[72,8,62,2,"_useQuery"],[72,17,62,2],[72,20,62,44],[72,24,62,44,"useQuery"],[72,43,62,52],[72,44,62,52,"useQuery"],[72,52,62,52],[72,54,62,78],[73,8,63,4,"queryKey"],[73,16,63,12],[73,18,63,14],[73,19,63,15],[73,32,63,28],[73,34,63,30,"searchTcg"],[73,43,63,39],[73,45,63,41,"debouncedQuery"],[73,59,63,55],[73,60,63,56],[74,8,64,4,"queryFn"],[74,15,64,11],[74,17,64,13,"queryFn"],[74,18,64,13],[74,23,64,19,"cardDataService"],[74,40,64,34],[74,41,64,34,"cardDataService"],[74,56,64,34],[74,57,64,35,"searchCards"],[74,68,64,46],[74,69,64,47,"debouncedQuery"],[74,83,64,61],[74,85,64,63,"searchTcg"],[74,94,64,72],[74,95,64,73],[75,8,65,4,"enabled"],[75,15,65,11],[76,8,66,4,"staleTime"],[76,17,66,13],[77,6,67,2],[77,7,67,3],[77,8,67,4],[78,6,67,4,"_useQuery$data"],[78,20,67,4],[78,23,67,4,"_useQuery"],[78,32,67,4],[78,33,62,10,"data"],[78,37,62,14],[79,6,62,16,"results"],[79,13,62,23],[79,16,62,23,"_useQuery$data"],[79,30,62,23],[79,35,62,23,"undefined"],[79,44,62,23],[79,47,62,26],[79,49,62,28],[79,52,62,28,"_useQuery$data"],[79,66,62,28],[80,6,62,30,"isLoading"],[80,15,62,39],[80,18,62,39,"_useQuery"],[80,27,62,39],[80,28,62,30,"isLoading"],[80,37,62,39],[81,4,69,2],[81,8,69,8,"previewResults"],[81,22,69,22],[81,25,69,25],[81,29,69,25,"useMemo"],[81,35,69,32],[81,36,69,32,"useMemo"],[81,43,69,32],[81,45,70,4],[81,51,70,10,"results"],[81,58,70,17],[81,59,70,18,"slice"],[81,64,70,23],[81,65,70,24],[81,66,70,25],[81,68,70,27,"MAX_PREVIEW"],[81,79,70,38],[81,80,70,39],[81,82,71,4],[81,83,71,5,"results"],[81,90,71,12],[81,91,72,2],[81,92,72,3],[82,4,74,2],[82,8,74,8,"hasMore"],[82,15,74,15],[82,18,74,18,"results"],[82,25,74,25],[82,26,74,26,"length"],[82,32,74,32],[82,35,74,35,"MAX_PREVIEW"],[82,46,74,46],[83,4,76,2],[83,11,76,9],[84,6,77,4,"query"],[84,11,77,9],[85,6,78,4,"setQuery"],[85,14,78,12],[86,6,79,4,"clearQuery"],[86,16,79,14],[87,6,80,4,"isDropdownOpen"],[87,20,80,18],[88,6,81,4,"setIsDropdownOpen"],[88,23,81,21],[89,6,82,4,"previewResults"],[89,20,82,18],[90,6,83,4,"hasMore"],[90,13,83,11],[91,6,84,4,"isLoading"],[91,15,84,13],[91,17,84,15,"isLoading"],[91,26,84,24],[91,30,84,28,"enabled"],[91,37,84,35],[92,6,85,4,"totalResults"],[92,18,85,16],[92,20,85,18,"results"],[92,27,85,25],[92,28,85,26,"length"],[93,4,86,2],[93,5,86,3],[94,2,87,0],[94,3,87,1],[95,2,89,0],[95,6,89,0,"_default"],[95,14,89,0],[95,17,89,15,"useAutocompleteSearch"],[95,38,89,36],[96,0,89,37],[96,3]],"functionMap":{"names":["<global>","useAutocompleteSearch","useFeedStore$argument_0","setQuery","setTimeout$argument_0","clearQuery","useQuery$argument_0.queryFn","useMemo$argument_0"],"mappings":"AAA;8BC6B;2BCC,oBD;+BEM;kCCM;KDK;GFC;iCIE;GJK;aKQ,4DL;IMM,mCN;CDiB"},"hasCjsExports":false},"type":"js/module"}]}