{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":68,"index":68}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":69},"end":{"line":2,"column":42,"index":111}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":112},"end":{"line":3,"column":49,"index":161}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":162},"end":{"line":4,"column":49,"index":211}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1]);\n  var _libSupabase = require(_dependencyMap[2]);\n  var _contextAuthProvider = require(_dependencyMap[3]);\n  var _queryKeys = require(_dependencyMap[4]);\n  /**\n   * Hook that provides mutations for updating collection item visibility.\n   *\n   * - `toggleItem`: Updates a single item's `is_tradeable` status\n   * - `setAll`: Bulk updates all of the user's collection items\n   */\n  var useUpdateCollectionVisibility = () => {\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    var toggleItem = (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _ref2 = (0, _asyncToGenerator.default)(function* (_ref) {\n          var itemId = _ref.itemId,\n            is_tradeable = _ref.is_tradeable;\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('collection_items').update({\n              is_tradeable\n            }).eq('id', itemId),\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n        });\n        return function mutationFn(_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }(),\n      onSuccess: () => {\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.collectionKeys.myCollection()\n        });\n      }\n    });\n    var setAll = (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _ref4 = (0, _asyncToGenerator.default)(function* (_ref3) {\n          var is_tradeable = _ref3.is_tradeable;\n          if (!user) throw new Error('Not authenticated');\n          var _yield$supabase$from$2 = yield _libSupabase.supabase.from('collection_items').update({\n              is_tradeable\n            }).eq('user_id', user.id).eq('is_wishlist', false),\n            error = _yield$supabase$from$2.error;\n          if (error) throw error;\n        });\n        return function mutationFn(_x2) {\n          return _ref4.apply(this, arguments);\n        };\n      }(),\n      onSuccess: () => {\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.collectionKeys.myCollection()\n        });\n      }\n    });\n    return {\n      toggleItem,\n      setAll\n    };\n  };\n  var _default = useUpdateCollectionVisibility;\n});","lineCount":82,"map":[[12,2,59,0,"Object"],[12,8,59,0],[12,9,59,0,"defineProperty"],[12,23,59,0],[12,24,59,0,"exports"],[12,31,59,0],[13,4,59,0,"enumerable"],[13,14,59,0],[14,4,59,0,"get"],[14,7,59,0],[14,18,59,0,"get"],[14,19,59,0],[15,6,59,0],[15,13,59,0,"_default"],[15,21,59,0],[16,4,59,0],[17,2,59,0],[18,2,59,45],[18,6,59,45,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,59,45],[18,45,59,45,"require"],[18,52,59,45],[18,53,59,45,"_dependencyMap"],[18,67,59,45],[19,2,59,45],[19,6,59,45,"_asyncToGenerator"],[19,23,59,45],[19,26,59,45,"_interopDefault"],[19,41,59,45],[19,42,59,45,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,59,45],[20,2,1,0],[20,6,1,0,"_tanstackReactQuery"],[20,25,1,0],[20,28,1,0,"require"],[20,35,1,0],[20,36,1,0,"_dependencyMap"],[20,50,1,0],[21,2,2,0],[21,6,2,0,"_libSupabase"],[21,18,2,0],[21,21,2,0,"require"],[21,28,2,0],[21,29,2,0,"_dependencyMap"],[21,43,2,0],[22,2,3,0],[22,6,3,0,"_contextAuthProvider"],[22,26,3,0],[22,29,3,0,"require"],[22,36,3,0],[22,37,3,0,"_dependencyMap"],[22,51,3,0],[23,2,4,0],[23,6,4,0,"_queryKeys"],[23,16,4,0],[23,19,4,0,"require"],[23,26,4,0],[23,27,4,0,"_dependencyMap"],[23,41,4,0],[24,2,15,0],[25,0,16,0],[26,0,17,0],[27,0,18,0],[28,0,19,0],[29,0,20,0],[30,2,21,0],[30,6,21,6,"useUpdateCollectionVisibility"],[30,35,21,35],[30,38,21,38,"useUpdateCollectionVisibility"],[30,39,21,38],[30,44,21,44],[31,4,22,2],[31,8,22,8,"queryClient"],[31,19,22,19],[31,22,22,22],[31,26,22,22,"useQueryClient"],[31,45,22,36],[31,46,22,36,"useQueryClient"],[31,60,22,36],[31,62,22,37],[31,63,22,38],[32,4,23,2],[32,8,23,2,"_useAuth"],[32,16,23,2],[32,19,23,19],[32,23,23,19,"useAuth"],[32,43,23,26],[32,44,23,26,"useAuth"],[32,51,23,26],[32,53,23,27],[32,54,23,28],[33,6,23,10,"user"],[33,10,23,14],[33,13,23,14,"_useAuth"],[33,21,23,14],[33,22,23,10,"user"],[33,26,23,14],[34,4,25,2],[34,8,25,8,"toggleItem"],[34,18,25,18],[34,21,25,21],[34,25,25,21,"useMutation"],[34,44,25,32],[34,45,25,32,"useMutation"],[34,56,25,32],[34,58,25,63],[35,6,26,4,"mutationFn"],[35,16,26,14],[36,8,26,14],[36,12,26,14,"_ref2"],[36,17,26,14],[36,24,26,14,"_asyncToGenerator"],[36,41,26,14],[36,42,26,14,"default"],[36,49,26,14],[36,51,26,16],[36,62,26,16,"_ref"],[36,66,26,16],[36,68,26,52],[37,10,26,52],[37,14,26,25,"itemId"],[37,20,26,31],[37,23,26,31,"_ref"],[37,27,26,31],[37,28,26,25,"itemId"],[37,34,26,31],[38,12,26,33,"is_tradeable"],[38,24,26,45],[38,27,26,45,"_ref"],[38,31,26,45],[38,32,26,33,"is_tradeable"],[38,44,26,45],[39,10,27,6],[39,14,27,6,"_yield$supabase$from$"],[39,35,27,6],[39,44,27,30,"supabase"],[39,56,27,38],[39,57,27,38,"supabase"],[39,65,27,38],[39,66,28,9,"from"],[39,70,28,13],[39,71,28,14],[39,89,28,32],[39,90,28,33],[39,91,29,9,"update"],[39,97,29,15],[39,98,29,16],[40,14,29,18,"is_tradeable"],[41,12,29,31],[41,13,29,32],[41,14,29,33],[41,15,30,9,"eq"],[41,17,30,11],[41,18,30,12],[41,22,30,16],[41,24,30,18,"itemId"],[41,30,30,24],[41,31,30,25],[42,12,27,14,"error"],[42,17,27,19],[42,20,27,19,"_yield$supabase$from$"],[42,41,27,19],[42,42,27,14,"error"],[42,47,27,19],[43,10,32,6],[43,14,32,10,"error"],[43,19,32,15],[43,21,32,17],[43,27,32,23,"error"],[43,32,32,28],[44,8,33,4],[44,9,33,5],[45,8,33,5],[45,24,26,4,"mutationFn"],[45,34,26,14,"mutationFn"],[45,35,26,14,"_x"],[45,37,26,14],[46,10,26,14],[46,17,26,14,"_ref2"],[46,22,26,14],[46,23,26,14,"apply"],[46,28,26,14],[46,35,26,14,"arguments"],[46,44,26,14],[47,8,26,14],[48,6,26,14],[48,9,33,5],[49,6,34,4,"onSuccess"],[49,15,34,13],[49,17,34,15,"onSuccess"],[49,18,34,15],[49,23,34,21],[50,8,35,6,"queryClient"],[50,19,35,17],[50,20,35,18,"invalidateQueries"],[50,37,35,35],[50,38,35,36],[51,10,35,38,"queryKey"],[51,18,35,46],[51,20,35,48,"collectionKeys"],[51,30,35,62],[51,31,35,62,"collectionKeys"],[51,45,35,62],[51,46,35,63,"myCollection"],[51,58,35,75],[51,59,35,76],[52,8,35,78],[52,9,35,79],[52,10,35,80],[53,6,36,4],[54,4,37,2],[54,5,37,3],[54,6,37,4],[55,4,39,2],[55,8,39,8,"setAll"],[55,14,39,14],[55,17,39,17],[55,21,39,17,"useMutation"],[55,40,39,28],[55,41,39,28,"useMutation"],[55,52,39,28],[55,54,39,55],[56,6,40,4,"mutationFn"],[56,16,40,14],[57,8,40,14],[57,12,40,14,"_ref4"],[57,17,40,14],[57,24,40,14,"_asyncToGenerator"],[57,41,40,14],[57,42,40,14,"default"],[57,49,40,14],[57,51,40,16],[57,62,40,16,"_ref3"],[57,67,40,16],[57,69,40,44],[58,10,40,44],[58,14,40,25,"is_tradeable"],[58,26,40,37],[58,29,40,37,"_ref3"],[58,34,40,37],[58,35,40,25,"is_tradeable"],[58,47,40,37],[59,10,41,6],[59,14,41,10],[59,15,41,11,"user"],[59,19,41,15],[59,21,41,17],[59,27,41,23],[59,31,41,27,"Error"],[59,36,41,32],[59,37,41,33],[59,56,41,52],[59,57,41,53],[60,10,43,6],[60,14,43,6,"_yield$supabase$from$2"],[60,36,43,6],[60,45,43,30,"supabase"],[60,57,43,38],[60,58,43,38,"supabase"],[60,66,43,38],[60,67,44,9,"from"],[60,71,44,13],[60,72,44,14],[60,90,44,32],[60,91,44,33],[60,92,45,9,"update"],[60,98,45,15],[60,99,45,16],[61,14,45,18,"is_tradeable"],[62,12,45,31],[62,13,45,32],[62,14,45,33],[62,15,46,9,"eq"],[62,17,46,11],[62,18,46,12],[62,27,46,21],[62,29,46,23,"user"],[62,33,46,27],[62,34,46,28,"id"],[62,36,46,30],[62,37,46,31],[62,38,47,9,"eq"],[62,40,47,11],[62,41,47,12],[62,54,47,25],[62,56,47,27],[62,61,47,32],[62,62,47,33],[63,12,43,14,"error"],[63,17,43,19],[63,20,43,19,"_yield$supabase$from$2"],[63,42,43,19],[63,43,43,14,"error"],[63,48,43,19],[64,10,49,6],[64,14,49,10,"error"],[64,19,49,15],[64,21,49,17],[64,27,49,23,"error"],[64,32,49,28],[65,8,50,4],[65,9,50,5],[66,8,50,5],[66,24,40,4,"mutationFn"],[66,34,40,14,"mutationFn"],[66,35,40,14,"_x2"],[66,38,40,14],[67,10,40,14],[67,17,40,14,"_ref4"],[67,22,40,14],[67,23,40,14,"apply"],[67,28,40,14],[67,35,40,14,"arguments"],[67,44,40,14],[68,8,40,14],[69,6,40,14],[69,9,50,5],[70,6,51,4,"onSuccess"],[70,15,51,13],[70,17,51,15,"onSuccess"],[70,18,51,15],[70,23,51,21],[71,8,52,6,"queryClient"],[71,19,52,17],[71,20,52,18,"invalidateQueries"],[71,37,52,35],[71,38,52,36],[72,10,52,38,"queryKey"],[72,18,52,46],[72,20,52,48,"collectionKeys"],[72,30,52,62],[72,31,52,62,"collectionKeys"],[72,45,52,62],[72,46,52,63,"myCollection"],[72,58,52,75],[72,59,52,76],[73,8,52,78],[73,9,52,79],[73,10,52,80],[74,6,53,4],[75,4,54,2],[75,5,54,3],[75,6,54,4],[76,4,56,2],[76,11,56,9],[77,6,56,11,"toggleItem"],[77,16,56,21],[78,6,56,23,"setAll"],[79,4,56,30],[79,5,56,31],[80,2,57,0],[80,3,57,1],[81,2,59,0],[81,6,59,0,"_default"],[81,14,59,0],[81,17,59,15,"useUpdateCollectionVisibility"],[81,46,59,44],[82,0,59,45],[82,3]],"functionMap":{"names":["<global>","useUpdateCollectionVisibility","useMutation$argument_0.mutationFn","useMutation$argument_0.onSuccess"],"mappings":"AAA;sCCoB;gBCK;KDO;eEC;KFE;gBCI;KDU;eEC;KFE;CDI"},"hasCjsExports":false},"type":"js/module"}]}