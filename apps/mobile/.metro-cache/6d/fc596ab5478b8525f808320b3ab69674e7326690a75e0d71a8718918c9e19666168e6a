{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":42,"index":92}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":45,"index":138}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}},{"name":"@/utils/parseLocationCoords/parseLocationCoords","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":139},"end":{"line":4,"column":82,"index":221}}],"key":"qd6WXtcycH/euWng1Negl3DCKIM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[1]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[2]);\n  var _libSupabase = require(_dependencyMap[3]);\n  var _queryKeys = require(_dependencyMap[4]);\n  var _utilsParseLocationCoordsParseLocationCoords = require(_dependencyMap[5]);\n  var parseLocationCoords = _interopDefault(_utilsParseLocationCoordsParseLocationCoords);\n  /**\n   * Hook that fetches a single meetup by ID with all joined data.\n   *\n   * Resolves the match, both users, the shop location, and the related\n   * conversation for the match. Also fetches listing_items, offer_items,\n   * and parses shop coordinates for the map view.\n   */\n  var useMeetupDetail = meetupId => {\n    return (0, _tanstackReactQuery.useQuery)({\n      queryKey: _queryKeys.meetupKeys.detail(meetupId),\n      queryFn: function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          var _yield$supabase$auth$ = yield _libSupabase.supabase.auth.getSession(),\n            session = _yield$supabase$auth$.data.session;\n          var user = session?.user ?? null;\n          if (!user) throw new Error('Not authenticated');\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('meetups').select(`\n          id,\n          match_id,\n          proposal_message_id,\n          shop_id,\n          location_name,\n          location_coords,\n          proposed_time,\n          status,\n          user_a_completed,\n          user_b_completed,\n          created_at,\n          updated_at,\n          match:matches (\n            id,\n            user_a_id,\n            user_b_id,\n            listing_id,\n            offer_id,\n            status,\n            created_at,\n            updated_at\n          ),\n          shop:shops (\n            id,\n            name,\n            address,\n            location,\n            hours,\n            website,\n            phone,\n            supported_tcgs,\n            verified,\n            created_at,\n            updated_at\n          )\n        `).eq('id', meetupId).single(),\n            meetup = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          if (!meetup) throw new Error('Meetup not found');\n          var match = meetup.match;\n          var shop = meetup.shop;\n          var isUserA = match.user_a_id === user.id;\n          var otherUserId = isUserA ? match.user_b_id : match.user_a_id;\n\n          // Fetch other user's profile, listing items, offer items, and conversation in parallel\n          var _yield$Promise$all = yield Promise.all([_libSupabase.supabase.from('users').select('id, display_name, avatar_url, rating_score, total_trades').eq('id', otherUserId).single(), _libSupabase.supabase.from('conversations').select('id').eq('match_id', match.id).single(), _libSupabase.supabase.from('listing_items').select('*').eq('listing_id', match.listing_id), _libSupabase.supabase.from('offer_items').select('*').eq('offer_id', match.offer_id)]),\n            _yield$Promise$all2 = (0, _slicedToArray.default)(_yield$Promise$all, 4),\n            userResult = _yield$Promise$all2[0],\n            conversationResult = _yield$Promise$all2[1],\n            listingItemsResult = _yield$Promise$all2[2],\n            offerItemsResult = _yield$Promise$all2[3];\n          if (userResult.error) throw userResult.error;\n\n          // Parse shop coordinates (prefer shop location, fall back to meetup location_coords)\n          var shopCoords = (0, parseLocationCoords.default)(shop?.location) ?? (0, parseLocationCoords.default)(meetup.location_coords);\n          return {\n            ...meetup,\n            match,\n            shop: shop,\n            other_user: userResult.data ?? {\n              id: otherUserId,\n              display_name: 'Unknown',\n              avatar_url: null,\n              rating_score: 0,\n              total_trades: 0\n            },\n            conversation: conversationResult.data ?? null,\n            is_user_a: isUserA,\n            shopCoords,\n            listingItems: listingItemsResult.data ?? [],\n            offerItems: offerItemsResult.data ?? []\n          };\n        });\n        return function queryFn() {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      enabled: !!meetupId\n    });\n  };\n  var _default = useMeetupDetail;\n});","lineCount":126,"map":[[12,2,151,0,"Object"],[12,8,151,0],[12,9,151,0,"defineProperty"],[12,23,151,0],[12,24,151,0,"exports"],[12,31,151,0],[13,4,151,0,"enumerable"],[13,14,151,0],[14,4,151,0,"get"],[14,7,151,0],[14,18,151,0,"get"],[14,19,151,0],[15,6,151,0],[15,13,151,0,"_default"],[15,21,151,0],[16,4,151,0],[17,2,151,0],[18,2,151,31],[18,6,151,31,"_babelRuntimeHelpersSlicedToArray"],[18,39,151,31],[18,42,151,31,"require"],[18,49,151,31],[18,50,151,31,"_dependencyMap"],[18,64,151,31],[19,2,151,31],[19,6,151,31,"_slicedToArray"],[19,20,151,31],[19,23,151,31,"_interopDefault"],[19,38,151,31],[19,39,151,31,"_babelRuntimeHelpersSlicedToArray"],[19,72,151,31],[20,2,151,31],[20,6,151,31,"_babelRuntimeHelpersAsyncToGenerator"],[20,42,151,31],[20,45,151,31,"require"],[20,52,151,31],[20,53,151,31,"_dependencyMap"],[20,67,151,31],[21,2,151,31],[21,6,151,31,"_asyncToGenerator"],[21,23,151,31],[21,26,151,31,"_interopDefault"],[21,41,151,31],[21,42,151,31,"_babelRuntimeHelpersAsyncToGenerator"],[21,78,151,31],[22,2,1,0],[22,6,1,0,"_tanstackReactQuery"],[22,25,1,0],[22,28,1,0,"require"],[22,35,1,0],[22,36,1,0,"_dependencyMap"],[22,50,1,0],[23,2,2,0],[23,6,2,0,"_libSupabase"],[23,18,2,0],[23,21,2,0,"require"],[23,28,2,0],[23,29,2,0,"_dependencyMap"],[23,43,2,0],[24,2,3,0],[24,6,3,0,"_queryKeys"],[24,16,3,0],[24,19,3,0,"require"],[24,26,3,0],[24,27,3,0,"_dependencyMap"],[24,41,3,0],[25,2,4,0],[25,6,4,0,"_utilsParseLocationCoordsParseLocationCoords"],[25,50,4,0],[25,53,4,0,"require"],[25,60,4,0],[25,61,4,0,"_dependencyMap"],[25,75,4,0],[26,2,4,0],[26,6,4,0,"parseLocationCoords"],[26,25,4,0],[26,28,4,0,"_interopDefault"],[26,43,4,0],[26,44,4,0,"_utilsParseLocationCoordsParseLocationCoords"],[26,88,4,0],[27,2,29,0],[28,0,30,0],[29,0,31,0],[30,0,32,0],[31,0,33,0],[32,0,34,0],[33,0,35,0],[34,2,36,0],[34,6,36,6,"useMeetupDetail"],[34,21,36,21],[34,24,36,25,"meetupId"],[34,32,36,41],[34,36,36,46],[35,4,37,2],[35,11,37,9],[35,15,37,9,"useQuery"],[35,34,37,17],[35,35,37,17,"useQuery"],[35,43,37,17],[35,45,37,39],[36,6,38,4,"queryKey"],[36,14,38,12],[36,16,38,14,"meetupKeys"],[36,26,38,24],[36,27,38,24,"meetupKeys"],[36,37,38,24],[36,38,38,25,"detail"],[36,44,38,31],[36,45,38,32,"meetupId"],[36,53,38,40],[36,54,38,41],[37,6,39,4,"queryFn"],[37,13,39,11],[38,8,39,11],[38,12,39,11,"_ref"],[38,16,39,11],[38,23,39,11,"_asyncToGenerator"],[38,40,39,11],[38,41,39,11,"default"],[38,48,39,11],[38,50,39,13],[38,63,39,25],[39,10,40,6],[39,14,40,6,"_yield$supabase$auth$"],[39,35,40,6],[39,44,42,16,"supabase"],[39,56,42,24],[39,57,42,24,"supabase"],[39,65,42,24],[39,66,42,25,"auth"],[39,70,42,29],[39,71,42,30,"getSession"],[39,81,42,40],[39,82,42,41],[39,83,42,42],[40,12,41,16,"session"],[40,19,41,23],[40,22,41,23,"_yield$supabase$auth$"],[40,43,41,23],[40,44,41,8,"data"],[40,48,41,12],[40,49,41,16,"session"],[40,56,41,23],[41,10,43,6],[41,14,43,12,"user"],[41,18,43,16],[41,21,43,19,"session"],[41,28,43,26],[41,30,43,28,"user"],[41,34,43,32],[41,38,43,36],[41,42,43,40],[42,10,45,6],[42,14,45,10],[42,15,45,11,"user"],[42,19,45,15],[42,21,45,17],[42,27,45,23],[42,31,45,27,"Error"],[42,36,45,32],[42,37,45,33],[42,56,45,52],[42,57,45,53],[43,10,47,6],[43,14,47,6,"_yield$supabase$from$"],[43,35,47,6],[43,44,47,44,"supabase"],[43,56,47,52],[43,57,47,52,"supabase"],[43,65,47,52],[43,66,48,9,"from"],[43,70,48,13],[43,71,48,14],[43,80,48,23],[43,81,48,24],[43,82,49,9,"select"],[43,88,49,15],[43,89,50,10],[44,0,51,0],[45,0,52,0],[46,0,53,0],[47,0,54,0],[48,0,55,0],[49,0,56,0],[50,0,57,0],[51,0,58,0],[52,0,59,0],[53,0,60,0],[54,0,61,0],[55,0,62,0],[56,0,63,0],[57,0,64,0],[58,0,65,0],[59,0,66,0],[60,0,67,0],[61,0,68,0],[62,0,69,0],[63,0,70,0],[64,0,71,0],[65,0,72,0],[66,0,73,0],[67,0,74,0],[68,0,75,0],[69,0,76,0],[70,0,77,0],[71,0,78,0],[72,0,79,0],[73,0,80,0],[74,0,81,0],[75,0,82,0],[76,0,83,0],[77,0,84,0],[78,0,85,0],[79,0,86,0],[79,9,87,8],[79,10,87,9],[79,11,88,9,"eq"],[79,13,88,11],[79,14,88,12],[79,18,88,16],[79,20,88,18,"meetupId"],[79,28,88,26],[79,29,88,27],[79,30,89,9,"single"],[79,36,89,15],[79,37,89,16],[79,38,89,17],[80,12,47,20,"meetup"],[80,18,47,26],[80,21,47,26,"_yield$supabase$from$"],[80,42,47,26],[80,43,47,14,"data"],[80,47,47,18],[81,12,47,28,"error"],[81,17,47,33],[81,20,47,33,"_yield$supabase$from$"],[81,41,47,33],[81,42,47,28,"error"],[81,47,47,33],[82,10,91,6],[82,14,91,10,"error"],[82,19,91,15],[82,21,91,17],[82,27,91,23,"error"],[82,32,91,28],[83,10,92,6],[83,14,92,10],[83,15,92,11,"meetup"],[83,21,92,17],[83,23,92,19],[83,29,92,25],[83,33,92,29,"Error"],[83,38,92,34],[83,39,92,35],[83,57,92,53],[83,58,92,54],[84,10,94,6],[84,14,94,12,"match"],[84,19,94,17],[84,22,94,21,"meetup"],[84,28,94,27],[84,29,94,56,"match"],[84,34,94,73],[85,10,95,6],[85,14,95,12,"shop"],[85,18,95,16],[85,21,95,20,"meetup"],[85,27,95,26],[85,28,95,55,"shop"],[85,32,95,104],[86,10,96,6],[86,14,96,12,"isUserA"],[86,21,96,19],[86,24,96,22,"match"],[86,29,96,27],[86,30,96,28,"user_a_id"],[86,39,96,37],[86,44,96,42,"user"],[86,48,96,46],[86,49,96,47,"id"],[86,51,96,49],[87,10,97,6],[87,14,97,12,"otherUserId"],[87,25,97,23],[87,28,97,26,"isUserA"],[87,35,97,33],[87,38,97,36,"match"],[87,43,97,41],[87,44,97,42,"user_b_id"],[87,53,97,51],[87,56,97,54,"match"],[87,61,97,59],[87,62,97,60,"user_a_id"],[87,71,97,69],[89,10,99,6],[90,10,100,6],[90,14,100,6,"_yield$Promise$all"],[90,32,100,6],[90,41,101,14,"Promise"],[90,48,101,21],[90,49,101,22,"all"],[90,52,101,25],[90,53,101,26],[90,54,102,10,"supabase"],[90,66,102,18],[90,67,102,18,"supabase"],[90,75,102,18],[90,76,103,13,"from"],[90,80,103,17],[90,81,103,18],[90,88,103,25],[90,89,103,26],[90,90,104,13,"select"],[90,96,104,19],[90,97,104,20],[90,155,104,78],[90,156,104,79],[90,157,105,13,"eq"],[90,159,105,15],[90,160,105,16],[90,164,105,20],[90,166,105,22,"otherUserId"],[90,177,105,33],[90,178,105,34],[90,179,106,13,"single"],[90,185,106,19],[90,186,106,20],[90,187,106,21],[90,189,107,10,"supabase"],[90,201,107,18],[90,202,107,18,"supabase"],[90,210,107,18],[90,211,108,13,"from"],[90,215,108,17],[90,216,108,18],[90,231,108,33],[90,232,108,34],[90,233,109,13,"select"],[90,239,109,19],[90,240,109,20],[90,244,109,24],[90,245,109,25],[90,246,110,13,"eq"],[90,248,110,15],[90,249,110,16],[90,259,110,26],[90,261,110,28,"match"],[90,266,110,33],[90,267,110,34,"id"],[90,269,110,36],[90,270,110,37],[90,271,111,13,"single"],[90,277,111,19],[90,278,111,20],[90,279,111,21],[90,281,112,10,"supabase"],[90,293,112,18],[90,294,112,18,"supabase"],[90,302,112,18],[90,303,113,13,"from"],[90,307,113,17],[90,308,113,18],[90,323,113,33],[90,324,113,34],[90,325,114,13,"select"],[90,331,114,19],[90,332,114,20],[90,335,114,23],[90,336,114,24],[90,337,115,13,"eq"],[90,339,115,15],[90,340,115,16],[90,352,115,28],[90,354,115,30,"match"],[90,359,115,35],[90,360,115,36,"listing_id"],[90,370,115,46],[90,371,115,47],[90,373,116,10,"supabase"],[90,385,116,18],[90,386,116,18,"supabase"],[90,394,116,18],[90,395,117,13,"from"],[90,399,117,17],[90,400,117,18],[90,413,117,31],[90,414,117,32],[90,415,118,13,"select"],[90,421,118,19],[90,422,118,20],[90,425,118,23],[90,426,118,24],[90,427,119,13,"eq"],[90,429,119,15],[90,430,119,16],[90,440,119,26],[90,442,119,28,"match"],[90,447,119,33],[90,448,119,34,"offer_id"],[90,456,119,42],[90,457,119,43],[90,458,120,9],[90,459,120,10],[91,12,120,10,"_yield$Promise$all2"],[91,31,120,10],[91,38,120,10,"_slicedToArray"],[91,52,120,10],[91,53,120,10,"default"],[91,60,120,10],[91,62,120,10,"_yield$Promise$all"],[91,80,120,10],[92,12,100,13,"userResult"],[92,22,100,23],[92,25,100,23,"_yield$Promise$all2"],[92,44,100,23],[93,12,100,25,"conversationResult"],[93,30,100,43],[93,33,100,43,"_yield$Promise$all2"],[93,52,100,43],[94,12,100,45,"listingItemsResult"],[94,30,100,63],[94,33,100,63,"_yield$Promise$all2"],[94,52,100,63],[95,12,100,65,"offerItemsResult"],[95,28,100,81],[95,31,100,81,"_yield$Promise$all2"],[95,50,100,81],[96,10,122,6],[96,14,122,10,"userResult"],[96,24,122,20],[96,25,122,21,"error"],[96,30,122,26],[96,32,122,28],[96,38,122,34,"userResult"],[96,48,122,44],[96,49,122,45,"error"],[96,54,122,50],[98,10,124,6],[99,10,125,6],[99,14,125,12,"shopCoords"],[99,24,125,22],[99,27,126,8],[99,31,126,8,"parseLocationCoords"],[99,50,126,27],[99,51,126,27,"default"],[99,58,126,27],[99,60,126,28,"shop"],[99,64,126,32],[99,66,126,34,"location"],[99,74,126,42],[99,75,126,43],[99,79,127,8],[99,83,127,8,"parseLocationCoords"],[99,102,127,27],[99,103,127,27,"default"],[99,110,127,27],[99,112,127,29,"meetup"],[99,118,127,35],[99,119,127,64,"location_coords"],[99,134,127,79],[99,135,127,80],[100,10,129,6],[100,17,129,13],[101,12,130,8],[101,15,130,12,"meetup"],[101,21,130,43],[102,12,131,8,"match"],[102,17,131,13],[103,12,132,8,"shop"],[103,16,132,12],[103,18,132,14,"shop"],[103,22,132,36],[104,12,133,8,"other_user"],[104,22,133,18],[104,24,133,20,"userResult"],[104,34,133,30],[104,35,133,31,"data"],[104,39,133,35],[104,43,133,39],[105,14,134,10,"id"],[105,16,134,12],[105,18,134,14,"otherUserId"],[105,29,134,25],[106,14,135,10,"display_name"],[106,26,135,22],[106,28,135,24],[106,37,135,33],[107,14,136,10,"avatar_url"],[107,24,136,20],[107,26,136,22],[107,30,136,26],[108,14,137,10,"rating_score"],[108,26,137,22],[108,28,137,24],[108,29,137,25],[109,14,138,10,"total_trades"],[109,26,138,22],[109,28,138,24],[110,12,139,8],[110,13,139,9],[111,12,140,8,"conversation"],[111,24,140,20],[111,26,140,22,"conversationResult"],[111,44,140,40],[111,45,140,41,"data"],[111,49,140,45],[111,53,140,49],[111,57,140,53],[112,12,141,8,"is_user_a"],[112,21,141,17],[112,23,141,19,"isUserA"],[112,30,141,26],[113,12,142,8,"shopCoords"],[113,22,142,18],[114,12,143,8,"listingItems"],[114,24,143,20],[114,26,143,23,"listingItemsResult"],[114,44,143,41],[114,45,143,42,"data"],[114,49,143,46],[114,53,143,50],[114,55,143,73],[115,12,144,8,"offerItems"],[115,22,144,18],[115,24,144,21,"offerItemsResult"],[115,40,144,37],[115,41,144,38,"data"],[115,45,144,42],[115,49,144,46],[116,10,145,6],[116,11,145,7],[117,8,146,4],[117,9,146,5],[118,8,146,5],[118,24,39,4,"queryFn"],[118,31,39,11,"queryFn"],[118,32,39,11],[119,10,39,11],[119,17,39,11,"_ref"],[119,21,39,11],[119,22,39,11,"apply"],[119,27,39,11],[119,34,39,11,"arguments"],[119,43,39,11],[120,8,39,11],[121,6,39,11],[121,9,146,5],[122,6,147,4,"enabled"],[122,13,147,11],[122,15,147,13],[122,16,147,14],[122,17,147,15,"meetupId"],[123,4,148,2],[123,5,148,3],[123,6,148,4],[124,2,149,0],[124,3,149,1],[125,2,151,0],[125,6,151,0,"_default"],[125,14,151,0],[125,17,151,15,"useMeetupDetail"],[125,32,151,30],[126,0,151,31],[126,3]],"functionMap":{"names":["<global>","useMeetupDetail","useQuery$argument_0.queryFn"],"mappings":"AAA;wBCmC;aCG;KD2G;CDG"},"hasCjsExports":false},"type":"js/module"}]}