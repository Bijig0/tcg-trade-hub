{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  /**\n   * Shape of a raw listing row returned from the Supabase query\n   * with joined `listing_items` and `users`.\n   */\n\n  /**\n   * Transforms a raw Supabase listing row (with joined relations)\n   * into the `ListingWithDistance` shape used by the feed UI.\n   *\n   * Distance is currently hardcoded to 0 â€” will be computed from\n   * PostGIS when location-based sorting is implemented.\n   */\n  var transformRawListing = raw => {\n    var userProfile = raw.users;\n    var items = raw.listing_items ?? [];\n    return {\n      id: raw.id,\n      user_id: raw.user_id,\n      type: raw.type,\n      tcg: raw.tcg,\n      title: raw.title,\n      cash_amount: raw.cash_amount,\n      total_value: raw.total_value,\n      description: raw.description,\n      photos: raw.photos,\n      trade_wants: raw.trade_wants ?? [],\n      accepts_cash: raw.accepts_cash ?? false,\n      accepts_trades: raw.accepts_trades ?? false,\n      status: raw.status,\n      created_at: raw.created_at,\n      updated_at: raw.updated_at,\n      distance_km: 0,\n      // TODO: compute from PostGIS when location available\n      owner: {\n        display_name: userProfile.display_name,\n        avatar_url: userProfile.avatar_url,\n        rating_score: userProfile.rating_score ?? 0,\n        total_trades: userProfile.total_trades ?? 0\n      },\n      items,\n      offer_count: 0\n    };\n  };\n  var _default = transformRawListing;\n});","lineCount":57,"map":[[7,2,75,0,"Object"],[7,8,75,0],[7,9,75,0,"defineProperty"],[7,23,75,0],[7,24,75,0,"exports"],[7,31,75,0],[8,4,75,0,"enumerable"],[8,14,75,0],[9,4,75,0,"get"],[9,7,75,0],[9,18,75,0,"get"],[9,19,75,0],[10,6,75,0],[10,13,75,0,"_default"],[10,21,75,0],[11,4,75,0],[12,2,75,0],[13,2,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[18,2,36,0],[19,0,37,0],[20,0,38,0],[21,0,39,0],[22,0,40,0],[23,0,41,0],[24,0,42,0],[25,2,43,0],[25,6,43,6,"transformRawListing"],[25,25,43,25],[25,28,43,29,"raw"],[25,31,43,48],[25,35,43,74],[26,4,44,2],[26,8,44,8,"userProfile"],[26,19,44,19],[26,22,44,22,"raw"],[26,25,44,25],[26,26,44,26,"users"],[26,31,44,49],[27,4,45,2],[27,8,45,8,"items"],[27,13,45,13],[27,16,45,17,"raw"],[27,19,45,20],[27,20,45,21,"listing_items"],[27,33,45,34],[27,37,45,38],[27,39,45,84],[28,4,47,2],[28,11,47,9],[29,6,48,4,"id"],[29,8,48,6],[29,10,48,8,"raw"],[29,13,48,11],[29,14,48,12,"id"],[29,16,48,14],[30,6,49,4,"user_id"],[30,13,49,11],[30,15,49,13,"raw"],[30,18,49,16],[30,19,49,17,"user_id"],[30,26,49,24],[31,6,50,4,"type"],[31,10,50,8],[31,12,50,10,"raw"],[31,15,50,13],[31,16,50,14,"type"],[31,20,50,18],[32,6,51,4,"tcg"],[32,9,51,7],[32,11,51,9,"raw"],[32,14,51,12],[32,15,51,13,"tcg"],[32,18,51,16],[33,6,52,4,"title"],[33,11,52,9],[33,13,52,11,"raw"],[33,16,52,14],[33,17,52,15,"title"],[33,22,52,20],[34,6,53,4,"cash_amount"],[34,17,53,15],[34,19,53,17,"raw"],[34,22,53,20],[34,23,53,21,"cash_amount"],[34,34,53,32],[35,6,54,4,"total_value"],[35,17,54,15],[35,19,54,17,"raw"],[35,22,54,20],[35,23,54,21,"total_value"],[35,34,54,32],[36,6,55,4,"description"],[36,17,55,15],[36,19,55,17,"raw"],[36,22,55,20],[36,23,55,21,"description"],[36,34,55,32],[37,6,56,4,"photos"],[37,12,56,10],[37,14,56,12,"raw"],[37,17,56,15],[37,18,56,16,"photos"],[37,24,56,22],[38,6,57,4,"trade_wants"],[38,17,57,15],[38,19,57,17,"raw"],[38,22,57,20],[38,23,57,21,"trade_wants"],[38,34,57,32],[38,38,57,36],[38,40,57,38],[39,6,58,4,"accepts_cash"],[39,18,58,16],[39,20,58,18,"raw"],[39,23,58,21],[39,24,58,22,"accepts_cash"],[39,36,58,34],[39,40,58,38],[39,45,58,43],[40,6,59,4,"accepts_trades"],[40,20,59,18],[40,22,59,20,"raw"],[40,25,59,23],[40,26,59,24,"accepts_trades"],[40,40,59,38],[40,44,59,42],[40,49,59,47],[41,6,60,4,"status"],[41,12,60,10],[41,14,60,12,"raw"],[41,17,60,15],[41,18,60,16,"status"],[41,24,60,22],[42,6,61,4,"created_at"],[42,16,61,14],[42,18,61,16,"raw"],[42,21,61,19],[42,22,61,20,"created_at"],[42,32,61,30],[43,6,62,4,"updated_at"],[43,16,62,14],[43,18,62,16,"raw"],[43,21,62,19],[43,22,62,20,"updated_at"],[43,32,62,30],[44,6,63,4,"distance_km"],[44,17,63,15],[44,19,63,17],[44,20,63,18],[45,6,63,20],[46,6,64,4,"owner"],[46,11,64,9],[46,13,64,11],[47,8,65,6,"display_name"],[47,20,65,18],[47,22,65,20,"userProfile"],[47,33,65,31],[47,34,65,32,"display_name"],[47,46,65,44],[48,8,66,6,"avatar_url"],[48,18,66,16],[48,20,66,18,"userProfile"],[48,31,66,29],[48,32,66,30,"avatar_url"],[48,42,66,40],[49,8,67,6,"rating_score"],[49,20,67,18],[49,22,67,20,"userProfile"],[49,33,67,31],[49,34,67,32,"rating_score"],[49,46,67,44],[49,50,67,48],[49,51,67,49],[50,8,68,6,"total_trades"],[50,20,68,18],[50,22,68,20,"userProfile"],[50,33,68,31],[50,34,68,32,"total_trades"],[50,46,68,44],[50,50,68,48],[51,6,69,4],[51,7,69,5],[52,6,70,4,"items"],[52,11,70,9],[53,6,71,4,"offer_count"],[53,17,71,15],[53,19,71,17],[54,4,72,2],[54,5,72,3],[55,2,73,0],[55,3,73,1],[56,2,75,0],[56,6,75,0,"_default"],[56,14,75,0],[56,17,75,15,"transformRawListing"],[56,36,75,34],[57,0,75,35],[57,3]],"functionMap":{"names":["<global>","transformRawListing"],"mappings":"AAA;4BC0C;CD8B"},"hasCjsExports":false},"type":"js/module"}]}