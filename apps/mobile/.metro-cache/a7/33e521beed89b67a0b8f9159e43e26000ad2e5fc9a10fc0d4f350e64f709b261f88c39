{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  /**\n   * Shape of a raw listing row returned from the Supabase query\n   * with joined `listing_items` and `users`.\n   */\n\n  /**\n   * Transforms a raw Supabase listing row (with joined relations)\n   * into the `ListingWithDistance` shape used by the feed UI.\n   *\n   * Distance is currently hardcoded to 0 â€” will be computed from\n   * PostGIS when location-based sorting is implemented.\n   */\n  var transformRawListing = raw => {\n    var userProfile = raw.users;\n    var items = raw.listing_items ?? [];\n    return {\n      id: raw.id,\n      user_id: raw.user_id,\n      type: raw.type,\n      tcg: raw.tcg,\n      title: raw.title,\n      cash_amount: raw.cash_amount,\n      total_value: raw.total_value,\n      description: raw.description,\n      photos: raw.photos,\n      status: raw.status,\n      created_at: raw.created_at,\n      updated_at: raw.updated_at,\n      distance_km: 0,\n      // TODO: compute from PostGIS when location available\n      owner: {\n        display_name: userProfile.display_name,\n        avatar_url: userProfile.avatar_url,\n        rating_score: userProfile.rating_score ?? 0,\n        total_trades: userProfile.total_trades ?? 0\n      },\n      items,\n      offer_count: 0\n    };\n  };\n  var _default = transformRawListing;\n});","lineCount":54,"map":[[7,2,69,0,"Object"],[7,8,69,0],[7,9,69,0,"defineProperty"],[7,23,69,0],[7,24,69,0,"exports"],[7,31,69,0],[8,4,69,0,"enumerable"],[8,14,69,0],[9,4,69,0,"get"],[9,7,69,0],[9,18,69,0,"get"],[9,19,69,0],[10,6,69,0],[10,13,69,0,"_default"],[10,21,69,0],[11,4,69,0],[12,2,69,0],[13,2,12,0],[14,0,13,0],[15,0,14,0],[16,0,15,0],[18,2,33,0],[19,0,34,0],[20,0,35,0],[21,0,36,0],[22,0,37,0],[23,0,38,0],[24,0,39,0],[25,2,40,0],[25,6,40,6,"transformRawListing"],[25,25,40,25],[25,28,40,29,"raw"],[25,31,40,48],[25,35,40,74],[26,4,41,2],[26,8,41,8,"userProfile"],[26,19,41,19],[26,22,41,22,"raw"],[26,25,41,25],[26,26,41,26,"users"],[26,31,41,49],[27,4,42,2],[27,8,42,8,"items"],[27,13,42,13],[27,16,42,17,"raw"],[27,19,42,20],[27,20,42,21,"listing_items"],[27,33,42,34],[27,37,42,38],[27,39,42,84],[28,4,44,2],[28,11,44,9],[29,6,45,4,"id"],[29,8,45,6],[29,10,45,8,"raw"],[29,13,45,11],[29,14,45,12,"id"],[29,16,45,14],[30,6,46,4,"user_id"],[30,13,46,11],[30,15,46,13,"raw"],[30,18,46,16],[30,19,46,17,"user_id"],[30,26,46,24],[31,6,47,4,"type"],[31,10,47,8],[31,12,47,10,"raw"],[31,15,47,13],[31,16,47,14,"type"],[31,20,47,18],[32,6,48,4,"tcg"],[32,9,48,7],[32,11,48,9,"raw"],[32,14,48,12],[32,15,48,13,"tcg"],[32,18,48,16],[33,6,49,4,"title"],[33,11,49,9],[33,13,49,11,"raw"],[33,16,49,14],[33,17,49,15,"title"],[33,22,49,20],[34,6,50,4,"cash_amount"],[34,17,50,15],[34,19,50,17,"raw"],[34,22,50,20],[34,23,50,21,"cash_amount"],[34,34,50,32],[35,6,51,4,"total_value"],[35,17,51,15],[35,19,51,17,"raw"],[35,22,51,20],[35,23,51,21,"total_value"],[35,34,51,32],[36,6,52,4,"description"],[36,17,52,15],[36,19,52,17,"raw"],[36,22,52,20],[36,23,52,21,"description"],[36,34,52,32],[37,6,53,4,"photos"],[37,12,53,10],[37,14,53,12,"raw"],[37,17,53,15],[37,18,53,16,"photos"],[37,24,53,22],[38,6,54,4,"status"],[38,12,54,10],[38,14,54,12,"raw"],[38,17,54,15],[38,18,54,16,"status"],[38,24,54,22],[39,6,55,4,"created_at"],[39,16,55,14],[39,18,55,16,"raw"],[39,21,55,19],[39,22,55,20,"created_at"],[39,32,55,30],[40,6,56,4,"updated_at"],[40,16,56,14],[40,18,56,16,"raw"],[40,21,56,19],[40,22,56,20,"updated_at"],[40,32,56,30],[41,6,57,4,"distance_km"],[41,17,57,15],[41,19,57,17],[41,20,57,18],[42,6,57,20],[43,6,58,4,"owner"],[43,11,58,9],[43,13,58,11],[44,8,59,6,"display_name"],[44,20,59,18],[44,22,59,20,"userProfile"],[44,33,59,31],[44,34,59,32,"display_name"],[44,46,59,44],[45,8,60,6,"avatar_url"],[45,18,60,16],[45,20,60,18,"userProfile"],[45,31,60,29],[45,32,60,30,"avatar_url"],[45,42,60,40],[46,8,61,6,"rating_score"],[46,20,61,18],[46,22,61,20,"userProfile"],[46,33,61,31],[46,34,61,32,"rating_score"],[46,46,61,44],[46,50,61,48],[46,51,61,49],[47,8,62,6,"total_trades"],[47,20,62,18],[47,22,62,20,"userProfile"],[47,33,62,31],[47,34,62,32,"total_trades"],[47,46,62,44],[47,50,62,48],[48,6,63,4],[48,7,63,5],[49,6,64,4,"items"],[49,11,64,9],[50,6,65,4,"offer_count"],[50,17,65,15],[50,19,65,17],[51,4,66,2],[51,5,66,3],[52,2,67,0],[52,3,67,1],[53,2,69,0],[53,6,69,0,"_default"],[53,14,69,0],[53,17,69,15,"transformRawListing"],[53,36,69,34],[54,0,69,35],[54,3]],"functionMap":{"names":["<global>","transformRawListing"],"mappings":"AAA;4BCuC;CD2B"},"hasCjsExports":false},"type":"js/module"}]}