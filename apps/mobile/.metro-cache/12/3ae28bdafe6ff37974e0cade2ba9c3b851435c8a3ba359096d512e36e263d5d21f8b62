{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"ROUTE_PATH_MAP\", {\n    enumerable: true,\n    get: function () {\n      return ROUTE_PATH_MAP;\n    }\n  });\n  Object.defineProperty(exports, \"resolveSegments\", {\n    enumerable: true,\n    get: function () {\n      return resolveSegments;\n    }\n  });\n  /**\n   * Maps Expo Router segments to graph path IDs with step-level granularity.\n   *\n   * When the user navigates within the app, we resolve the full segment path\n   * to one or more graph pathId + stepIndex pairs so the admin graph can\n   * highlight every flow the user is currently participating in.\n   */\n\n  /** A single flow that a route participates in. */\n\n  /**\n   * Lookup from full segment path to graph path mapping.\n   *\n   * Keys use \"/\" to join segments after \"(tabs)\".\n   * The resolver tries longest-prefix match first, then falls back to tab-only.\n   *\n   * Example segments from Expo Router:\n   *   ['(tabs)', '(discover)']                     -> key: '(discover)'\n   *   ['(tabs)', '(discover)', 'browse']           -> key: '(discover)/browse'\n   *   ['(tabs)', '(listings)', 'listing', '[id]']  -> key: '(listings)/listing/[id]'\n   */\n  var ROUTE_PATH_MAP = {\n    // ── P2P Trade Flow (flow:p2p-trade) ──\n    '(discover)': {\n      label: 'Discover Feed',\n      flows: [{\n        pathId: 'flow:p2p-trade',\n        stepIndex: 0\n      }]\n    },\n    '(discover)/browse': {\n      label: 'Browse Listings',\n      flows: [{\n        pathId: 'flow:p2p-trade',\n        stepIndex: 0\n      }]\n    },\n    // ── Listing State Machine (state:listing) ──\n    '(listings)': {\n      label: 'My Listings',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 0\n      }]\n    },\n    '(listings)/new': {\n      label: 'New Listing',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 0\n      }]\n    },\n    '(listings)/add-card': {\n      label: 'Add Card',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 0\n      }]\n    },\n    '(listings)/add-sealed': {\n      label: 'Add Sealed',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 0\n      }]\n    },\n    '(listings)/listing/[id]': {\n      label: 'Listing Detail',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 1\n      }]\n    },\n    '(listings)/edit/[id]': {\n      label: 'Edit Listing',\n      flows: [{\n        pathId: 'state:listing',\n        stepIndex: 2\n      }]\n    },\n    // ── Multi-flow routes ──\n    '(listings)/trade-builder': {\n      label: 'Trade Builder',\n      flows: [{\n        pathId: 'flow:p2p-trade',\n        stepIndex: 1\n      }, {\n        pathId: 'state:listing',\n        stepIndex: 1\n      }]\n    },\n    // ── Offer State Machine (state:offer) ──\n    '(messages)': {\n      label: 'Messages',\n      flows: [{\n        pathId: 'state:offer',\n        stepIndex: 0\n      }]\n    },\n    '(messages)/offer-detail': {\n      label: 'Offer Detail',\n      flows: [{\n        pathId: 'state:offer',\n        stepIndex: 2\n      }]\n    },\n    '(messages)/chat/[conversationId]': {\n      label: 'Chat Thread',\n      flows: [{\n        pathId: 'state:offer',\n        stepIndex: 1\n      }, {\n        pathId: 'flow:p2p-trade',\n        stepIndex: 2\n      }]\n    },\n    '(messages)/meetup-location': {\n      label: 'Meetup Location',\n      flows: [{\n        pathId: 'state:meetup',\n        stepIndex: 1\n      }, {\n        pathId: 'state:offer',\n        stepIndex: 2\n      }]\n    },\n    // ── Meetup State Machine (state:meetup) ──\n    '(meetups)': {\n      label: 'Meetups',\n      flows: [{\n        pathId: 'state:meetup',\n        stepIndex: 0\n      }]\n    },\n    '(meetups)/[id]': {\n      label: 'Meetup Detail',\n      flows: [{\n        pathId: 'state:meetup',\n        stepIndex: 1\n      },\n      // Scenario paths — meetup detail is where confirm/cancel/complete actions happen\n      {\n        pathId: 'scenario:meetup-confirmed',\n        stepIndex: 0\n      }, {\n        pathId: 'scenario:meetup-completed',\n        stepIndex: 0\n      }, {\n        pathId: 'scenario:meetup-cancelled-from-proposed',\n        stepIndex: 0\n      }, {\n        pathId: 'scenario:meetup-cancelled-from-confirmed',\n        stepIndex: 0\n      }]\n    }\n\n    // Profile screens intentionally omitted — no corresponding graph flow.\n  };\n\n  /** Check if a segment looks like a dynamic value (UUID, number, etc.) */\n  var isDynamicSegment = seg =>\n  // UUID pattern (hex + dashes, 8+ chars)\n  /^[0-9a-f-]{8,}$/i.test(seg) ||\n  // Pure number\n  /^\\d+$/.test(seg) ||\n  // UUID-like with standard 8-4-4-4-12 structure\n  /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(seg);\n\n  /**\n   * For dynamic segments, guess the param name based on the preceding route segment.\n   * Falls back to 'id' which covers most cases.\n   */\n  var guessDynamicName = (segments, index) => {\n    var prev = segments[index - 1];\n    if (prev === 'chat') return 'conversationId';\n    return 'id';\n  };\n\n  /**\n   * Resolves Expo Router segments to the best-matching path mapping.\n   * Tries longest prefix first, then falls back to tab-only segment.\n   *\n   * Dynamic segments like \"abc-123-uuid\" are matched against \"[id]\" patterns.\n   */\n  var resolveSegments = segments => {\n    // segments = ['(tabs)', '(discover)', 'browse'] or similar\n    var afterTabs = segments.slice(1); // drop '(tabs)'\n    if (afterTabs.length === 0) return null;\n\n    // Try longest match first, progressively shorten\n    for (var len = afterTabs.length; len >= 1; len--) {\n      var key = afterTabs.slice(0, len).map((seg, i) => isDynamicSegment(seg) ? `[${guessDynamicName(afterTabs, i)}]` : seg).join('/');\n      var mapping = ROUTE_PATH_MAP[key];\n      if (mapping) return mapping;\n    }\n    return null;\n  };\n});","lineCount":216,"map":[[7,2,141,0,"Object"],[7,8,141,0],[7,9,141,0,"defineProperty"],[7,23,141,0],[7,24,141,0,"exports"],[7,31,141,0],[8,4,141,0,"enumerable"],[8,14,141,0],[9,4,141,0,"get"],[9,7,141,0],[9,18,141,0,"get"],[9,19,141,0],[10,6,141,0],[10,13,141,9,"ROUTE_PATH_MAP"],[10,27,141,23],[11,4,141,23],[12,2,141,23],[13,2,141,0,"Object"],[13,8,141,0],[13,9,141,0,"defineProperty"],[13,23,141,0],[13,24,141,0,"exports"],[13,31,141,0],[14,4,141,0,"enumerable"],[14,14,141,0],[15,4,141,0,"get"],[15,7,141,0],[15,18,141,0,"get"],[15,19,141,0],[16,6,141,0],[16,13,141,25,"resolveSegments"],[16,28,141,40],[17,4,141,40],[18,2,141,40],[19,2,1,0],[20,0,2,0],[21,0,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,0,7,0],[27,2,9,0],[29,2,24,0],[30,0,25,0],[31,0,26,0],[32,0,27,0],[33,0,28,0],[34,0,29,0],[35,0,30,0],[36,0,31,0],[37,0,32,0],[38,0,33,0],[39,0,34,0],[40,2,35,0],[40,6,35,6,"ROUTE_PATH_MAP"],[40,20,35,54],[40,23,35,57],[41,4,36,2],[42,4,37,2],[42,16,37,14],[42,18,37,29],[43,6,37,31,"label"],[43,11,37,36],[43,13,37,38],[43,28,37,53],[44,6,37,57,"flows"],[44,11,37,62],[44,13,37,64],[44,14,37,65],[45,8,37,67,"pathId"],[45,14,37,73],[45,16,37,75],[45,32,37,91],[46,8,37,93,"stepIndex"],[46,17,37,102],[46,19,37,104],[47,6,37,106],[47,7,37,107],[48,4,37,109],[48,5,37,110],[49,4,38,2],[49,23,38,21],[49,25,38,29],[50,6,38,31,"label"],[50,11,38,36],[50,13,38,38],[50,30,38,55],[51,6,38,57,"flows"],[51,11,38,62],[51,13,38,64],[51,14,38,65],[52,8,38,67,"pathId"],[52,14,38,73],[52,16,38,75],[52,32,38,91],[53,8,38,93,"stepIndex"],[53,17,38,102],[53,19,38,104],[54,6,38,106],[54,7,38,107],[55,4,38,109],[55,5,38,110],[56,4,40,2],[57,4,41,2],[57,16,41,14],[57,18,41,29],[58,6,41,31,"label"],[58,11,41,36],[58,13,41,38],[58,26,41,51],[59,6,41,57,"flows"],[59,11,41,62],[59,13,41,64],[59,14,41,65],[60,8,41,67,"pathId"],[60,14,41,73],[60,16,41,75],[60,31,41,90],[61,8,41,92,"stepIndex"],[61,17,41,101],[61,19,41,103],[62,6,41,105],[62,7,41,106],[63,4,41,108],[63,5,41,109],[64,4,42,2],[64,20,42,18],[64,22,42,29],[65,6,42,31,"label"],[65,11,42,36],[65,13,42,38],[65,26,42,51],[66,6,42,57,"flows"],[66,11,42,62],[66,13,42,64],[66,14,42,65],[67,8,42,67,"pathId"],[67,14,42,73],[67,16,42,75],[67,31,42,90],[68,8,42,92,"stepIndex"],[68,17,42,101],[68,19,42,103],[69,6,42,105],[69,7,42,106],[70,4,42,108],[70,5,42,109],[71,4,43,2],[71,25,43,23],[71,27,43,29],[72,6,43,31,"label"],[72,11,43,36],[72,13,43,38],[72,23,43,48],[73,6,43,57,"flows"],[73,11,43,62],[73,13,43,64],[73,14,43,65],[74,8,43,67,"pathId"],[74,14,43,73],[74,16,43,75],[74,31,43,90],[75,8,43,92,"stepIndex"],[75,17,43,101],[75,19,43,103],[76,6,43,105],[76,7,43,106],[77,4,43,108],[77,5,43,109],[78,4,44,2],[78,27,44,25],[78,29,44,29],[79,6,44,31,"label"],[79,11,44,36],[79,13,44,38],[79,25,44,50],[80,6,44,57,"flows"],[80,11,44,62],[80,13,44,64],[80,14,44,65],[81,8,44,67,"pathId"],[81,14,44,73],[81,16,44,75],[81,31,44,90],[82,8,44,92,"stepIndex"],[82,17,44,101],[82,19,44,103],[83,6,44,105],[83,7,44,106],[84,4,44,108],[84,5,44,109],[85,4,45,2],[85,29,45,27],[85,31,45,29],[86,6,45,31,"label"],[86,11,45,36],[86,13,45,38],[86,29,45,54],[87,6,45,57,"flows"],[87,11,45,62],[87,13,45,64],[87,14,45,65],[88,8,45,67,"pathId"],[88,14,45,73],[88,16,45,75],[88,31,45,90],[89,8,45,92,"stepIndex"],[89,17,45,101],[89,19,45,103],[90,6,45,105],[90,7,45,106],[91,4,45,108],[91,5,45,109],[92,4,46,2],[92,26,46,24],[92,28,46,29],[93,6,46,31,"label"],[93,11,46,36],[93,13,46,38],[93,27,46,52],[94,6,46,57,"flows"],[94,11,46,62],[94,13,46,64],[94,14,46,65],[95,8,46,67,"pathId"],[95,14,46,73],[95,16,46,75],[95,31,46,90],[96,8,46,92,"stepIndex"],[96,17,46,101],[96,19,46,103],[97,6,46,105],[97,7,46,106],[98,4,46,108],[98,5,46,109],[99,4,48,2],[100,4,49,2],[100,30,49,28],[100,32,49,30],[101,6,50,4,"label"],[101,11,50,9],[101,13,50,11],[101,28,50,26],[102,6,51,4,"flows"],[102,11,51,9],[102,13,51,11],[102,14,52,6],[103,8,52,8,"pathId"],[103,14,52,14],[103,16,52,16],[103,32,52,32],[104,8,52,34,"stepIndex"],[104,17,52,43],[104,19,52,45],[105,6,52,47],[105,7,52,48],[105,9,53,6],[106,8,53,8,"pathId"],[106,14,53,14],[106,16,53,16],[106,31,53,31],[107,8,53,33,"stepIndex"],[107,17,53,42],[107,19,53,44],[108,6,53,46],[108,7,53,47],[109,4,55,2],[109,5,55,3],[110,4,57,2],[111,4,58,2],[111,16,58,14],[111,18,58,29],[112,6,58,31,"label"],[112,11,58,36],[112,13,58,38],[112,23,58,48],[113,6,58,55,"flows"],[113,11,58,60],[113,13,58,62],[113,14,58,63],[114,8,58,65,"pathId"],[114,14,58,71],[114,16,58,73],[114,29,58,86],[115,8,58,88,"stepIndex"],[115,17,58,97],[115,19,58,99],[116,6,58,101],[116,7,58,102],[117,4,58,104],[117,5,58,105],[118,4,59,2],[118,29,59,27],[118,31,59,29],[119,6,59,31,"label"],[119,11,59,36],[119,13,59,38],[119,27,59,52],[120,6,59,55,"flows"],[120,11,59,60],[120,13,59,62],[120,14,59,63],[121,8,59,65,"pathId"],[121,14,59,71],[121,16,59,73],[121,29,59,86],[122,8,59,88,"stepIndex"],[122,17,59,97],[122,19,59,99],[123,6,59,101],[123,7,59,102],[124,4,59,104],[124,5,59,105],[125,4,61,2],[125,38,61,36],[125,40,61,38],[126,6,62,4,"label"],[126,11,62,9],[126,13,62,11],[126,26,62,24],[127,6,63,4,"flows"],[127,11,63,9],[127,13,63,11],[127,14,64,6],[128,8,64,8,"pathId"],[128,14,64,14],[128,16,64,16],[128,29,64,29],[129,8,64,31,"stepIndex"],[129,17,64,40],[129,19,64,42],[130,6,64,44],[130,7,64,45],[130,9,65,6],[131,8,65,8,"pathId"],[131,14,65,14],[131,16,65,16],[131,32,65,32],[132,8,65,34,"stepIndex"],[132,17,65,43],[132,19,65,45],[133,6,65,47],[133,7,65,48],[134,4,67,2],[134,5,67,3],[135,4,69,2],[135,32,69,30],[135,34,69,32],[136,6,70,4,"label"],[136,11,70,9],[136,13,70,11],[136,30,70,28],[137,6,71,4,"flows"],[137,11,71,9],[137,13,71,11],[137,14,72,6],[138,8,72,8,"pathId"],[138,14,72,14],[138,16,72,16],[138,30,72,30],[139,8,72,32,"stepIndex"],[139,17,72,41],[139,19,72,43],[140,6,72,45],[140,7,72,46],[140,9,73,6],[141,8,73,8,"pathId"],[141,14,73,14],[141,16,73,16],[141,29,73,29],[142,8,73,31,"stepIndex"],[142,17,73,40],[142,19,73,42],[143,6,73,44],[143,7,73,45],[144,4,75,2],[144,5,75,3],[145,4,77,2],[146,4,78,2],[146,15,78,13],[146,17,78,21],[147,6,78,23,"label"],[147,11,78,28],[147,13,78,30],[147,22,78,39],[148,6,78,47,"flows"],[148,11,78,52],[148,13,78,54],[148,14,78,55],[149,8,78,57,"pathId"],[149,14,78,63],[149,16,78,65],[149,30,78,79],[150,8,78,81,"stepIndex"],[150,17,78,90],[150,19,78,92],[151,6,78,94],[151,7,78,95],[152,4,78,97],[152,5,78,98],[153,4,79,2],[153,20,79,18],[153,22,79,21],[154,6,80,4,"label"],[154,11,80,9],[154,13,80,11],[154,28,80,26],[155,6,81,4,"flows"],[155,11,81,9],[155,13,81,11],[155,14,82,6],[156,8,82,8,"pathId"],[156,14,82,14],[156,16,82,16],[156,30,82,30],[157,8,82,32,"stepIndex"],[157,17,82,41],[157,19,82,43],[158,6,82,45],[158,7,82,46],[159,6,83,6],[160,6,84,6],[161,8,84,8,"pathId"],[161,14,84,14],[161,16,84,16],[161,43,84,43],[162,8,84,45,"stepIndex"],[162,17,84,54],[162,19,84,56],[163,6,84,58],[163,7,84,59],[163,9,85,6],[164,8,85,8,"pathId"],[164,14,85,14],[164,16,85,16],[164,43,85,43],[165,8,85,45,"stepIndex"],[165,17,85,54],[165,19,85,56],[166,6,85,58],[166,7,85,59],[166,9,86,6],[167,8,86,8,"pathId"],[167,14,86,14],[167,16,86,16],[167,57,86,57],[168,8,86,59,"stepIndex"],[168,17,86,68],[168,19,86,70],[169,6,86,72],[169,7,86,73],[169,9,87,6],[170,8,87,8,"pathId"],[170,14,87,14],[170,16,87,16],[170,58,87,58],[171,8,87,60,"stepIndex"],[171,17,87,69],[171,19,87,71],[172,6,87,73],[172,7,87,74],[173,4,89,2],[175,4,91,2],[176,2,92,0],[176,3,92,1],[178,2,94,0],[179,2,95,0],[179,6,95,6,"isDynamicSegment"],[179,22,95,22],[179,25,95,26,"seg"],[179,28,95,37],[180,2,96,2],[181,2,97,2],[181,20,97,20],[181,21,97,21,"test"],[181,25,97,25],[181,26,97,26,"seg"],[181,29,97,29],[181,30,97,30],[182,2,98,2],[183,2,99,2],[183,9,99,9],[183,10,99,10,"test"],[183,14,99,14],[183,15,99,15,"seg"],[183,18,99,18],[183,19,99,19],[184,2,100,2],[185,2,101,2],[185,67,101,67],[185,68,101,68,"test"],[185,72,101,72],[185,73,101,73,"seg"],[185,76,101,76],[185,77,101,77],[187,2,103,0],[188,0,104,0],[189,0,105,0],[190,0,106,0],[191,2,107,0],[191,6,107,6,"guessDynamicName"],[191,22,107,22],[191,25,107,25,"guessDynamicName"],[191,26,107,26,"segments"],[191,34,107,44],[191,36,107,46,"index"],[191,41,107,59],[191,46,107,72],[192,4,108,2],[192,8,108,8,"prev"],[192,12,108,12],[192,15,108,15,"segments"],[192,23,108,23],[192,24,108,24,"index"],[192,29,108,29],[192,32,108,32],[192,33,108,33],[192,34,108,34],[193,4,109,2],[193,8,109,6,"prev"],[193,12,109,10],[193,17,109,15],[193,23,109,21],[193,25,109,23],[193,32,109,30],[193,48,109,46],[194,4,110,2],[194,11,110,9],[194,15,110,13],[195,2,111,0],[195,3,111,1],[197,2,113,0],[198,0,114,0],[199,0,115,0],[200,0,116,0],[201,0,117,0],[202,0,118,0],[203,2,119,0],[203,6,119,6,"resolveSegments"],[203,21,119,21],[203,24,120,2,"segments"],[203,32,120,20],[203,36,121,30],[204,4,122,2],[205,4,123,2],[205,8,123,8,"afterTabs"],[205,17,123,17],[205,20,123,20,"segments"],[205,28,123,28],[205,29,123,29,"slice"],[205,34,123,34],[205,35,123,35],[205,36,123,36],[205,37,123,37],[205,38,123,38],[205,39,123,39],[206,4,124,2],[206,8,124,6,"afterTabs"],[206,17,124,15],[206,18,124,16,"length"],[206,24,124,22],[206,29,124,27],[206,30,124,28],[206,32,124,30],[206,39,124,37],[206,43,124,41],[208,4,126,2],[209,4,127,2],[209,9,127,7],[209,13,127,11,"len"],[209,16,127,14],[209,19,127,17,"afterTabs"],[209,28,127,26],[209,29,127,27,"length"],[209,35,127,33],[209,37,127,35,"len"],[209,40,127,38],[209,44,127,42],[209,45,127,43],[209,47,127,45,"len"],[209,50,127,48],[209,52,127,50],[209,54,127,52],[210,6,128,4],[210,10,128,10,"key"],[210,13,128,13],[210,16,128,16,"afterTabs"],[210,25,128,25],[210,26,129,7,"slice"],[210,31,129,12],[210,32,129,13],[210,33,129,14],[210,35,129,16,"len"],[210,38,129,19],[210,39,129,20],[210,40,130,7,"map"],[210,43,130,10],[210,44,130,11],[210,45,130,12,"seg"],[210,48,130,15],[210,50,130,17,"i"],[210,51,130,18],[210,56,131,8,"isDynamicSegment"],[210,72,131,24],[210,73,131,25,"seg"],[210,76,131,28],[210,77,131,29],[210,80,131,32],[210,84,131,36,"guessDynamicName"],[210,100,131,52],[210,101,131,53,"afterTabs"],[210,110,131,62],[210,112,131,64,"i"],[210,113,131,65],[210,114,131,66],[210,117,131,69],[210,120,131,72,"seg"],[210,123,132,6],[210,124,132,7],[210,125,133,7,"join"],[210,129,133,11],[210,130,133,12],[210,133,133,15],[210,134,133,16],[211,6,134,4],[211,10,134,10,"mapping"],[211,17,134,17],[211,20,134,20,"ROUTE_PATH_MAP"],[211,34,134,34],[211,35,134,35,"key"],[211,38,134,38],[211,39,134,39],[212,6,135,4],[212,10,135,8,"mapping"],[212,17,135,15],[212,19,135,17],[212,26,135,24,"mapping"],[212,33,135,31],[213,4,136,2],[214,4,138,2],[214,11,138,9],[214,15,138,13],[215,2,139,0],[215,3,139,1],[216,0,139,2],[216,3]],"functionMap":{"names":["<global>","isDynamicSegment","guessDynamicName","resolveSegments","afterTabs.slice.map$argument_0"],"mappings":"AAA;yBC8F;6EDM;yBEM;CFI;wBGQ;WCW;2EDC;CHQ"},"hasCjsExports":false},"type":"js/module"}]}