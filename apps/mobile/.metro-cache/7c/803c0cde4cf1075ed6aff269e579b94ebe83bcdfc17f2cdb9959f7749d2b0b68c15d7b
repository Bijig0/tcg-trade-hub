{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":68,"index":68}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":69},"end":{"line":2,"column":37,"index":106}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":107},"end":{"line":3,"column":42,"index":149}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":150},"end":{"line":4,"column":49,"index":199}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1]);\n  var _reactNative = require(_dependencyMap[2]);\n  var _libSupabase = require(_dependencyMap[3]);\n  var _contextAuthProvider = require(_dependencyMap[4]);\n  /**\n   * Hook that unblocks a user by deleting from the blocks table\n   * where blocker_id is the current user and blocked_id is the target.\n   */\n  var useUnblockUser = () => {\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    return (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _ref2 = (0, _asyncToGenerator.default)(function* (_ref) {\n          var blockedId = _ref.blockedId;\n          if (!user) throw new Error('Not authenticated');\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('blocks').delete().eq('blocker_id', user.id).eq('blocked_id', blockedId),\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          return {\n            blockedId\n          };\n        });\n        return function mutationFn(_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }(),\n      onSuccess: () => {\n        queryClient.invalidateQueries({\n          queryKey: ['blocked-users']\n        });\n      },\n      onError: error => {\n        _reactNative.Alert.alert('Error', error.message ?? 'Failed to unblock user');\n      }\n    });\n  };\n  var _default = useUnblockUser;\n});","lineCount":59,"map":[[12,2,40,0,"Object"],[12,8,40,0],[12,9,40,0,"defineProperty"],[12,23,40,0],[12,24,40,0,"exports"],[12,31,40,0],[13,4,40,0,"enumerable"],[13,14,40,0],[14,4,40,0,"get"],[14,7,40,0],[14,18,40,0,"get"],[14,19,40,0],[15,6,40,0],[15,13,40,0,"_default"],[15,21,40,0],[16,4,40,0],[17,2,40,0],[18,2,40,30],[18,6,40,30,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,40,30],[18,45,40,30,"require"],[18,52,40,30],[18,53,40,30,"_dependencyMap"],[18,67,40,30],[19,2,40,30],[19,6,40,30,"_asyncToGenerator"],[19,23,40,30],[19,26,40,30,"_interopDefault"],[19,41,40,30],[19,42,40,30,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,40,30],[20,2,1,0],[20,6,1,0,"_tanstackReactQuery"],[20,25,1,0],[20,28,1,0,"require"],[20,35,1,0],[20,36,1,0,"_dependencyMap"],[20,50,1,0],[21,2,2,0],[21,6,2,0,"_reactNative"],[21,18,2,0],[21,21,2,0,"require"],[21,28,2,0],[21,29,2,0,"_dependencyMap"],[21,43,2,0],[22,2,3,0],[22,6,3,0,"_libSupabase"],[22,18,3,0],[22,21,3,0,"require"],[22,28,3,0],[22,29,3,0,"_dependencyMap"],[22,43,3,0],[23,2,4,0],[23,6,4,0,"_contextAuthProvider"],[23,26,4,0],[23,29,4,0,"require"],[23,36,4,0],[23,37,4,0,"_dependencyMap"],[23,51,4,0],[24,2,10,0],[25,0,11,0],[26,0,12,0],[27,0,13,0],[28,2,14,0],[28,6,14,6,"useUnblockUser"],[28,20,14,20],[28,23,14,23,"useUnblockUser"],[28,24,14,23],[28,29,14,29],[29,4,15,2],[29,8,15,8,"queryClient"],[29,19,15,19],[29,22,15,22],[29,26,15,22,"useQueryClient"],[29,45,15,36],[29,46,15,36,"useQueryClient"],[29,60,15,36],[29,62,15,37],[29,63,15,38],[30,4,16,2],[30,8,16,2,"_useAuth"],[30,16,16,2],[30,19,16,19],[30,23,16,19,"useAuth"],[30,43,16,26],[30,44,16,26,"useAuth"],[30,51,16,26],[30,53,16,27],[30,54,16,28],[31,6,16,10,"user"],[31,10,16,14],[31,13,16,14,"_useAuth"],[31,21,16,14],[31,22,16,10,"user"],[31,26,16,14],[32,4,18,2],[32,11,18,9],[32,15,18,9,"useMutation"],[32,34,18,20],[32,35,18,20,"useMutation"],[32,46,18,20],[32,48,18,21],[33,6,19,4,"mutationFn"],[33,16,19,14],[34,8,19,14],[34,12,19,14,"_ref2"],[34,17,19,14],[34,24,19,14,"_asyncToGenerator"],[34,41,19,14],[34,42,19,14,"default"],[34,49,19,14],[34,51,19,16],[34,62,19,16,"_ref"],[34,66,19,16],[34,68,19,60],[35,10,19,60],[35,14,19,25,"blockedId"],[35,23,19,34],[35,26,19,34,"_ref"],[35,30,19,34],[35,31,19,25,"blockedId"],[35,40,19,34],[36,10,20,6],[36,14,20,10],[36,15,20,11,"user"],[36,19,20,15],[36,21,20,17],[36,27,20,23],[36,31,20,27,"Error"],[36,36,20,32],[36,37,20,33],[36,56,20,52],[36,57,20,53],[37,10,22,6],[37,14,22,6,"_yield$supabase$from$"],[37,35,22,6],[37,44,22,30,"supabase"],[37,56,22,38],[37,57,22,38,"supabase"],[37,65,22,38],[37,66,23,9,"from"],[37,70,23,13],[37,71,23,14],[37,79,23,22],[37,80,23,23],[37,81,24,9,"delete"],[37,87,24,15],[37,88,24,16],[37,89,24,17],[37,90,25,9,"eq"],[37,92,25,11],[37,93,25,12],[37,105,25,24],[37,107,25,26,"user"],[37,111,25,30],[37,112,25,31,"id"],[37,114,25,33],[37,115,25,34],[37,116,26,9,"eq"],[37,118,26,11],[37,119,26,12],[37,131,26,24],[37,133,26,26,"blockedId"],[37,142,26,35],[37,143,26,36],[38,12,22,14,"error"],[38,17,22,19],[38,20,22,19,"_yield$supabase$from$"],[38,41,22,19],[38,42,22,14,"error"],[38,47,22,19],[39,10,28,6],[39,14,28,10,"error"],[39,19,28,15],[39,21,28,17],[39,27,28,23,"error"],[39,32,28,28],[40,10,29,6],[40,17,29,13],[41,12,29,15,"blockedId"],[42,10,29,25],[42,11,29,26],[43,8,30,4],[43,9,30,5],[44,8,30,5],[44,24,19,4,"mutationFn"],[44,34,19,14,"mutationFn"],[44,35,19,14,"_x"],[44,37,19,14],[45,10,19,14],[45,17,19,14,"_ref2"],[45,22,19,14],[45,23,19,14,"apply"],[45,28,19,14],[45,35,19,14,"arguments"],[45,44,19,14],[46,8,19,14],[47,6,19,14],[47,9,30,5],[48,6,31,4,"onSuccess"],[48,15,31,13],[48,17,31,15,"onSuccess"],[48,18,31,15],[48,23,31,21],[49,8,32,6,"queryClient"],[49,19,32,17],[49,20,32,18,"invalidateQueries"],[49,37,32,35],[49,38,32,36],[50,10,32,38,"queryKey"],[50,18,32,46],[50,20,32,48],[50,21,32,49],[50,36,32,64],[51,8,32,66],[51,9,32,67],[51,10,32,68],[52,6,33,4],[52,7,33,5],[53,6,34,4,"onError"],[53,13,34,11],[53,15,34,14,"error"],[53,20,34,26],[53,24,34,31],[54,8,35,6,"Alert"],[54,20,35,11],[54,21,35,11,"Alert"],[54,26,35,11],[54,27,35,12,"alert"],[54,32,35,17],[54,33,35,18],[54,40,35,25],[54,42,35,27,"error"],[54,47,35,32],[54,48,35,33,"message"],[54,55,35,40],[54,59,35,44],[54,83,35,68],[54,84,35,69],[55,6,36,4],[56,4,37,2],[56,5,37,3],[56,6,37,4],[57,2,38,0],[57,3,38,1],[58,2,40,0],[58,6,40,0,"_default"],[58,14,40,0],[58,17,40,15,"useUnblockUser"],[58,31,40,29],[59,0,40,30],[59,3]],"functionMap":{"names":["<global>","useUnblockUser","useMutation$argument_0.mutationFn","useMutation$argument_0.onSuccess","useMutation$argument_0.onError"],"mappings":"AAA;uBCa;gBCK;KDW;eEC;KFE;aGC;KHE;CDE"},"hasCjsExports":false},"type":"js/module"}]}