{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":42,"index":95}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1]);\n  var _libSupabase = require(_dependencyMap[2]);\n  /** Hook for email/password authentication with Supabase */\n  var useEmailAuth = () => {\n    var login = (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _ref2 = (0, _asyncToGenerator.default)(function* (_ref) {\n          var email = _ref.email,\n            password = _ref.password;\n          var _yield$supabase$auth$ = yield _libSupabase.supabase.auth.signInWithPassword({\n              email,\n              password\n            }),\n            data = _yield$supabase$auth$.data,\n            error = _yield$supabase$auth$.error;\n          if (error) throw error;\n          return data;\n        });\n        return function mutationFn(_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }()\n    });\n    var register = (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _ref4 = (0, _asyncToGenerator.default)(function* (_ref3) {\n          var email = _ref3.email,\n            password = _ref3.password,\n            displayName = _ref3.displayName;\n          var _yield$supabase$auth$2 = yield _libSupabase.supabase.auth.signUp({\n              email,\n              password,\n              options: {\n                data: {\n                  display_name: displayName\n                }\n              }\n            }),\n            data = _yield$supabase$auth$2.data,\n            error = _yield$supabase$auth$2.error;\n          if (error) throw error;\n          if (data.user) {\n            yield _libSupabase.supabase.from('users').insert({\n              id: data.user.id,\n              email,\n              display_name: displayName\n            });\n          }\n          return data;\n        });\n        return function mutationFn(_x2) {\n          return _ref4.apply(this, arguments);\n        };\n      }()\n    });\n    return {\n      login,\n      register\n    };\n  };\n  var _default = useEmailAuth;\n});","lineCount":81,"map":[[12,2,39,0,"Object"],[12,8,39,0],[12,9,39,0,"defineProperty"],[12,23,39,0],[12,24,39,0,"exports"],[12,31,39,0],[13,4,39,0,"enumerable"],[13,14,39,0],[14,4,39,0,"get"],[14,7,39,0],[14,18,39,0,"get"],[14,19,39,0],[15,6,39,0],[15,13,39,0,"_default"],[15,21,39,0],[16,4,39,0],[17,2,39,0],[18,2,39,28],[18,6,39,28,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,39,28],[18,45,39,28,"require"],[18,52,39,28],[18,53,39,28,"_dependencyMap"],[18,67,39,28],[19,2,39,28],[19,6,39,28,"_asyncToGenerator"],[19,23,39,28],[19,26,39,28,"_interopDefault"],[19,41,39,28],[19,42,39,28,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,39,28],[20,2,1,0],[20,6,1,0,"_tanstackReactQuery"],[20,25,1,0],[20,28,1,0,"require"],[20,35,1,0],[20,36,1,0,"_dependencyMap"],[20,50,1,0],[21,2,2,0],[21,6,2,0,"_libSupabase"],[21,18,2,0],[21,21,2,0,"require"],[21,28,2,0],[21,29,2,0,"_dependencyMap"],[21,43,2,0],[22,2,5,0],[23,2,6,0],[23,6,6,6,"useEmailAuth"],[23,18,6,18],[23,21,6,21,"useEmailAuth"],[23,22,6,21],[23,27,6,27],[24,4,7,2],[24,8,7,8,"login"],[24,13,7,13],[24,16,7,16],[24,20,7,16,"useMutation"],[24,39,7,27],[24,40,7,27,"useMutation"],[24,51,7,27],[24,53,7,28],[25,6,8,4,"mutationFn"],[25,16,8,14],[26,8,8,14],[26,12,8,14,"_ref2"],[26,17,8,14],[26,24,8,14,"_asyncToGenerator"],[26,41,8,14],[26,42,8,14,"default"],[26,49,8,14],[26,51,8,16],[26,62,8,16,"_ref"],[26,66,8,16],[26,68,8,58],[27,10,8,58],[27,14,8,25,"email"],[27,19,8,30],[27,22,8,30,"_ref"],[27,26,8,30],[27,27,8,25,"email"],[27,32,8,30],[28,12,8,32,"password"],[28,20,8,40],[28,23,8,40,"_ref"],[28,27,8,40],[28,28,8,32,"password"],[28,36,8,40],[29,10,9,6],[29,14,9,6,"_yield$supabase$auth$"],[29,35,9,6],[29,44,9,36,"supabase"],[29,56,9,44],[29,57,9,44,"supabase"],[29,65,9,44],[29,66,9,45,"auth"],[29,70,9,49],[29,71,9,50,"signInWithPassword"],[29,89,9,68],[29,90,9,69],[30,14,9,71,"email"],[30,19,9,76],[31,14,9,78,"password"],[32,12,9,87],[32,13,9,88],[32,14,9,89],[33,12,9,14,"data"],[33,16,9,18],[33,19,9,18,"_yield$supabase$auth$"],[33,40,9,18],[33,41,9,14,"data"],[33,45,9,18],[34,12,9,20,"error"],[34,17,9,25],[34,20,9,25,"_yield$supabase$auth$"],[34,41,9,25],[34,42,9,20,"error"],[34,47,9,25],[35,10,10,6],[35,14,10,10,"error"],[35,19,10,15],[35,21,10,17],[35,27,10,23,"error"],[35,32,10,28],[36,10,11,6],[36,17,11,13,"data"],[36,21,11,17],[37,8,12,4],[37,9,12,5],[38,8,12,5],[38,24,8,4,"mutationFn"],[38,34,8,14,"mutationFn"],[38,35,8,14,"_x"],[38,37,8,14],[39,10,8,14],[39,17,8,14,"_ref2"],[39,22,8,14],[39,23,8,14,"apply"],[39,28,8,14],[39,35,8,14,"arguments"],[39,44,8,14],[40,8,8,14],[41,6,8,14],[42,4,13,2],[42,5,13,3],[42,6,13,4],[43,4,15,2],[43,8,15,8,"register"],[43,16,15,16],[43,19,15,19],[43,23,15,19,"useMutation"],[43,42,15,30],[43,43,15,30,"useMutation"],[43,54,15,30],[43,56,15,31],[44,6,16,4,"mutationFn"],[44,16,16,14],[45,8,16,14],[45,12,16,14,"_ref4"],[45,17,16,14],[45,24,16,14,"_asyncToGenerator"],[45,41,16,14],[45,42,16,14,"default"],[45,49,16,14],[45,51,16,16],[45,62,16,16,"_ref3"],[45,67,16,16],[45,69,16,74],[46,10,16,74],[46,14,16,25,"email"],[46,19,16,30],[46,22,16,30,"_ref3"],[46,27,16,30],[46,28,16,25,"email"],[46,33,16,30],[47,12,16,32,"password"],[47,20,16,40],[47,23,16,40,"_ref3"],[47,28,16,40],[47,29,16,32,"password"],[47,37,16,40],[48,12,16,42,"displayName"],[48,23,16,53],[48,26,16,53,"_ref3"],[48,31,16,53],[48,32,16,42,"displayName"],[48,43,16,53],[49,10,17,6],[49,14,17,6,"_yield$supabase$auth$2"],[49,36,17,6],[49,45,17,36,"supabase"],[49,57,17,44],[49,58,17,44,"supabase"],[49,66,17,44],[49,67,17,45,"auth"],[49,71,17,49],[49,72,17,50,"signUp"],[49,78,17,56],[49,79,17,57],[50,14,18,8,"email"],[50,19,18,13],[51,14,19,8,"password"],[51,22,19,16],[52,14,20,8,"options"],[52,21,20,15],[52,23,20,17],[53,16,20,19,"data"],[53,20,20,23],[53,22,20,25],[54,18,20,27,"display_name"],[54,30,20,39],[54,32,20,41,"displayName"],[55,16,20,53],[56,14,20,55],[57,12,21,6],[57,13,21,7],[57,14,21,8],[58,12,17,14,"data"],[58,16,17,18],[58,19,17,18,"_yield$supabase$auth$2"],[58,41,17,18],[58,42,17,14,"data"],[58,46,17,18],[59,12,17,20,"error"],[59,17,17,25],[59,20,17,25,"_yield$supabase$auth$2"],[59,42,17,25],[59,43,17,20,"error"],[59,48,17,25],[60,10,22,6],[60,14,22,10,"error"],[60,19,22,15],[60,21,22,17],[60,27,22,23,"error"],[60,32,22,28],[61,10,24,6],[61,14,24,10,"data"],[61,18,24,14],[61,19,24,15,"user"],[61,23,24,19],[61,25,24,21],[62,12,25,8],[62,18,25,14,"supabase"],[62,30,25,22],[62,31,25,22,"supabase"],[62,39,25,22],[62,40,25,23,"from"],[62,44,25,27],[62,45,25,28],[62,52,25,35],[62,53,25,36],[62,54,25,37,"insert"],[62,60,25,43],[62,61,25,44],[63,14,26,10,"id"],[63,16,26,12],[63,18,26,14,"data"],[63,22,26,18],[63,23,26,19,"user"],[63,27,26,23],[63,28,26,24,"id"],[63,30,26,26],[64,14,27,10,"email"],[64,19,27,15],[65,14,28,10,"display_name"],[65,26,28,22],[65,28,28,24,"displayName"],[66,12,29,8],[66,13,29,9],[66,14,29,10],[67,10,30,6],[68,10,32,6],[68,17,32,13,"data"],[68,21,32,17],[69,8,33,4],[69,9,33,5],[70,8,33,5],[70,24,16,4,"mutationFn"],[70,34,16,14,"mutationFn"],[70,35,16,14,"_x2"],[70,38,16,14],[71,10,16,14],[71,17,16,14,"_ref4"],[71,22,16,14],[71,23,16,14,"apply"],[71,28,16,14],[71,35,16,14,"arguments"],[71,44,16,14],[72,8,16,14],[73,6,16,14],[74,4,34,2],[74,5,34,3],[74,6,34,4],[75,4,36,2],[75,11,36,9],[76,6,36,11,"login"],[76,11,36,16],[77,6,36,18,"register"],[78,4,36,27],[78,5,36,28],[79,2,37,0],[79,3,37,1],[80,2,39,0],[80,6,39,0,"_default"],[80,14,39,0],[80,17,39,15,"useEmailAuth"],[80,29,39,27],[81,0,39,28],[81,3]],"functionMap":{"names":["<global>","useEmailAuth","useMutation$argument_0.mutationFn"],"mappings":"AAA;qBCK;gBCE;KDI;gBCI;KDiB;CDI"},"hasCjsExports":false},"type":"js/module"}]}