{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  /**\n   * Groups collection items by external_id for display.\n   * Each group aggregates count and value across individual physical cards.\n   * Items within each group are sorted by condition (nm first).\n   */\n  var groupCollectionItems = function groupCollectionItems(items) {\n    var conditionOrder = {\n      nm: 0,\n      lp: 1,\n      mp: 2,\n      hp: 3,\n      dmg: 4\n    };\n    var groupMap = new Map();\n    for (var item of items) {\n      var existing = groupMap.get(item.external_id);\n      if (existing) {\n        var _item$market_price;\n        existing.totalCount += item.quantity;\n        existing.totalValue += ((_item$market_price = item.market_price) != null ? _item$market_price : 0) * item.quantity;\n        existing.items.push(item);\n      } else {\n        var _item$market_price2;\n        groupMap.set(item.external_id, {\n          groupKey: item.external_id,\n          card_name: item.card_name,\n          set_name: item.set_name,\n          set_code: item.set_code,\n          card_number: item.card_number,\n          tcg: item.tcg,\n          image_url: item.image_url,\n          rarity: item.rarity,\n          totalCount: item.quantity,\n          totalValue: ((_item$market_price2 = item.market_price) != null ? _item$market_price2 : 0) * item.quantity,\n          items: [item]\n        });\n      }\n    }\n    var groups = Array.from(groupMap.values());\n    for (var group of groups) {\n      group.items.sort(function (a, b) {\n        var _conditionOrder$a$con, _conditionOrder$b$con;\n        return ((_conditionOrder$a$con = conditionOrder[a.condition]) != null ? _conditionOrder$a$con : 99) - ((_conditionOrder$b$con = conditionOrder[b.condition]) != null ? _conditionOrder$b$con : 99);\n      });\n    }\n    return groups;\n  };\n  var _default = groupCollectionItems;\n});","lineCount":61,"map":[[7,2,61,0,"Object"],[7,8,61,0],[7,9,61,0,"defineProperty"],[7,23,61,0],[7,24,61,0,"exports"],[7,31,61,0],[8,4,61,0,"enumerable"],[8,14,61,0],[9,4,61,0,"get"],[9,7,61,0],[9,18,61,0,"get"],[9,19,61,0],[10,6,61,0],[10,13,61,0,"_default"],[10,21,61,0],[11,4,61,0],[12,2,61,0],[13,2,17,0],[14,0,18,0],[15,0,19,0],[16,0,20,0],[17,0,21,0],[18,2,22,0],[18,6,22,6,"groupCollectionItems"],[18,26,22,26],[18,29,22,29],[18,38,22,6,"groupCollectionItems"],[18,58,22,26,"groupCollectionItems"],[18,59,22,30,"items"],[18,64,22,56],[18,66,22,84],[19,4,23,2],[19,8,23,8,"conditionOrder"],[19,22,23,46],[19,25,23,49],[20,6,23,51,"nm"],[20,8,23,53],[20,10,23,55],[20,11,23,56],[21,6,23,58,"lp"],[21,8,23,60],[21,10,23,62],[21,11,23,63],[22,6,23,65,"mp"],[22,8,23,67],[22,10,23,69],[22,11,23,70],[23,6,23,72,"hp"],[23,8,23,74],[23,10,23,76],[23,11,23,77],[24,6,23,79,"dmg"],[24,9,23,82],[24,11,23,84],[25,4,23,86],[25,5,23,87],[26,4,25,2],[26,8,25,8,"groupMap"],[26,16,25,16],[26,19,25,19],[26,23,25,23,"Map"],[26,26,25,26],[26,27,25,56],[26,28,25,57],[27,4,27,2],[27,9,27,7],[27,13,27,13,"item"],[27,17,27,17],[27,21,27,21,"items"],[27,26,27,26],[27,28,27,28],[28,6,28,4],[28,10,28,10,"existing"],[28,18,28,18],[28,21,28,21,"groupMap"],[28,29,28,29],[28,30,28,30,"get"],[28,33,28,33],[28,34,28,34,"item"],[28,38,28,38],[28,39,28,39,"external_id"],[28,50,28,50],[28,51,28,51],[29,6,29,4],[29,10,29,8,"existing"],[29,18,29,16],[29,20,29,18],[30,8,29,18],[30,12,29,18,"_item$market_price"],[30,30,29,18],[31,8,30,6,"existing"],[31,16,30,14],[31,17,30,15,"totalCount"],[31,27,30,25],[31,31,30,29,"item"],[31,35,30,33],[31,36,30,34,"quantity"],[31,44,30,42],[32,8,31,6,"existing"],[32,16,31,14],[32,17,31,15,"totalValue"],[32,27,31,25],[32,31,31,29],[32,33,31,29,"_item$market_price"],[32,51,31,29],[32,54,31,30,"item"],[32,58,31,34],[32,59,31,35,"market_price"],[32,71,31,47],[32,83,31,47,"_item$market_price"],[32,101,31,47],[32,104,31,51],[32,105,31,52],[32,109,31,56,"item"],[32,113,31,60],[32,114,31,61,"quantity"],[32,122,31,69],[33,8,32,6,"existing"],[33,16,32,14],[33,17,32,15,"items"],[33,22,32,20],[33,23,32,21,"push"],[33,27,32,25],[33,28,32,26,"item"],[33,32,32,30],[33,33,32,31],[34,6,33,4],[34,7,33,5],[34,13,33,11],[35,8,33,11],[35,12,33,11,"_item$market_price2"],[35,31,33,11],[36,8,34,6,"groupMap"],[36,16,34,14],[36,17,34,15,"set"],[36,20,34,18],[36,21,34,19,"item"],[36,25,34,23],[36,26,34,24,"external_id"],[36,37,34,35],[36,39,34,37],[37,10,35,8,"groupKey"],[37,18,35,16],[37,20,35,18,"item"],[37,24,35,22],[37,25,35,23,"external_id"],[37,36,35,34],[38,10,36,8,"card_name"],[38,19,36,17],[38,21,36,19,"item"],[38,25,36,23],[38,26,36,24,"card_name"],[38,35,36,33],[39,10,37,8,"set_name"],[39,18,37,16],[39,20,37,18,"item"],[39,24,37,22],[39,25,37,23,"set_name"],[39,33,37,31],[40,10,38,8,"set_code"],[40,18,38,16],[40,20,38,18,"item"],[40,24,38,22],[40,25,38,23,"set_code"],[40,33,38,31],[41,10,39,8,"card_number"],[41,21,39,19],[41,23,39,21,"item"],[41,27,39,25],[41,28,39,26,"card_number"],[41,39,39,37],[42,10,40,8,"tcg"],[42,13,40,11],[42,15,40,13,"item"],[42,19,40,17],[42,20,40,18,"tcg"],[42,23,40,21],[43,10,41,8,"image_url"],[43,19,41,17],[43,21,41,19,"item"],[43,25,41,23],[43,26,41,24,"image_url"],[43,35,41,33],[44,10,42,8,"rarity"],[44,16,42,14],[44,18,42,16,"item"],[44,22,42,20],[44,23,42,21,"rarity"],[44,29,42,27],[45,10,43,8,"totalCount"],[45,20,43,18],[45,22,43,20,"item"],[45,26,43,24],[45,27,43,25,"quantity"],[45,35,43,33],[46,10,44,8,"totalValue"],[46,20,44,18],[46,22,44,20],[46,24,44,20,"_item$market_price2"],[46,43,44,20],[46,46,44,21,"item"],[46,50,44,25],[46,51,44,26,"market_price"],[46,63,44,38],[46,75,44,38,"_item$market_price2"],[46,94,44,38],[46,97,44,42],[46,98,44,43],[46,102,44,47,"item"],[46,106,44,51],[46,107,44,52,"quantity"],[46,115,44,60],[47,10,45,8,"items"],[47,15,45,13],[47,17,45,15],[47,18,45,16,"item"],[47,22,45,20],[48,8,46,6],[48,9,46,7],[48,10,46,8],[49,6,47,4],[50,4,48,2],[51,4,50,2],[51,8,50,8,"groups"],[51,14,50,14],[51,17,50,17,"Array"],[51,22,50,22],[51,23,50,23,"from"],[51,27,50,27],[51,28,50,28,"groupMap"],[51,36,50,36],[51,37,50,37,"values"],[51,43,50,43],[51,44,50,44],[51,45,50,45],[51,46,50,46],[52,4,52,2],[52,9,52,7],[52,13,52,13,"group"],[52,18,52,18],[52,22,52,22,"groups"],[52,28,52,28],[52,30,52,30],[53,6,53,4,"group"],[53,11,53,9],[53,12,53,10,"items"],[53,17,53,15],[53,18,53,16,"sort"],[53,22,53,20],[53,23,54,6],[53,33,54,7,"a"],[53,34,54,8],[53,36,54,10,"b"],[53,37,54,11],[54,8,54,11],[54,12,54,11,"_conditionOrder$a$con"],[54,33,54,11],[54,35,54,11,"_conditionOrder$b$con"],[54,56,54,11],[55,8,54,11],[55,15,54,16],[55,17,54,16,"_conditionOrder$a$con"],[55,38,54,16],[55,41,54,17,"conditionOrder"],[55,55,54,31],[55,56,54,32,"a"],[55,57,54,33],[55,58,54,34,"condition"],[55,67,54,43],[55,68,54,44],[55,80,54,44,"_conditionOrder$a$con"],[55,101,54,44],[55,104,54,48],[55,106,54,50],[55,112,54,50,"_conditionOrder$b$con"],[55,133,54,50],[55,136,54,55,"conditionOrder"],[55,150,54,69],[55,151,54,70,"b"],[55,152,54,71],[55,153,54,72,"condition"],[55,162,54,81],[55,163,54,82],[55,175,54,82,"_conditionOrder$b$con"],[55,196,54,82],[55,199,54,86],[55,201,54,88],[55,202,54,89],[56,6,54,89],[56,7,55,4],[56,8,55,5],[57,4,56,2],[58,4,58,2],[58,11,58,9,"groups"],[58,17,58,15],[59,2,59,0],[59,3,59,1],[60,2,61,0],[60,6,61,0,"_default"],[60,14,61,0],[60,17,61,15,"groupCollectionItems"],[60,37,61,35],[61,0,61,36],[61,3]],"functionMap":{"names":["<global>","groupCollectionItems","group.items.sort$argument_0"],"mappings":"AAA;6BCqB;MCgC,mFD;CDK"},"hasCjsExports":false},"type":"js/module"}]}