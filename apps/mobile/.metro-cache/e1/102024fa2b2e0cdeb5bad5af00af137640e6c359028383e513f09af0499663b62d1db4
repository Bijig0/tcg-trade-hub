{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  /**\n   * Filters price history points by time range and recalculates summary stats.\n   * Returns a new PriceHistory with only points within the selected range.\n   */\n  var filterPriceHistory = (points, range) => {\n    if (points.length === 0) {\n      return {\n        points: [],\n        high: 0,\n        low: 0,\n        changePercent: 0\n      };\n    }\n    var now = new Date();\n    var filtered;\n    if (range === 'max') {\n      filtered = points;\n    } else {\n      var monthsMap = {\n        '1m': 1,\n        '3m': 3,\n        '6m': 6,\n        '12m': 12\n      };\n      var months = monthsMap[range];\n      var cutoff = new Date(now);\n      cutoff.setMonth(cutoff.getMonth() - months);\n      var cutoffStr = cutoff.toISOString().slice(0, 10);\n      filtered = points.filter(p => p.date >= cutoffStr);\n    }\n    if (filtered.length === 0) {\n      return {\n        points: [],\n        high: 0,\n        low: 0,\n        changePercent: 0\n      };\n    }\n    var prices = filtered.map(p => p.price);\n    var high = Math.max(...prices);\n    var low = Math.min(...prices);\n    var firstPrice = filtered[0].price;\n    var lastPrice = filtered[filtered.length - 1].price;\n    var changePercent = firstPrice !== 0 ? (lastPrice - firstPrice) / firstPrice * 100 : 0;\n    return {\n      points: filtered,\n      high,\n      low,\n      changePercent\n    };\n  };\n  var _default = filterPriceHistory;\n});","lineCount":65,"map":[[7,2,54,0,"Object"],[7,8,54,0],[7,9,54,0,"defineProperty"],[7,23,54,0],[7,24,54,0,"exports"],[7,31,54,0],[8,4,54,0,"enumerable"],[8,14,54,0],[9,4,54,0,"get"],[9,7,54,0],[9,18,54,0,"get"],[9,19,54,0],[10,6,54,0],[10,13,54,0,"_default"],[10,21,54,0],[11,4,54,0],[12,2,54,0],[13,2,5,0],[14,0,6,0],[15,0,7,0],[16,0,8,0],[17,2,9,0],[17,6,9,6,"filterPriceHistory"],[17,24,9,24],[17,27,9,27,"filterPriceHistory"],[17,28,10,2,"points"],[17,34,10,22],[17,36,11,2,"range"],[17,41,11,19],[17,46,12,19],[18,4,13,2],[18,8,13,6,"points"],[18,14,13,12],[18,15,13,13,"length"],[18,21,13,19],[18,26,13,24],[18,27,13,25],[18,29,13,27],[19,6,14,4],[19,13,14,11],[20,8,14,13,"points"],[20,14,14,19],[20,16,14,21],[20,18,14,23],[21,8,14,25,"high"],[21,12,14,29],[21,14,14,31],[21,15,14,32],[22,8,14,34,"low"],[22,11,14,37],[22,13,14,39],[22,14,14,40],[23,8,14,42,"changePercent"],[23,21,14,55],[23,23,14,57],[24,6,14,59],[24,7,14,60],[25,4,15,2],[26,4,17,2],[26,8,17,8,"now"],[26,11,17,11],[26,14,17,14],[26,18,17,18,"Date"],[26,22,17,22],[26,23,17,23],[26,24,17,24],[27,4,18,2],[27,8,18,6,"filtered"],[27,16,18,28],[28,4,20,2],[28,8,20,6,"range"],[28,13,20,11],[28,18,20,16],[28,23,20,21],[28,25,20,23],[29,6,21,4,"filtered"],[29,14,21,12],[29,17,21,15,"points"],[29,23,21,21],[30,4,22,2],[30,5,22,3],[30,11,22,9],[31,6,23,4],[31,10,23,10,"monthsMap"],[31,19,23,63],[31,22,23,66],[32,8,24,6],[32,12,24,10],[32,14,24,12],[32,15,24,13],[33,8,25,6],[33,12,25,10],[33,14,25,12],[33,15,25,13],[34,8,26,6],[34,12,26,10],[34,14,26,12],[34,15,26,13],[35,8,27,6],[35,13,27,11],[35,15,27,13],[36,6,28,4],[36,7,28,5],[37,6,29,4],[37,10,29,10,"months"],[37,16,29,16],[37,19,29,19,"monthsMap"],[37,28,29,28],[37,29,29,29,"range"],[37,34,29,34],[37,35,29,35],[38,6,30,4],[38,10,30,10,"cutoff"],[38,16,30,16],[38,19,30,19],[38,23,30,23,"Date"],[38,27,30,27],[38,28,30,28,"now"],[38,31,30,31],[38,32,30,32],[39,6,31,4,"cutoff"],[39,12,31,10],[39,13,31,11,"setMonth"],[39,21,31,19],[39,22,31,20,"cutoff"],[39,28,31,26],[39,29,31,27,"getMonth"],[39,37,31,35],[39,38,31,36],[39,39,31,37],[39,42,31,40,"months"],[39,48,31,46],[39,49,31,47],[40,6,32,4],[40,10,32,10,"cutoffStr"],[40,19,32,19],[40,22,32,22,"cutoff"],[40,28,32,28],[40,29,32,29,"toISOString"],[40,40,32,40],[40,41,32,41],[40,42,32,42],[40,43,32,43,"slice"],[40,48,32,48],[40,49,32,49],[40,50,32,50],[40,52,32,52],[40,54,32,54],[40,55,32,55],[41,6,34,4,"filtered"],[41,14,34,12],[41,17,34,15,"points"],[41,23,34,21],[41,24,34,22,"filter"],[41,30,34,28],[41,31,34,30,"p"],[41,32,34,31],[41,36,34,36,"p"],[41,37,34,37],[41,38,34,38,"date"],[41,42,34,42],[41,46,34,46,"cutoffStr"],[41,55,34,55],[41,56,34,56],[42,4,35,2],[43,4,37,2],[43,8,37,6,"filtered"],[43,16,37,14],[43,17,37,15,"length"],[43,23,37,21],[43,28,37,26],[43,29,37,27],[43,31,37,29],[44,6,38,4],[44,13,38,11],[45,8,38,13,"points"],[45,14,38,19],[45,16,38,21],[45,18,38,23],[46,8,38,25,"high"],[46,12,38,29],[46,14,38,31],[46,15,38,32],[47,8,38,34,"low"],[47,11,38,37],[47,13,38,39],[47,14,38,40],[48,8,38,42,"changePercent"],[48,21,38,55],[48,23,38,57],[49,6,38,59],[49,7,38,60],[50,4,39,2],[51,4,41,2],[51,8,41,8,"prices"],[51,14,41,14],[51,17,41,17,"filtered"],[51,25,41,25],[51,26,41,26,"map"],[51,29,41,29],[51,30,41,31,"p"],[51,31,41,32],[51,35,41,37,"p"],[51,36,41,38],[51,37,41,39,"price"],[51,42,41,44],[51,43,41,45],[52,4,42,2],[52,8,42,8,"high"],[52,12,42,12],[52,15,42,15,"Math"],[52,19,42,19],[52,20,42,20,"max"],[52,23,42,23],[52,24,42,24],[52,27,42,27,"prices"],[52,33,42,33],[52,34,42,34],[53,4,43,2],[53,8,43,8,"low"],[53,11,43,11],[53,14,43,14,"Math"],[53,18,43,18],[53,19,43,19,"min"],[53,22,43,22],[53,23,43,23],[53,26,43,26,"prices"],[53,32,43,32],[53,33,43,33],[54,4,45,2],[54,8,45,8,"firstPrice"],[54,18,45,18],[54,21,45,21,"filtered"],[54,29,45,29],[54,30,45,30],[54,31,45,31],[54,32,45,32],[54,33,45,34,"price"],[54,38,45,39],[55,4,46,2],[55,8,46,8,"lastPrice"],[55,17,46,17],[55,20,46,20,"filtered"],[55,28,46,28],[55,29,46,29,"filtered"],[55,37,46,37],[55,38,46,38,"length"],[55,44,46,44],[55,47,46,47],[55,48,46,48],[55,49,46,49],[55,50,46,51,"price"],[55,55,46,56],[56,4,47,2],[56,8,47,8,"changePercent"],[56,21,47,21],[56,24,47,24,"firstPrice"],[56,34,47,34],[56,39,47,39],[56,40,47,40],[56,43,48,7],[56,44,48,8,"lastPrice"],[56,53,48,17],[56,56,48,20,"firstPrice"],[56,66,48,30],[56,70,48,34,"firstPrice"],[56,80,48,44],[56,83,48,48],[56,86,48,51],[56,89,49,6],[56,90,49,7],[57,4,51,2],[57,11,51,9],[58,6,51,11,"points"],[58,12,51,17],[58,14,51,19,"filtered"],[58,22,51,27],[59,6,51,29,"high"],[59,10,51,33],[60,6,51,35,"low"],[60,9,51,38],[61,6,51,40,"changePercent"],[62,4,51,54],[62,5,51,55],[63,2,52,0],[63,3,52,1],[64,2,54,0],[64,6,54,0,"_default"],[64,14,54,0],[64,17,54,15,"filterPriceHistory"],[64,35,54,33],[65,0,54,34],[65,3]],"functionMap":{"names":["<global>","filterPriceHistory","points.filter$argument_0","filtered.map$argument_0"],"mappings":"AAA;2BCQ;6BCyB,0BD;8BEO,cF;CDW"},"hasCjsExports":false},"type":"js/module"}]}