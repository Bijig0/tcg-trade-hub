{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"ROUTE_PATH_MAP\", {\n    enumerable: true,\n    get: function () {\n      return ROUTE_PATH_MAP;\n    }\n  });\n  Object.defineProperty(exports, \"resolveSegments\", {\n    enumerable: true,\n    get: function () {\n      return resolveSegments;\n    }\n  });\n  /**\n   * Maps Expo Router segments to graph path IDs with step-level granularity.\n   *\n   * When the user navigates within the app, we resolve the full segment path\n   * to a graph pathId + stepIndex so the admin graph can highlight the\n   * exact step the user is on.\n   */\n\n  /**\n   * Lookup from full segment path to graph path mapping.\n   *\n   * Keys use \"/\" to join segments after \"(tabs)\".\n   * The resolver tries longest-prefix match first, then falls back to tab-only.\n   *\n   * Example segments from Expo Router:\n   *   ['(tabs)', '(discover)']                     -> key: '(discover)'\n   *   ['(tabs)', '(discover)', 'browse']           -> key: '(discover)/browse'\n   *   ['(tabs)', '(listings)', 'listing', '[id]']  -> key: '(listings)/listing/[id]'\n   */\n  var ROUTE_PATH_MAP = {\n    // ── P2P Trade Flow (flow:p2p-trade) ──\n    '(discover)': {\n      pathId: 'flow:p2p-trade',\n      label: 'Discover Feed',\n      stepIndex: 0\n    },\n    '(discover)/browse': {\n      pathId: 'flow:p2p-trade',\n      label: 'Browse Listings',\n      stepIndex: 0\n    },\n    // ── Listing State Machine (state:listing) ──\n    '(listings)': {\n      pathId: 'state:listing',\n      label: 'My Listings',\n      stepIndex: 0\n    },\n    '(listings)/new': {\n      pathId: 'state:listing',\n      label: 'New Listing',\n      stepIndex: 0\n    },\n    '(listings)/add-card': {\n      pathId: 'state:listing',\n      label: 'Add Card',\n      stepIndex: 0\n    },\n    '(listings)/add-sealed': {\n      pathId: 'state:listing',\n      label: 'Add Sealed',\n      stepIndex: 0\n    },\n    '(listings)/listing/[id]': {\n      pathId: 'state:listing',\n      label: 'Listing Detail',\n      stepIndex: 1\n    },\n    '(listings)/edit/[id]': {\n      pathId: 'state:listing',\n      label: 'Edit Listing',\n      stepIndex: 2\n    },\n    '(listings)/trade-builder': {\n      pathId: 'flow:p2p-trade',\n      label: 'Trade Builder',\n      stepIndex: 1\n    },\n    // ── Offer State Machine (state:offer) ──\n    '(messages)': {\n      pathId: 'state:offer',\n      label: 'Messages',\n      stepIndex: 0\n    },\n    '(messages)/chat/[conversationId]': {\n      pathId: 'state:offer',\n      label: 'Chat Thread',\n      stepIndex: 1\n    },\n    '(messages)/offer-detail': {\n      pathId: 'state:offer',\n      label: 'Offer Detail',\n      stepIndex: 2\n    },\n    '(messages)/meetup-location': {\n      pathId: 'state:meetup',\n      label: 'Meetup Location',\n      stepIndex: 1\n    },\n    // ── Meetup State Machine (state:meetup) ──\n    '(meetups)': {\n      pathId: 'state:meetup',\n      label: 'Meetups',\n      stepIndex: 0\n    },\n    '(meetups)/[id]': {\n      pathId: 'state:meetup',\n      label: 'Meetup Detail',\n      stepIndex: 1\n    }\n\n    // Profile screens intentionally omitted — no corresponding graph flow.\n  };\n\n  /** Check if a segment looks like a dynamic value (UUID, number, etc.) */\n  var isDynamicSegment = seg => /^[0-9a-f-]{8,}$/i.test(seg) || /^\\d+$/.test(seg);\n\n  /**\n   * For dynamic segments, guess the param name based on the preceding route segment.\n   * Falls back to 'id' which covers most cases.\n   */\n  var guessDynamicName = (segments, index) => {\n    var prev = segments[index - 1];\n    if (prev === 'chat') return 'conversationId';\n    return 'id';\n  };\n\n  /**\n   * Resolves Expo Router segments to the best-matching path mapping.\n   * Tries longest prefix first, then falls back to tab-only segment.\n   *\n   * Dynamic segments like \"abc-123-uuid\" are matched against \"[id]\" patterns.\n   */\n  var resolveSegments = segments => {\n    // segments = ['(tabs)', '(discover)', 'browse'] or similar\n    var afterTabs = segments.slice(1); // drop '(tabs)'\n    if (afterTabs.length === 0) return null;\n\n    // Try longest match first, progressively shorten\n    for (var len = afterTabs.length; len >= 1; len--) {\n      var key = afterTabs.slice(0, len).map((seg, i) => isDynamicSegment(seg) ? `[${guessDynamicName(afterTabs, i)}]` : seg).join('/');\n      var mapping = ROUTE_PATH_MAP[key];\n      if (mapping) return mapping;\n    }\n    return null;\n  };\n});","lineCount":154,"map":[[7,2,98,0,"Object"],[7,8,98,0],[7,9,98,0,"defineProperty"],[7,23,98,0],[7,24,98,0,"exports"],[7,31,98,0],[8,4,98,0,"enumerable"],[8,14,98,0],[9,4,98,0,"get"],[9,7,98,0],[9,18,98,0,"get"],[9,19,98,0],[10,6,98,0],[10,13,98,9,"ROUTE_PATH_MAP"],[10,27,98,23],[11,4,98,23],[12,2,98,23],[13,2,98,0,"Object"],[13,8,98,0],[13,9,98,0,"defineProperty"],[13,23,98,0],[13,24,98,0,"exports"],[13,31,98,0],[14,4,98,0,"enumerable"],[14,14,98,0],[15,4,98,0,"get"],[15,7,98,0],[15,18,98,0,"get"],[15,19,98,0],[16,6,98,0],[16,13,98,25,"resolveSegments"],[16,28,98,40],[17,4,98,40],[18,2,98,40],[19,2,1,0],[20,0,2,0],[21,0,3,0],[22,0,4,0],[23,0,5,0],[24,0,6,0],[25,0,7,0],[27,2,18,0],[28,0,19,0],[29,0,20,0],[30,0,21,0],[31,0,22,0],[32,0,23,0],[33,0,24,0],[34,0,25,0],[35,0,26,0],[36,0,27,0],[37,0,28,0],[38,2,29,0],[38,6,29,6,"ROUTE_PATH_MAP"],[38,20,29,54],[38,23,29,57],[39,4,30,2],[40,4,31,2],[40,16,31,14],[40,18,31,29],[41,6,31,31,"pathId"],[41,12,31,37],[41,14,31,39],[41,30,31,55],[42,6,31,57,"label"],[42,11,31,62],[42,13,31,64],[42,28,31,79],[43,6,31,83,"stepIndex"],[43,15,31,92],[43,17,31,94],[44,4,31,96],[44,5,31,97],[45,4,32,2],[45,23,32,21],[45,25,32,29],[46,6,32,31,"pathId"],[46,12,32,37],[46,14,32,39],[46,30,32,55],[47,6,32,57,"label"],[47,11,32,62],[47,13,32,64],[47,30,32,81],[48,6,32,83,"stepIndex"],[48,15,32,92],[48,17,32,94],[49,4,32,96],[49,5,32,97],[50,4,34,2],[51,4,35,2],[51,16,35,14],[51,18,35,29],[52,6,35,31,"pathId"],[52,12,35,37],[52,14,35,39],[52,29,35,54],[53,6,35,57,"label"],[53,11,35,62],[53,13,35,64],[53,26,35,77],[54,6,35,83,"stepIndex"],[54,15,35,92],[54,17,35,94],[55,4,35,96],[55,5,35,97],[56,4,36,2],[56,20,36,18],[56,22,36,29],[57,6,36,31,"pathId"],[57,12,36,37],[57,14,36,39],[57,29,36,54],[58,6,36,57,"label"],[58,11,36,62],[58,13,36,64],[58,26,36,77],[59,6,36,83,"stepIndex"],[59,15,36,92],[59,17,36,94],[60,4,36,96],[60,5,36,97],[61,4,37,2],[61,25,37,23],[61,27,37,29],[62,6,37,31,"pathId"],[62,12,37,37],[62,14,37,39],[62,29,37,54],[63,6,37,57,"label"],[63,11,37,62],[63,13,37,64],[63,23,37,74],[64,6,37,83,"stepIndex"],[64,15,37,92],[64,17,37,94],[65,4,37,96],[65,5,37,97],[66,4,38,2],[66,27,38,25],[66,29,38,29],[67,6,38,31,"pathId"],[67,12,38,37],[67,14,38,39],[67,29,38,54],[68,6,38,57,"label"],[68,11,38,62],[68,13,38,64],[68,25,38,76],[69,6,38,83,"stepIndex"],[69,15,38,92],[69,17,38,94],[70,4,38,96],[70,5,38,97],[71,4,39,2],[71,29,39,27],[71,31,39,29],[72,6,39,31,"pathId"],[72,12,39,37],[72,14,39,39],[72,29,39,54],[73,6,39,57,"label"],[73,11,39,62],[73,13,39,64],[73,29,39,80],[74,6,39,83,"stepIndex"],[74,15,39,92],[74,17,39,94],[75,4,39,96],[75,5,39,97],[76,4,40,2],[76,26,40,24],[76,28,40,29],[77,6,40,31,"pathId"],[77,12,40,37],[77,14,40,39],[77,29,40,54],[78,6,40,57,"label"],[78,11,40,62],[78,13,40,64],[78,27,40,78],[79,6,40,83,"stepIndex"],[79,15,40,92],[79,17,40,94],[80,4,40,96],[80,5,40,97],[81,4,41,2],[81,30,41,28],[81,32,41,30],[82,6,41,32,"pathId"],[82,12,41,38],[82,14,41,40],[82,30,41,56],[83,6,41,58,"label"],[83,11,41,63],[83,13,41,65],[83,28,41,80],[84,6,41,83,"stepIndex"],[84,15,41,92],[84,17,41,94],[85,4,41,96],[85,5,41,97],[86,4,43,2],[87,4,44,2],[87,16,44,14],[87,18,44,38],[88,6,44,40,"pathId"],[88,12,44,46],[88,14,44,48],[88,27,44,61],[89,6,44,64,"label"],[89,11,44,69],[89,13,44,71],[89,23,44,81],[90,6,44,90,"stepIndex"],[90,15,44,99],[90,17,44,101],[91,4,44,103],[91,5,44,104],[92,4,45,2],[92,38,45,36],[92,40,45,38],[93,6,45,40,"pathId"],[93,12,45,46],[93,14,45,48],[93,27,45,61],[94,6,45,64,"label"],[94,11,45,69],[94,13,45,71],[94,26,45,84],[95,6,45,90,"stepIndex"],[95,15,45,99],[95,17,45,101],[96,4,45,103],[96,5,45,104],[97,4,46,2],[97,29,46,27],[97,31,46,38],[98,6,46,40,"pathId"],[98,12,46,46],[98,14,46,48],[98,27,46,61],[99,6,46,64,"label"],[99,11,46,69],[99,13,46,71],[99,27,46,85],[100,6,46,90,"stepIndex"],[100,15,46,99],[100,17,46,101],[101,4,46,103],[101,5,46,104],[102,4,47,2],[102,32,47,30],[102,34,47,38],[103,6,47,40,"pathId"],[103,12,47,46],[103,14,47,48],[103,28,47,62],[104,6,47,64,"label"],[104,11,47,69],[104,13,47,71],[104,30,47,88],[105,6,47,90,"stepIndex"],[105,15,47,99],[105,17,47,101],[106,4,47,103],[106,5,47,104],[107,4,49,2],[108,4,50,2],[108,15,50,13],[108,17,50,21],[109,6,50,23,"pathId"],[109,12,50,29],[109,14,50,31],[109,28,50,45],[110,6,50,47,"label"],[110,11,50,52],[110,13,50,54],[110,22,50,63],[111,6,50,71,"stepIndex"],[111,15,50,80],[111,17,50,82],[112,4,50,84],[112,5,50,85],[113,4,51,2],[113,20,51,18],[113,22,51,21],[114,6,51,23,"pathId"],[114,12,51,29],[114,14,51,31],[114,28,51,45],[115,6,51,47,"label"],[115,11,51,52],[115,13,51,54],[115,28,51,69],[116,6,51,71,"stepIndex"],[116,15,51,80],[116,17,51,82],[117,4,51,84],[119,4,53,2],[120,2,54,0],[120,3,54,1],[122,2,56,0],[123,2,57,0],[123,6,57,6,"isDynamicSegment"],[123,22,57,22],[123,25,57,26,"seg"],[123,28,57,37],[123,32,58,2],[123,50,58,20],[123,51,58,21,"test"],[123,55,58,25],[123,56,58,26,"seg"],[123,59,58,29],[123,60,58,30],[123,64,58,34],[123,71,58,41],[123,72,58,42,"test"],[123,76,58,46],[123,77,58,47,"seg"],[123,80,58,50],[123,81,58,51],[125,2,60,0],[126,0,61,0],[127,0,62,0],[128,0,63,0],[129,2,64,0],[129,6,64,6,"guessDynamicName"],[129,22,64,22],[129,25,64,25,"guessDynamicName"],[129,26,64,26,"segments"],[129,34,64,44],[129,36,64,46,"index"],[129,41,64,59],[129,46,64,72],[130,4,65,2],[130,8,65,8,"prev"],[130,12,65,12],[130,15,65,15,"segments"],[130,23,65,23],[130,24,65,24,"index"],[130,29,65,29],[130,32,65,32],[130,33,65,33],[130,34,65,34],[131,4,66,2],[131,8,66,6,"prev"],[131,12,66,10],[131,17,66,15],[131,23,66,21],[131,25,66,23],[131,32,66,30],[131,48,66,46],[132,4,67,2],[132,11,67,9],[132,15,67,13],[133,2,68,0],[133,3,68,1],[135,2,70,0],[136,0,71,0],[137,0,72,0],[138,0,73,0],[139,0,74,0],[140,0,75,0],[141,2,76,0],[141,6,76,6,"resolveSegments"],[141,21,76,21],[141,24,77,2,"segments"],[141,32,77,20],[141,36,78,30],[142,4,79,2],[143,4,80,2],[143,8,80,8,"afterTabs"],[143,17,80,17],[143,20,80,20,"segments"],[143,28,80,28],[143,29,80,29,"slice"],[143,34,80,34],[143,35,80,35],[143,36,80,36],[143,37,80,37],[143,38,80,38],[143,39,80,39],[144,4,81,2],[144,8,81,6,"afterTabs"],[144,17,81,15],[144,18,81,16,"length"],[144,24,81,22],[144,29,81,27],[144,30,81,28],[144,32,81,30],[144,39,81,37],[144,43,81,41],[146,4,83,2],[147,4,84,2],[147,9,84,7],[147,13,84,11,"len"],[147,16,84,14],[147,19,84,17,"afterTabs"],[147,28,84,26],[147,29,84,27,"length"],[147,35,84,33],[147,37,84,35,"len"],[147,40,84,38],[147,44,84,42],[147,45,84,43],[147,47,84,45,"len"],[147,50,84,48],[147,52,84,50],[147,54,84,52],[148,6,85,4],[148,10,85,10,"key"],[148,13,85,13],[148,16,85,16,"afterTabs"],[148,25,85,25],[148,26,86,7,"slice"],[148,31,86,12],[148,32,86,13],[148,33,86,14],[148,35,86,16,"len"],[148,38,86,19],[148,39,86,20],[148,40,87,7,"map"],[148,43,87,10],[148,44,87,11],[148,45,87,12,"seg"],[148,48,87,15],[148,50,87,17,"i"],[148,51,87,18],[148,56,88,8,"isDynamicSegment"],[148,72,88,24],[148,73,88,25,"seg"],[148,76,88,28],[148,77,88,29],[148,80,88,32],[148,84,88,36,"guessDynamicName"],[148,100,88,52],[148,101,88,53,"afterTabs"],[148,110,88,62],[148,112,88,64,"i"],[148,113,88,65],[148,114,88,66],[148,117,88,69],[148,120,88,72,"seg"],[148,123,89,6],[148,124,89,7],[148,125,90,7,"join"],[148,129,90,11],[148,130,90,12],[148,133,90,15],[148,134,90,16],[149,6,91,4],[149,10,91,10,"mapping"],[149,17,91,17],[149,20,91,20,"ROUTE_PATH_MAP"],[149,34,91,34],[149,35,91,35,"key"],[149,38,91,38],[149,39,91,39],[150,6,92,4],[150,10,92,8,"mapping"],[150,17,92,15],[150,19,92,17],[150,26,92,24,"mapping"],[150,33,92,31],[151,4,93,2],[152,4,95,2],[152,11,95,9],[152,15,95,13],[153,2,96,0],[153,3,96,1],[154,0,96,2],[154,3]],"functionMap":{"names":["<global>","isDynamicSegment","guessDynamicName","resolveSegments","afterTabs.slice.map$argument_0"],"mappings":"AAA;yBCwD;mDDC;yBEM;CFI;wBGQ;WCW;2EDC;CHQ"},"hasCjsExports":false},"type":"js/module"}]}