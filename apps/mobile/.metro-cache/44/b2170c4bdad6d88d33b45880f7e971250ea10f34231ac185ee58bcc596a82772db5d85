{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":47},"end":{"line":2,"column":37,"index":84}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-clipboard","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":85},"end":{"line":3,"column":44,"index":129}}],"key":"6x7AVkUt6ftsEMcdJ1GZ85GuvaY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0]);\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1]);\n  var _reactNative = require(_dependencyMap[2]);\n  var _expoClipboard = require(_dependencyMap[3]);\n  var Clipboard = _interopNamespace(_expoClipboard);\n  /**\n   * Handles long-press on a message: shows an action sheet with\n   * \"Copy Text\" (for text messages) and \"Report Message\" (for other user's messages).\n   */\n  var useLongPressMessage = currentUserId => {\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      reportTarget = _useState2[0],\n      setReportTarget = _useState2[1];\n    var clearReportTarget = (0, _react.useCallback)(() => {\n      setReportTarget(null);\n    }, []);\n    var handleLongPress = (0, _react.useCallback)(message => {\n      var isOwn = message.sender_id === currentUserId;\n      var isText = message.type === 'text';\n      var buttons = [];\n      if (isText && message.body) {\n        buttons.push({\n          text: 'Copy Text',\n          onPress: () => {\n            Clipboard.setStringAsync(message.body ?? '');\n          }\n        });\n      }\n      if (!isOwn) {\n        buttons.push({\n          text: 'Report Message',\n          style: 'destructive',\n          onPress: () => {\n            setReportTarget({\n              userId: message.sender_id,\n              messageId: message.id\n            });\n          }\n        });\n      }\n      buttons.push({\n        text: 'Cancel',\n        style: 'cancel'\n      });\n      if (buttons.length <= 1) return; // Only cancel â€” nothing to show\n\n      _reactNative.Alert.alert('Message', undefined, buttons);\n    }, [currentUserId]);\n    return {\n      handleLongPress,\n      reportTarget,\n      clearReportTarget\n    };\n  };\n  var _default = useLongPressMessage;\n});","lineCount":90,"map":[[27,2,67,0,"Object"],[27,8,67,0],[27,9,67,0,"defineProperty"],[27,23,67,0],[27,24,67,0,"exports"],[27,31,67,0],[28,4,67,0,"enumerable"],[28,14,67,0],[29,4,67,0,"get"],[29,7,67,0],[29,18,67,0,"get"],[29,19,67,0],[30,6,67,0],[30,13,67,0,"_default"],[30,21,67,0],[31,4,67,0],[32,2,67,0],[33,2,67,35],[33,6,67,35,"_babelRuntimeHelpersSlicedToArray"],[33,39,67,35],[33,42,67,35,"require"],[33,49,67,35],[33,50,67,35,"_dependencyMap"],[33,64,67,35],[34,2,67,35],[34,6,67,35,"_slicedToArray"],[34,20,67,35],[34,23,67,35,"_interopDefault"],[34,38,67,35],[34,39,67,35,"_babelRuntimeHelpersSlicedToArray"],[34,72,67,35],[35,2,1,0],[35,6,1,0,"_react"],[35,12,1,0],[35,15,1,0,"require"],[35,22,1,0],[35,23,1,0,"_dependencyMap"],[35,37,1,0],[36,2,2,0],[36,6,2,0,"_reactNative"],[36,18,2,0],[36,21,2,0,"require"],[36,28,2,0],[36,29,2,0,"_dependencyMap"],[36,43,2,0],[37,2,3,0],[37,6,3,0,"_expoClipboard"],[37,20,3,0],[37,23,3,0,"require"],[37,30,3,0],[37,31,3,0,"_dependencyMap"],[37,45,3,0],[38,2,3,0],[38,6,3,0,"Clipboard"],[38,15,3,0],[38,18,3,0,"_interopNamespace"],[38,35,3,0],[38,36,3,0,"_expoClipboard"],[38,50,3,0],[39,2,11,0],[40,0,12,0],[41,0,13,0],[42,0,14,0],[43,2,15,0],[43,6,15,6,"useLongPressMessage"],[43,25,15,25],[43,28,15,29,"currentUserId"],[43,41,15,62],[43,45,15,67],[44,4,16,2],[44,8,16,2,"_useState"],[44,17,16,2],[44,20,16,42],[44,24,16,42,"useState"],[44,30,16,50],[44,31,16,50,"useState"],[44,39,16,50],[44,41,16,65],[44,45,16,69],[44,46,16,70],[45,6,16,70,"_useState2"],[45,16,16,70],[45,23,16,70,"_slicedToArray"],[45,37,16,70],[45,38,16,70,"default"],[45,45,16,70],[45,47,16,70,"_useState"],[45,56,16,70],[46,6,16,9,"reportTarget"],[46,18,16,21],[46,21,16,21,"_useState2"],[46,31,16,21],[47,6,16,23,"setReportTarget"],[47,21,16,38],[47,24,16,38,"_useState2"],[47,34,16,38],[48,4,18,2],[48,8,18,8,"clearReportTarget"],[48,25,18,25],[48,28,18,28],[48,32,18,28,"useCallback"],[48,38,18,39],[48,39,18,39,"useCallback"],[48,50,18,39],[48,52,18,40],[48,58,18,46],[49,6,19,4,"setReportTarget"],[49,21,19,19],[49,22,19,20],[49,26,19,24],[49,27,19,25],[50,4,20,2],[50,5,20,3],[50,7,20,5],[50,9,20,7],[50,10,20,8],[51,4,22,2],[51,8,22,8,"handleLongPress"],[51,23,22,23],[51,26,22,26],[51,30,22,26,"useCallback"],[51,36,22,37],[51,37,22,37,"useCallback"],[51,48,22,37],[51,50,23,5,"message"],[51,57,23,24],[51,61,23,29],[52,6,24,6],[52,10,24,12,"isOwn"],[52,15,24,17],[52,18,24,20,"message"],[52,25,24,27],[52,26,24,28,"sender_id"],[52,35,24,37],[52,40,24,42,"currentUserId"],[52,53,24,55],[53,6,25,6],[53,10,25,12,"isText"],[53,16,25,18],[53,19,25,21,"message"],[53,26,25,28],[53,27,25,29,"type"],[53,31,25,33],[53,36,25,38],[53,42,25,44],[54,6,27,6],[54,10,27,12,"buttons"],[54,17,31,8],[54,20,31,11],[54,22,31,13],[55,6,33,6],[55,10,33,10,"isText"],[55,16,33,16],[55,20,33,20,"message"],[55,27,33,27],[55,28,33,28,"body"],[55,32,33,32],[55,34,33,34],[56,8,34,8,"buttons"],[56,15,34,15],[56,16,34,16,"push"],[56,20,34,20],[56,21,34,21],[57,10,35,10,"text"],[57,14,35,14],[57,16,35,16],[57,27,35,27],[58,10,36,10,"onPress"],[58,17,36,17],[58,19,36,19,"onPress"],[58,20,36,19],[58,25,36,25],[59,12,37,12,"Clipboard"],[59,21,37,21],[59,22,37,22,"setStringAsync"],[59,36,37,36],[59,37,37,37,"message"],[59,44,37,44],[59,45,37,45,"body"],[59,49,37,49],[59,53,37,53],[59,55,37,55],[59,56,37,56],[60,10,38,10],[61,8,39,8],[61,9,39,9],[61,10,39,10],[62,6,40,6],[63,6,42,6],[63,10,42,10],[63,11,42,11,"isOwn"],[63,16,42,16],[63,18,42,18],[64,8,43,8,"buttons"],[64,15,43,15],[64,16,43,16,"push"],[64,20,43,20],[64,21,43,21],[65,10,44,10,"text"],[65,14,44,14],[65,16,44,16],[65,32,44,32],[66,10,45,10,"style"],[66,15,45,15],[66,17,45,17],[66,30,45,30],[67,10,46,10,"onPress"],[67,17,46,17],[67,19,46,19,"onPress"],[67,20,46,19],[67,25,46,25],[68,12,47,12,"setReportTarget"],[68,27,47,27],[68,28,47,28],[69,14,48,14,"userId"],[69,20,48,20],[69,22,48,22,"message"],[69,29,48,29],[69,30,48,30,"sender_id"],[69,39,48,39],[70,14,49,14,"messageId"],[70,23,49,23],[70,25,49,25,"message"],[70,32,49,32],[70,33,49,33,"id"],[71,12,50,12],[71,13,50,13],[71,14,50,14],[72,10,51,10],[73,8,52,8],[73,9,52,9],[73,10,52,10],[74,6,53,6],[75,6,55,6,"buttons"],[75,13,55,13],[75,14,55,14,"push"],[75,18,55,18],[75,19,55,19],[76,8,55,21,"text"],[76,12,55,25],[76,14,55,27],[76,22,55,35],[77,8,55,37,"style"],[77,13,55,42],[77,15,55,44],[78,6,55,53],[78,7,55,54],[78,8,55,55],[79,6,57,6],[79,10,57,10,"buttons"],[79,17,57,17],[79,18,57,18,"length"],[79,24,57,24],[79,28,57,28],[79,29,57,29],[79,31,57,31],[79,38,57,38],[79,39,57,39],[81,6,59,6,"Alert"],[81,18,59,11],[81,19,59,11,"Alert"],[81,24,59,11],[81,25,59,12,"alert"],[81,30,59,17],[81,31,59,18],[81,40,59,27],[81,42,59,29,"undefined"],[81,51,59,38],[81,53,59,40,"buttons"],[81,60,59,47],[81,61,59,48],[82,4,60,4],[82,5,60,5],[82,7,61,4],[82,8,61,5,"currentUserId"],[82,21,61,18],[82,22,62,2],[82,23,62,3],[83,4,64,2],[83,11,64,9],[84,6,64,11,"handleLongPress"],[84,21,64,26],[85,6,64,28,"reportTarget"],[85,18,64,40],[86,6,64,42,"clearReportTarget"],[87,4,64,60],[87,5,64,61],[88,2,65,0],[88,3,65,1],[89,2,67,0],[89,6,67,0,"_default"],[89,14,67,0],[89,17,67,15,"useLongPressMessage"],[89,36,67,34],[90,0,67,35],[90,3]],"functionMap":{"names":["<global>","useLongPressMessage","clearReportTarget","handleLongPress","buttons.push$argument_0.onPress"],"mappings":"AAA;4BCc;wCCG;GDE;IEG;mBCa;WDE;mBCQ;WDK;KFS;CDK"},"hasCjsExports":false},"type":"js/module"}]}