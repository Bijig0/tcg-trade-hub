{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.observable = observable;\n  exports.cleanupEffect = cleanupEffect;\n  function observable(value) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      fallback = _ref.fallback,\n      name = _ref.name;\n    var effects = new Set();\n    return {\n      name: name,\n      get: function get(effect) {\n        if (effect) {\n          effects.add(effect);\n          effect.dependencies.add(function () {\n            return effects.delete(effect);\n          });\n        }\n        return value != null ? value : fallback == null ? void 0 : fallback.get(effect);\n      },\n      set: function set(newValue) {\n        if (Object.is(newValue, value)) return;\n        value = newValue;\n        for (var effect of Array.from(effects)) {\n          effect.run();\n        }\n      }\n    };\n  }\n  function cleanupEffect(effect) {\n    for (var dep of Array.from(effect.dependencies)) {\n      dep();\n    }\n    effect.dependencies.clear();\n  }\n});","lineCount":40,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"observable"],[7,20,3,18],[7,23,3,21,"observable"],[7,33,3,31],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"cleanupEffect"],[8,23,4,21],[8,26,4,24,"cleanupEffect"],[8,39,4,37],[9,2,5,0],[9,11,5,9,"observable"],[9,21,5,19,"observable"],[9,22,5,20,"value"],[9,27,5,25],[9,29,5,52],[10,4,5,52],[10,8,5,52,"_ref"],[10,12,5,52],[10,15,5,52,"arguments"],[10,24,5,52],[10,25,5,52,"length"],[10,31,5,52],[10,39,5,52,"arguments"],[10,48,5,52],[10,56,5,52,"undefined"],[10,65,5,52],[10,68,5,52,"arguments"],[10,77,5,52],[10,83,5,48],[10,84,5,49],[10,85,5,50],[11,6,5,29,"fallback"],[11,14,5,37],[11,17,5,37,"_ref"],[11,21,5,37],[11,22,5,29,"fallback"],[11,30,5,37],[12,6,5,39,"name"],[12,10,5,43],[12,13,5,43,"_ref"],[12,17,5,43],[12,18,5,39,"name"],[12,22,5,43],[13,4,6,4],[13,8,6,10,"effects"],[13,15,6,17],[13,18,6,20],[13,22,6,24,"Set"],[13,25,6,27],[13,26,6,28],[13,27,6,29],[14,4,7,4],[14,11,7,11],[15,6,8,8,"name"],[15,10,8,12],[15,12,8,8,"name"],[15,16,8,12],[16,6,9,8,"get"],[16,9,9,11],[16,20,9,8,"get"],[16,23,9,11,"get"],[16,24,9,12,"effect"],[16,30,9,18],[16,32,9,20],[17,8,10,12],[17,12,10,16,"effect"],[17,18,10,22],[17,20,10,24],[18,10,11,16,"effects"],[18,17,11,23],[18,18,11,24,"add"],[18,21,11,27],[18,22,11,28,"effect"],[18,28,11,34],[18,29,11,35],[19,10,12,16,"effect"],[19,16,12,22],[19,17,12,23,"dependencies"],[19,29,12,35],[19,30,12,36,"add"],[19,33,12,39],[19,34,12,40],[20,12,12,40],[20,19,12,46,"effects"],[20,26,12,53],[20,27,12,54,"delete"],[20,33,12,60],[20,34,12,61,"effect"],[20,40,12,67],[20,41,12,68],[21,10,12,68],[21,12,12,69],[22,8,13,12],[23,8,14,12],[23,15,14,19,"value"],[23,20,14,24],[23,31,14,19,"value"],[23,36,14,24],[23,39,14,28,"fallback"],[23,47,14,36],[23,67,14,28,"fallback"],[23,75,14,36],[23,76,14,38,"get"],[23,79,14,41],[23,80,14,42,"effect"],[23,86,14,48],[23,87,14,49],[24,6,15,8],[24,7,15,9],[25,6,16,8,"set"],[25,9,16,11],[25,20,16,8,"set"],[25,23,16,11,"set"],[25,24,16,12,"newValue"],[25,32,16,20],[25,34,16,22],[26,8,17,12],[26,12,17,16,"Object"],[26,18,17,22],[26,19,17,23,"is"],[26,21,17,25],[26,22,17,26,"newValue"],[26,30,17,34],[26,32,17,36,"value"],[26,37,17,41],[26,38,17,42],[26,40,18,16],[27,8,19,12,"value"],[27,13,19,17],[27,16,19,20,"newValue"],[27,24,19,28],[28,8,20,12],[28,13,20,17],[28,17,20,23,"effect"],[28,23,20,29],[28,27,20,33,"Array"],[28,32,20,38],[28,33,20,39,"from"],[28,37,20,43],[28,38,20,44,"effects"],[28,45,20,51],[28,46,20,52],[28,48,20,54],[29,10,21,16,"effect"],[29,16,21,22],[29,17,21,23,"run"],[29,20,21,26],[29,21,21,27],[29,22,21,28],[30,8,22,12],[31,6,23,8],[32,4,24,4],[32,5,24,5],[33,2,25,0],[34,2,26,0],[34,11,26,9,"cleanupEffect"],[34,24,26,22,"cleanupEffect"],[34,25,26,23,"effect"],[34,31,26,29],[34,33,26,31],[35,4,27,4],[35,9,27,9],[35,13,27,15,"dep"],[35,16,27,18],[35,20,27,22,"Array"],[35,25,27,27],[35,26,27,28,"from"],[35,30,27,32],[35,31,27,33,"effect"],[35,37,27,39],[35,38,27,40,"dependencies"],[35,50,27,52],[35,51,27,53],[35,53,27,55],[36,6,28,8,"dep"],[36,9,28,11],[36,10,28,12],[36,11,28,13],[37,4,29,4],[38,4,30,4,"effect"],[38,10,30,10],[38,11,30,11,"dependencies"],[38,23,30,23],[38,24,30,24,"clear"],[38,29,30,29],[38,30,30,30],[38,31,30,31],[39,2,31,0],[40,0,31,1],[40,3]],"functionMap":{"names":["<global>","observable","get","effect.dependencies.add$argument_0","set","cleanupEffect"],"mappings":"AAA;ACI;QCI;wCCG,4BD;SDG;QGC;SHO;CDE;AKC;CLK"},"hasCjsExports":true},"type":"js/module"}]}