{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":42,"index":92}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":45,"index":138}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _queryKeys = require(_dependencyMap[3], \"../../queryKeys\");\n  /**\n   * Hook that fetches a single meetup by ID with all joined data.\n   *\n   * Resolves the match, both users, the shop location, and the related\n   * conversation for the match.\n   */\n  var useMeetupDetail = meetupId => {\n    _s();\n    return (0, _tanstackReactQuery.useQuery)({\n      queryKey: _queryKeys.meetupKeys.detail(meetupId),\n      queryFn: function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          var _yield$supabase$auth$ = yield _libSupabase.supabase.auth.getSession(),\n            session = _yield$supabase$auth$.data.session;\n          var user = session?.user ?? null;\n          if (!user) throw new Error('Not authenticated');\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('meetups').select(`\n          id,\n          match_id,\n          proposal_message_id,\n          shop_id,\n          location_name,\n          proposed_time,\n          status,\n          user_a_completed,\n          user_b_completed,\n          created_at,\n          updated_at,\n          match:matches (\n            id,\n            user_a_id,\n            user_b_id,\n            listing_id,\n            offer_id,\n            status,\n            created_at,\n            updated_at\n          ),\n          shop:shops (\n            id,\n            name,\n            address,\n            hours,\n            website,\n            phone,\n            supported_tcgs,\n            verified,\n            created_at,\n            updated_at\n          )\n        `).eq('id', meetupId).single(),\n            meetup = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          if (!meetup) throw new Error('Meetup not found');\n          var match = meetup.match;\n          var isUserA = match.user_a_id === user.id;\n          var otherUserId = isUserA ? match.user_b_id : match.user_a_id;\n\n          // Fetch other user's profile\n          var _yield$supabase$from$2 = yield _libSupabase.supabase.from('users').select('id, display_name, avatar_url, rating_score, total_trades').eq('id', otherUserId).single(),\n            otherUser = _yield$supabase$from$2.data,\n            userError = _yield$supabase$from$2.error;\n          if (userError) throw userError;\n\n          // Fetch the conversation for this match\n          var _yield$supabase$from$3 = yield _libSupabase.supabase.from('conversations').select('id').eq('match_id', match.id).single(),\n            conversation = _yield$supabase$from$3.data;\n          return {\n            ...meetup,\n            match,\n            shop: meetup.shop,\n            other_user: otherUser ?? {\n              id: otherUserId,\n              display_name: 'Unknown',\n              avatar_url: null,\n              rating_score: 0,\n              total_trades: 0\n            },\n            conversation: conversation ?? null,\n            is_user_a: isUserA\n          };\n        });\n        return function queryFn() {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      enabled: !!meetupId\n    });\n  };\n  _s(useMeetupDetail, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n    return [_tanstackReactQuery.useQuery];\n  });\n  var _default = useMeetupDetail;\n});","lineCount":118,"map":[[13,2,124,0,"Object"],[13,8,124,0],[13,9,124,0,"defineProperty"],[13,23,124,0],[13,24,124,0,"exports"],[13,31,124,0],[14,4,124,0,"enumerable"],[14,14,124,0],[15,4,124,0,"get"],[15,7,124,0],[15,18,124,0,"get"],[15,19,124,0],[16,6,124,0],[16,13,124,0,"_default"],[16,21,124,0],[17,4,124,0],[18,2,124,0],[19,2,124,31],[19,6,124,31,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,124,31],[19,45,124,31,"require"],[19,52,124,31],[19,53,124,31,"_dependencyMap"],[19,67,124,31],[20,2,124,31],[20,6,124,31,"_asyncToGenerator"],[20,23,124,31],[20,26,124,31,"_interopDefault"],[20,41,124,31],[20,42,124,31,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,124,31],[21,2,1,0],[21,6,1,0,"_tanstackReactQuery"],[21,25,1,0],[21,28,1,0,"require"],[21,35,1,0],[21,36,1,0,"_dependencyMap"],[21,50,1,0],[22,2,2,0],[22,6,2,0,"_libSupabase"],[22,18,2,0],[22,21,2,0,"require"],[22,28,2,0],[22,29,2,0,"_dependencyMap"],[22,43,2,0],[23,2,3,0],[23,6,3,0,"_queryKeys"],[23,16,3,0],[23,19,3,0,"require"],[23,26,3,0],[23,27,3,0,"_dependencyMap"],[23,41,3,0],[24,2,23,0],[25,0,24,0],[26,0,25,0],[27,0,26,0],[28,0,27,0],[29,0,28,0],[30,2,29,0],[30,6,29,6,"useMeetupDetail"],[30,21,29,21],[30,24,29,25,"meetupId"],[30,32,29,41],[30,36,29,46],[31,4,29,46,"_s"],[31,6,29,46],[32,4,30,2],[32,11,30,9],[32,15,30,9,"useQuery"],[32,34,30,17],[32,35,30,17,"useQuery"],[32,43,30,17],[32,45,30,39],[33,6,31,4,"queryKey"],[33,14,31,12],[33,16,31,14,"meetupKeys"],[33,26,31,24],[33,27,31,24,"meetupKeys"],[33,37,31,24],[33,38,31,25,"detail"],[33,44,31,31],[33,45,31,32,"meetupId"],[33,53,31,40],[33,54,31,41],[34,6,32,4,"queryFn"],[34,13,32,11],[35,8,32,11],[35,12,32,11,"_ref"],[35,16,32,11],[35,23,32,11,"_asyncToGenerator"],[35,40,32,11],[35,41,32,11,"default"],[35,48,32,11],[35,50,32,13],[35,63,32,25],[36,10,33,6],[36,14,33,6,"_yield$supabase$auth$"],[36,35,33,6],[36,44,35,16,"supabase"],[36,56,35,24],[36,57,35,24,"supabase"],[36,65,35,24],[36,66,35,25,"auth"],[36,70,35,29],[36,71,35,30,"getSession"],[36,81,35,40],[36,82,35,41],[36,83,35,42],[37,12,34,16,"session"],[37,19,34,23],[37,22,34,23,"_yield$supabase$auth$"],[37,43,34,23],[37,44,34,8,"data"],[37,48,34,12],[37,49,34,16,"session"],[37,56,34,23],[38,10,36,6],[38,14,36,12,"user"],[38,18,36,16],[38,21,36,19,"session"],[38,28,36,26],[38,30,36,28,"user"],[38,34,36,32],[38,38,36,36],[38,42,36,40],[39,10,38,6],[39,14,38,10],[39,15,38,11,"user"],[39,19,38,15],[39,21,38,17],[39,27,38,23],[39,31,38,27,"Error"],[39,36,38,32],[39,37,38,33],[39,56,38,52],[39,57,38,53],[40,10,40,6],[40,14,40,6,"_yield$supabase$from$"],[40,35,40,6],[40,44,40,44,"supabase"],[40,56,40,52],[40,57,40,52,"supabase"],[40,65,40,52],[40,66,41,9,"from"],[40,70,41,13],[40,71,41,14],[40,80,41,23],[40,81,41,24],[40,82,42,9,"select"],[40,88,42,15],[40,89,43,10],[41,0,44,0],[42,0,45,0],[43,0,46,0],[44,0,47,0],[45,0,48,0],[46,0,49,0],[47,0,50,0],[48,0,51,0],[49,0,52,0],[50,0,53,0],[51,0,54,0],[52,0,55,0],[53,0,56,0],[54,0,57,0],[55,0,58,0],[56,0,59,0],[57,0,60,0],[58,0,61,0],[59,0,62,0],[60,0,63,0],[61,0,64,0],[62,0,65,0],[63,0,66,0],[64,0,67,0],[65,0,68,0],[66,0,69,0],[67,0,70,0],[68,0,71,0],[69,0,72,0],[70,0,73,0],[71,0,74,0],[72,0,75,0],[73,0,76,0],[74,0,77,0],[74,9,78,8],[74,10,78,9],[74,11,79,9,"eq"],[74,13,79,11],[74,14,79,12],[74,18,79,16],[74,20,79,18,"meetupId"],[74,28,79,26],[74,29,79,27],[74,30,80,9,"single"],[74,36,80,15],[74,37,80,16],[74,38,80,17],[75,12,40,20,"meetup"],[75,18,40,26],[75,21,40,26,"_yield$supabase$from$"],[75,42,40,26],[75,43,40,14,"data"],[75,47,40,18],[76,12,40,28,"error"],[76,17,40,33],[76,20,40,33,"_yield$supabase$from$"],[76,41,40,33],[76,42,40,28,"error"],[76,47,40,33],[77,10,82,6],[77,14,82,10,"error"],[77,19,82,15],[77,21,82,17],[77,27,82,23,"error"],[77,32,82,28],[78,10,83,6],[78,14,83,10],[78,15,83,11,"meetup"],[78,21,83,17],[78,23,83,19],[78,29,83,25],[78,33,83,29,"Error"],[78,38,83,34],[78,39,83,35],[78,57,83,53],[78,58,83,54],[79,10,85,6],[79,14,85,12,"match"],[79,19,85,17],[79,22,85,21,"meetup"],[79,28,85,27],[79,29,85,56,"match"],[79,34,85,73],[80,10,86,6],[80,14,86,12,"isUserA"],[80,21,86,19],[80,24,86,22,"match"],[80,29,86,27],[80,30,86,28,"user_a_id"],[80,39,86,37],[80,44,86,42,"user"],[80,48,86,46],[80,49,86,47,"id"],[80,51,86,49],[81,10,87,6],[81,14,87,12,"otherUserId"],[81,25,87,23],[81,28,87,26,"isUserA"],[81,35,87,33],[81,38,87,36,"match"],[81,43,87,41],[81,44,87,42,"user_b_id"],[81,53,87,51],[81,56,87,54,"match"],[81,61,87,59],[81,62,87,60,"user_a_id"],[81,71,87,69],[83,10,89,6],[84,10,90,6],[84,14,90,6,"_yield$supabase$from$2"],[84,36,90,6],[84,45,90,58,"supabase"],[84,57,90,66],[84,58,90,66,"supabase"],[84,66,90,66],[84,67,91,9,"from"],[84,71,91,13],[84,72,91,14],[84,79,91,21],[84,80,91,22],[84,81,92,9,"select"],[84,87,92,15],[84,88,92,16],[84,146,92,74],[84,147,92,75],[84,148,93,9,"eq"],[84,150,93,11],[84,151,93,12],[84,155,93,16],[84,157,93,18,"otherUserId"],[84,168,93,29],[84,169,93,30],[84,170,94,9,"single"],[84,176,94,15],[84,177,94,16],[84,178,94,17],[85,12,90,20,"otherUser"],[85,21,90,29],[85,24,90,29,"_yield$supabase$from$2"],[85,46,90,29],[85,47,90,14,"data"],[85,51,90,18],[86,12,90,38,"userError"],[86,21,90,47],[86,24,90,47,"_yield$supabase$from$2"],[86,46,90,47],[86,47,90,31,"error"],[86,52,90,36],[87,10,96,6],[87,14,96,10,"userError"],[87,23,96,19],[87,25,96,21],[87,31,96,27,"userError"],[87,40,96,36],[89,10,98,6],[90,10,99,6],[90,14,99,6,"_yield$supabase$from$3"],[90,36,99,6],[90,45,99,43,"supabase"],[90,57,99,51],[90,58,99,51,"supabase"],[90,66,99,51],[90,67,100,9,"from"],[90,71,100,13],[90,72,100,14],[90,87,100,29],[90,88,100,30],[90,89,101,9,"select"],[90,95,101,15],[90,96,101,16],[90,100,101,20],[90,101,101,21],[90,102,102,9,"eq"],[90,104,102,11],[90,105,102,12],[90,115,102,22],[90,117,102,24,"match"],[90,122,102,29],[90,123,102,30,"id"],[90,125,102,32],[90,126,102,33],[90,127,103,9,"single"],[90,133,103,15],[90,134,103,16],[90,135,103,17],[91,12,99,20,"conversation"],[91,24,99,32],[91,27,99,32,"_yield$supabase$from$3"],[91,49,99,32],[91,50,99,14,"data"],[91,54,99,18],[92,10,105,6],[92,17,105,13],[93,12,106,8],[93,15,106,12,"meetup"],[93,21,106,43],[94,12,107,8,"match"],[94,17,107,13],[95,12,108,8,"shop"],[95,16,108,12],[95,18,108,15,"meetup"],[95,24,108,21],[95,25,108,50,"shop"],[95,29,108,72],[96,12,109,8,"other_user"],[96,22,109,18],[96,24,109,20,"otherUser"],[96,33,109,29],[96,37,109,33],[97,14,110,10,"id"],[97,16,110,12],[97,18,110,14,"otherUserId"],[97,29,110,25],[98,14,111,10,"display_name"],[98,26,111,22],[98,28,111,24],[98,37,111,33],[99,14,112,10,"avatar_url"],[99,24,112,20],[99,26,112,22],[99,30,112,26],[100,14,113,10,"rating_score"],[100,26,113,22],[100,28,113,24],[100,29,113,25],[101,14,114,10,"total_trades"],[101,26,114,22],[101,28,114,24],[102,12,115,8],[102,13,115,9],[103,12,116,8,"conversation"],[103,24,116,20],[103,26,116,22,"conversation"],[103,38,116,34],[103,42,116,38],[103,46,116,42],[104,12,117,8,"is_user_a"],[104,21,117,17],[104,23,117,19,"isUserA"],[105,10,118,6],[105,11,118,7],[106,8,119,4],[106,9,119,5],[107,8,119,5],[107,24,32,4,"queryFn"],[107,31,32,11,"queryFn"],[107,32,32,11],[108,10,32,11],[108,17,32,11,"_ref"],[108,21,32,11],[108,22,32,11,"apply"],[108,27,32,11],[108,34,32,11,"arguments"],[108,43,32,11],[109,8,32,11],[110,6,32,11],[110,9,119,5],[111,6,120,4,"enabled"],[111,13,120,11],[111,15,120,13],[111,16,120,14],[111,17,120,15,"meetupId"],[112,4,121,2],[112,5,121,3],[112,6,121,4],[113,2,122,0],[113,3,122,1],[114,2,122,2,"_s"],[114,4,122,2],[114,5,29,6,"useMeetupDetail"],[114,20,29,21],[115,4,29,21],[115,12,30,9,"useQuery"],[115,31,30,17],[115,32,30,17,"useQuery"],[115,40,30,17],[116,2,30,17],[117,2,124,0],[117,6,124,0,"_default"],[117,14,124,0],[117,17,124,15,"useMeetupDetail"],[117,32,124,30],[118,0,124,31],[118,3]],"functionMap":{"names":["<global>","useMeetupDetail","useQuery$argument_0.queryFn"],"mappings":"AAA;wBC4B;aCG;KDuF;CDG"},"hasCjsExports":false},"type":"js/module"}]}