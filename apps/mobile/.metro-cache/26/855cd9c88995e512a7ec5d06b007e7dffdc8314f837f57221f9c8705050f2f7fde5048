{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":68,"index":68}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":69},"end":{"line":2,"column":42,"index":111}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":112},"end":{"line":3,"column":49,"index":161}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":162},"end":{"line":4,"column":49,"index":211}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1]);\n  var _libSupabase = require(_dependencyMap[2]);\n  var _contextAuthProvider = require(_dependencyMap[3]);\n  var _queryKeys = require(_dependencyMap[4]);\n  /** Adds a card to the current user's collection as a unique item (each physical card = 1 row) */\n  var useAddCollectionItem = () => {\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    return (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _ref = (0, _asyncToGenerator.default)(function* (item) {\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('collection_items').insert({\n              user_id: user.id,\n              ...item\n            }).select().single(),\n            data = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          return data;\n        });\n        return function mutationFn(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      onSuccess: () => {\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.collectionKeys.myCollection()\n        });\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.collectionKeys.portfolioValue()\n        });\n      }\n    });\n  };\n  var _default = useAddCollectionItem;\n});","lineCount":56,"map":[[12,2,33,0,"Object"],[12,8,33,0],[12,9,33,0,"defineProperty"],[12,23,33,0],[12,24,33,0,"exports"],[12,31,33,0],[13,4,33,0,"enumerable"],[13,14,33,0],[14,4,33,0,"get"],[14,7,33,0],[14,18,33,0,"get"],[14,19,33,0],[15,6,33,0],[15,13,33,0,"_default"],[15,21,33,0],[16,4,33,0],[17,2,33,0],[18,2,33,36],[18,6,33,36,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,33,36],[18,45,33,36,"require"],[18,52,33,36],[18,53,33,36,"_dependencyMap"],[18,67,33,36],[19,2,33,36],[19,6,33,36,"_asyncToGenerator"],[19,23,33,36],[19,26,33,36,"_interopDefault"],[19,41,33,36],[19,42,33,36,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,33,36],[20,2,1,0],[20,6,1,0,"_tanstackReactQuery"],[20,25,1,0],[20,28,1,0,"require"],[20,35,1,0],[20,36,1,0,"_dependencyMap"],[20,50,1,0],[21,2,2,0],[21,6,2,0,"_libSupabase"],[21,18,2,0],[21,21,2,0,"require"],[21,28,2,0],[21,29,2,0,"_dependencyMap"],[21,43,2,0],[22,2,3,0],[22,6,3,0,"_contextAuthProvider"],[22,26,3,0],[22,29,3,0,"require"],[22,36,3,0],[22,37,3,0,"_dependencyMap"],[22,51,3,0],[23,2,4,0],[23,6,4,0,"_queryKeys"],[23,16,4,0],[23,19,4,0,"require"],[23,26,4,0],[23,27,4,0,"_dependencyMap"],[23,41,4,0],[24,2,7,0],[25,2,8,0],[25,6,8,6,"useAddCollectionItem"],[25,26,8,26],[25,29,8,29,"useAddCollectionItem"],[25,30,8,29],[25,35,8,35],[26,4,9,2],[26,8,9,2,"_useAuth"],[26,16,9,2],[26,19,9,19],[26,23,9,19,"useAuth"],[26,43,9,26],[26,44,9,26,"useAuth"],[26,51,9,26],[26,53,9,27],[26,54,9,28],[27,6,9,10,"user"],[27,10,9,14],[27,13,9,14,"_useAuth"],[27,21,9,14],[27,22,9,10,"user"],[27,26,9,14],[28,4,10,2],[28,8,10,8,"queryClient"],[28,19,10,19],[28,22,10,22],[28,26,10,22,"useQueryClient"],[28,45,10,36],[28,46,10,36,"useQueryClient"],[28,60,10,36],[28,62,10,37],[28,63,10,38],[29,4,12,2],[29,11,12,9],[29,15,12,9,"useMutation"],[29,34,12,20],[29,35,12,20,"useMutation"],[29,46,12,20],[29,48,12,21],[30,6,13,4,"mutationFn"],[30,16,13,14],[31,8,13,14],[31,12,13,14,"_ref"],[31,16,13,14],[31,23,13,14,"_asyncToGenerator"],[31,40,13,14],[31,41,13,14,"default"],[31,48,13,14],[31,50,13,16],[31,61,13,23,"item"],[31,65,13,46],[31,67,13,51],[32,10,14,6],[32,14,14,6,"_yield$supabase$from$"],[32,35,14,6],[32,44,14,36,"supabase"],[32,56,14,44],[32,57,14,44,"supabase"],[32,65,14,44],[32,66,15,9,"from"],[32,70,15,13],[32,71,15,14],[32,89,15,32],[32,90,15,33],[32,91,16,9,"insert"],[32,97,16,15],[32,98,16,16],[33,14,17,10,"user_id"],[33,21,17,17],[33,23,17,19,"user"],[33,27,17,23],[33,28,17,25,"id"],[33,30,17,27],[34,14,18,10],[34,17,18,13,"item"],[35,12,19,8],[35,13,19,9],[35,14,19,10],[35,15,20,9,"select"],[35,21,20,15],[35,22,20,16],[35,23,20,17],[35,24,21,9,"single"],[35,30,21,15],[35,31,21,16],[35,32,21,17],[36,12,14,14,"data"],[36,16,14,18],[36,19,14,18,"_yield$supabase$from$"],[36,40,14,18],[36,41,14,14,"data"],[36,45,14,18],[37,12,14,20,"error"],[37,17,14,25],[37,20,14,25,"_yield$supabase$from$"],[37,41,14,25],[37,42,14,20,"error"],[37,47,14,25],[38,10,23,6],[38,14,23,10,"error"],[38,19,23,15],[38,21,23,17],[38,27,23,23,"error"],[38,32,23,28],[39,10,24,6],[39,17,24,13,"data"],[39,21,24,17],[40,8,25,4],[40,9,25,5],[41,8,25,5],[41,24,13,4,"mutationFn"],[41,34,13,14,"mutationFn"],[41,35,13,14,"_x"],[41,37,13,14],[42,10,13,14],[42,17,13,14,"_ref"],[42,21,13,14],[42,22,13,14,"apply"],[42,27,13,14],[42,34,13,14,"arguments"],[42,43,13,14],[43,8,13,14],[44,6,13,14],[44,9,25,5],[45,6,26,4,"onSuccess"],[45,15,26,13],[45,17,26,15,"onSuccess"],[45,18,26,15],[45,23,26,21],[46,8,27,6,"queryClient"],[46,19,27,17],[46,20,27,18,"invalidateQueries"],[46,37,27,35],[46,38,27,36],[47,10,27,38,"queryKey"],[47,18,27,46],[47,20,27,48,"collectionKeys"],[47,30,27,62],[47,31,27,62,"collectionKeys"],[47,45,27,62],[47,46,27,63,"myCollection"],[47,58,27,75],[47,59,27,76],[48,8,27,78],[48,9,27,79],[48,10,27,80],[49,8,28,6,"queryClient"],[49,19,28,17],[49,20,28,18,"invalidateQueries"],[49,37,28,35],[49,38,28,36],[50,10,28,38,"queryKey"],[50,18,28,46],[50,20,28,48,"collectionKeys"],[50,30,28,62],[50,31,28,62,"collectionKeys"],[50,45,28,62],[50,46,28,63,"portfolioValue"],[50,60,28,77],[50,61,28,78],[51,8,28,80],[51,9,28,81],[51,10,28,82],[52,6,29,4],[53,4,30,2],[53,5,30,3],[53,6,30,4],[54,2,31,0],[54,3,31,1],[55,2,33,0],[55,6,33,0,"_default"],[55,14,33,0],[55,17,33,15,"useAddCollectionItem"],[55,37,33,35],[56,0,33,36],[56,3]],"functionMap":{"names":["<global>","useAddCollectionItem","useMutation$argument_0.mutationFn","useMutation$argument_0.onSuccess"],"mappings":"AAA;6BCO;gBCK;KDY;eEC;KFG;CDE"},"hasCjsExports":false},"type":"js/module"}]}