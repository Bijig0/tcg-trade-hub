{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":42,"index":92}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":49,"index":142}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":43,"index":186}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _contextAuthProvider = require(_dependencyMap[3], \"@/context/AuthProvider\");\n  var _queryKeys = require(_dependencyMap[4], \"../../queryKeys\");\n  /**\n   * Fetches all conversations for the current user, sorted by most recent message.\n   *\n   * Batch-fetches profiles, last messages, and unread counts in bulk queries\n   * instead of N+1 loops. Filters out conversations with blocked users.\n   */\n  var useConversations = () => {\n    _s();\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    return (0, _tanstackReactQuery.useQuery)({\n      queryKey: _queryKeys.chatKeys.conversations(),\n      queryFn: function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          if (!user) return [];\n\n          // 1. Get conversations with match data, listing info, and negotiation status\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('conversations').select(`\n          id,\n          match_id,\n          negotiation_status,\n          matches!inner (\n            id,\n            user_a_id,\n            user_b_id,\n            listing_id,\n            listings!inner (\n              id,\n              title,\n              type,\n              tcg,\n              listing_items (\n                card_image_url\n              )\n            )\n          )\n        `).or(`user_a_id.eq.${user.id},user_b_id.eq.${user.id}`, {\n              referencedTable: 'matches'\n            }),\n            conversations = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          if (!conversations || conversations.length === 0) return [];\n\n          // 2. Collect other user IDs and conversation IDs\n          var otherUserIds = [];\n          var convIds = [];\n          for (var conv of conversations) {\n            var match = conv.matches;\n            var otherId = match.user_a_id === user.id ? match.user_b_id : match.user_a_id;\n            otherUserIds.push(otherId);\n            convIds.push(conv.id);\n          }\n\n          // 3. Fetch blocked user IDs (both directions)\n          var _yield$supabase$from$2 = yield _libSupabase.supabase.from('blocks').select('blocked_id').eq('blocker_id', user.id),\n            blocksAsBlocker = _yield$supabase$from$2.data;\n          var _yield$supabase$from$3 = yield _libSupabase.supabase.from('blocks').select('blocker_id').eq('blocked_id', user.id),\n            blocksAsBlocked = _yield$supabase$from$3.data;\n          var blockedIds = new Set([...(blocksAsBlocker ?? []).map(b => b.blocked_id), ...(blocksAsBlocked ?? []).map(b => b.blocker_id)]);\n\n          // 4. Batch fetch profiles for all other users\n          var uniqueOtherIds = [...new Set(otherUserIds)];\n          var _yield$supabase$from$4 = yield _libSupabase.supabase.from('users').select('id, display_name, avatar_url, rating_score').in('id', uniqueOtherIds),\n            profiles = _yield$supabase$from$4.data;\n          var profileMap = new Map((profiles ?? []).map(p => [p.id, p]));\n\n          // 5. Batch fetch last messages â€” one query, most recent per conversation\n          var _yield$supabase$from$5 = yield _libSupabase.supabase.from('messages').select('conversation_id, body, type, created_at').in('conversation_id', convIds).order('created_at', {\n              ascending: false\n            }),\n            recentMessages = _yield$supabase$from$5.data;\n\n          // Deduplicate to most recent per conversation\n          var lastMessageMap = new Map();\n          for (var msg of recentMessages ?? []) {\n            if (!lastMessageMap.has(msg.conversation_id)) {\n              lastMessageMap.set(msg.conversation_id, {\n                body: msg.body,\n                type: msg.type,\n                created_at: msg.created_at\n              });\n            }\n          }\n\n          // 6. Get real unread counts via RPC\n          var _yield$supabase$rpc = yield _libSupabase.supabase.rpc('get_unread_counts', {\n              p_user_id: user.id\n            }),\n            unreadData = _yield$supabase$rpc.data;\n          var unreadMap = new Map((unreadData ?? []).map(r => [r.conversation_id, r.unread_count]));\n\n          // 6b. Bulk-fetch nicknames for current user\n          var _yield$supabase$from$6 = yield _libSupabase.supabase.from('conversation_nicknames').select('conversation_id, nickname').eq('user_id', user.id).in('conversation_id', convIds),\n            nicknameData = _yield$supabase$from$6.data;\n          var nicknameMap = new Map((nicknameData ?? []).map(n => [n.conversation_id, n.nickname]));\n\n          // 7. Build results, filtering blocked users\n          var results = [];\n          for (var _conv of conversations) {\n            var _match = _conv.matches;\n            var _otherId = _match.user_a_id === user.id ? _match.user_b_id : _match.user_a_id;\n\n            // Filter blocked users\n            if (blockedIds.has(_otherId)) continue;\n            var profile = profileMap.get(_otherId);\n            var lastMsg = lastMessageMap.get(_conv.id);\n\n            // Get first 2 card thumbnails from listing items\n            var listingThumbnails = (_match.listings.listing_items ?? []).slice(0, 2).map(li => li.card_image_url);\n            results.push({\n              conversationId: _conv.id,\n              matchId: _match.id,\n              otherUser: {\n                id: profile?.id ?? _otherId,\n                name: profile?.display_name ?? 'Unknown',\n                avatar: profile?.avatar_url ?? null,\n                rating: profile?.rating_score ?? 0\n              },\n              lastMessage: lastMsg ? {\n                body: lastMsg.body,\n                type: lastMsg.type,\n                createdAt: lastMsg.created_at\n              } : null,\n              unreadCount: unreadMap.get(_conv.id) ?? 0,\n              negotiationStatus: _conv.negotiation_status,\n              listingTitle: _match.listings.title,\n              listingThumbnails,\n              nickname: nicknameMap.get(_conv.id) ?? null\n            });\n          }\n\n          // Sort by last message date descending (newest first)\n          results.sort((a, b) => {\n            var dateA = a.lastMessage?.createdAt ?? '';\n            var dateB = b.lastMessage?.createdAt ?? '';\n            return dateB.localeCompare(dateA);\n          });\n          return results;\n        });\n        return function queryFn() {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      enabled: !!user\n    });\n  };\n  _s(useConversations, \"feBfegY2LWvVkHAo3/+H6/HJ9O4=\", false, function () {\n    return [_contextAuthProvider.useAuth, _tanstackReactQuery.useQuery];\n  });\n  var _default = useConversations;\n});","lineCount":176,"map":[[13,2,240,0,"Object"],[13,8,240,0],[13,9,240,0,"defineProperty"],[13,23,240,0],[13,24,240,0,"exports"],[13,31,240,0],[14,4,240,0,"enumerable"],[14,14,240,0],[15,4,240,0,"get"],[15,7,240,0],[15,18,240,0,"get"],[15,19,240,0],[16,6,240,0],[16,13,240,0,"_default"],[16,21,240,0],[17,4,240,0],[18,2,240,0],[19,2,240,32],[19,6,240,32,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,240,32],[19,45,240,32,"require"],[19,52,240,32],[19,53,240,32,"_dependencyMap"],[19,67,240,32],[20,2,240,32],[20,6,240,32,"_asyncToGenerator"],[20,23,240,32],[20,26,240,32,"_interopDefault"],[20,41,240,32],[20,42,240,32,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,240,32],[21,2,1,0],[21,6,1,0,"_tanstackReactQuery"],[21,25,1,0],[21,28,1,0,"require"],[21,35,1,0],[21,36,1,0,"_dependencyMap"],[21,50,1,0],[22,2,2,0],[22,6,2,0,"_libSupabase"],[22,18,2,0],[22,21,2,0,"require"],[22,28,2,0],[22,29,2,0,"_dependencyMap"],[22,43,2,0],[23,2,3,0],[23,6,3,0,"_contextAuthProvider"],[23,26,3,0],[23,29,3,0,"require"],[23,36,3,0],[23,37,3,0,"_dependencyMap"],[23,51,3,0],[24,2,4,0],[24,6,4,0,"_queryKeys"],[24,16,4,0],[24,19,4,0,"require"],[24,26,4,0],[24,27,4,0,"_dependencyMap"],[24,41,4,0],[25,2,28,0],[26,0,29,0],[27,0,30,0],[28,0,31,0],[29,0,32,0],[30,0,33,0],[31,2,34,0],[31,6,34,6,"useConversations"],[31,22,34,22],[31,25,34,25,"useConversations"],[31,26,34,25],[31,31,34,31],[32,4,34,31,"_s"],[32,6,34,31],[33,4,35,2],[33,8,35,2,"_useAuth"],[33,16,35,2],[33,19,35,19],[33,23,35,19,"useAuth"],[33,43,35,26],[33,44,35,26,"useAuth"],[33,51,35,26],[33,53,35,27],[33,54,35,28],[34,6,35,10,"user"],[34,10,35,14],[34,13,35,14,"_useAuth"],[34,21,35,14],[34,22,35,10,"user"],[34,26,35,14],[35,4,37,2],[35,11,37,9],[35,15,37,9,"useQuery"],[35,34,37,17],[35,35,37,17,"useQuery"],[35,43,37,17],[35,45,37,18],[36,6,38,4,"queryKey"],[36,14,38,12],[36,16,38,14,"chatKeys"],[36,26,38,22],[36,27,38,22,"chatKeys"],[36,35,38,22],[36,36,38,23,"conversations"],[36,49,38,36],[36,50,38,37],[36,51,38,38],[37,6,39,4,"queryFn"],[37,13,39,11],[38,8,39,11],[38,12,39,11,"_ref"],[38,16,39,11],[38,23,39,11,"_asyncToGenerator"],[38,40,39,11],[38,41,39,11,"default"],[38,48,39,11],[38,50,39,13],[38,63,39,57],[39,10,40,6],[39,14,40,10],[39,15,40,11,"user"],[39,19,40,15],[39,21,40,17],[39,28,40,24],[39,30,40,26],[41,10,42,6],[42,10,43,6],[42,14,43,6,"_yield$supabase$from$"],[42,35,43,6],[42,44,43,51,"supabase"],[42,56,43,59],[42,57,43,59,"supabase"],[42,65,43,59],[42,66,44,9,"from"],[42,70,44,13],[42,71,44,14],[42,86,44,29],[42,87,44,30],[42,88,45,9,"select"],[42,94,45,15],[42,95,46,10],[43,0,47,0],[44,0,48,0],[45,0,49,0],[46,0,50,0],[47,0,51,0],[48,0,52,0],[49,0,53,0],[50,0,54,0],[51,0,55,0],[52,0,56,0],[53,0,57,0],[54,0,58,0],[55,0,59,0],[56,0,60,0],[57,0,61,0],[58,0,62,0],[59,0,63,0],[60,0,64,0],[61,0,65,0],[61,9,66,8],[61,10,66,9],[61,11,67,9,"or"],[61,13,67,11],[61,14,68,10],[61,30,68,26,"user"],[61,34,68,30],[61,35,68,31,"id"],[61,37,68,33],[61,54,68,50,"user"],[61,58,68,54],[61,59,68,55,"id"],[61,61,68,57],[61,63,68,59],[61,65,69,10],[62,14,69,12,"referencedTable"],[62,29,69,27],[62,31,69,29],[63,12,69,39],[63,13,70,8],[63,14,70,9],[64,12,43,20,"conversations"],[64,25,43,33],[64,28,43,33,"_yield$supabase$from$"],[64,49,43,33],[64,50,43,14,"data"],[64,54,43,18],[65,12,43,35,"error"],[65,17,43,40],[65,20,43,40,"_yield$supabase$from$"],[65,41,43,40],[65,42,43,35,"error"],[65,47,43,40],[66,10,72,6],[66,14,72,10,"error"],[66,19,72,15],[66,21,72,17],[66,27,72,23,"error"],[66,32,72,28],[67,10,73,6],[67,14,73,10],[67,15,73,11,"conversations"],[67,28,73,24],[67,32,73,28,"conversations"],[67,45,73,41],[67,46,73,42,"length"],[67,52,73,48],[67,57,73,53],[67,58,73,54],[67,60,73,56],[67,67,73,63],[67,69,73,65],[69,10,75,6],[70,10,76,6],[70,14,76,12,"otherUserIds"],[70,26,76,34],[70,29,76,37],[70,31,76,39],[71,10,77,6],[71,14,77,12,"convIds"],[71,21,77,29],[71,24,77,32],[71,26,77,34],[72,10,79,6],[72,15,79,11],[72,19,79,17,"conv"],[72,23,79,21],[72,27,79,25,"conversations"],[72,40,79,38],[72,42,79,40],[73,12,80,8],[73,16,80,14,"match"],[73,21,80,19],[73,24,80,22,"conv"],[73,28,80,26],[73,29,80,27,"matches"],[73,36,92,9],[74,12,93,8],[74,16,93,14,"otherId"],[74,23,93,21],[74,26,94,10,"match"],[74,31,94,15],[74,32,94,16,"user_a_id"],[74,41,94,25],[74,46,94,30,"user"],[74,50,94,34],[74,51,94,35,"id"],[74,53,94,37],[74,56,94,40,"match"],[74,61,94,45],[74,62,94,46,"user_b_id"],[74,71,94,55],[74,74,94,58,"match"],[74,79,94,63],[74,80,94,64,"user_a_id"],[74,89,94,73],[75,12,95,8,"otherUserIds"],[75,24,95,20],[75,25,95,21,"push"],[75,29,95,25],[75,30,95,26,"otherId"],[75,37,95,33],[75,38,95,34],[76,12,96,8,"convIds"],[76,19,96,15],[76,20,96,16,"push"],[76,24,96,20],[76,25,96,21,"conv"],[76,29,96,25],[76,30,96,26,"id"],[76,32,96,28],[76,33,96,29],[77,10,97,6],[79,10,99,6],[80,10,100,6],[80,14,100,6,"_yield$supabase$from$2"],[80,36,100,6],[80,45,100,46,"supabase"],[80,57,100,54],[80,58,100,54,"supabase"],[80,66,100,54],[80,67,101,9,"from"],[80,71,101,13],[80,72,101,14],[80,80,101,22],[80,81,101,23],[80,82,102,9,"select"],[80,88,102,15],[80,89,102,16],[80,101,102,28],[80,102,102,29],[80,103,103,9,"eq"],[80,105,103,11],[80,106,103,12],[80,118,103,24],[80,120,103,26,"user"],[80,124,103,30],[80,125,103,31,"id"],[80,127,103,33],[80,128,103,34],[81,12,100,20,"blocksAsBlocker"],[81,27,100,35],[81,30,100,35,"_yield$supabase$from$2"],[81,52,100,35],[81,53,100,14,"data"],[81,57,100,18],[82,10,105,6],[82,14,105,6,"_yield$supabase$from$3"],[82,36,105,6],[82,45,105,46,"supabase"],[82,57,105,54],[82,58,105,54,"supabase"],[82,66,105,54],[82,67,106,9,"from"],[82,71,106,13],[82,72,106,14],[82,80,106,22],[82,81,106,23],[82,82,107,9,"select"],[82,88,107,15],[82,89,107,16],[82,101,107,28],[82,102,107,29],[82,103,108,9,"eq"],[82,105,108,11],[82,106,108,12],[82,118,108,24],[82,120,108,26,"user"],[82,124,108,30],[82,125,108,31,"id"],[82,127,108,33],[82,128,108,34],[83,12,105,20,"blocksAsBlocked"],[83,27,105,35],[83,30,105,35,"_yield$supabase$from$3"],[83,52,105,35],[83,53,105,14,"data"],[83,57,105,18],[84,10,110,6],[84,14,110,12,"blockedIds"],[84,24,110,22],[84,27,110,25],[84,31,110,29,"Set"],[84,34,110,32],[84,35,110,41],[84,36,111,8],[84,39,111,11],[84,40,111,12,"blocksAsBlocker"],[84,55,111,27],[84,59,111,31],[84,61,111,33],[84,63,111,35,"map"],[84,66,111,38],[84,67,111,40,"b"],[84,68,111,41],[84,72,111,46,"b"],[84,73,111,47],[84,74,111,48,"blocked_id"],[84,84,111,58],[84,85,111,59],[84,87,112,8],[84,90,112,11],[84,91,112,12,"blocksAsBlocked"],[84,106,112,27],[84,110,112,31],[84,112,112,33],[84,114,112,35,"map"],[84,117,112,38],[84,118,112,40,"b"],[84,119,112,41],[84,123,112,46,"b"],[84,124,112,47],[84,125,112,48,"blocker_id"],[84,135,112,58],[84,136,112,59],[84,137,113,7],[84,138,113,8],[86,10,115,6],[87,10,116,6],[87,14,116,12,"uniqueOtherIds"],[87,28,116,26],[87,31,116,29],[87,32,116,30],[87,35,116,33],[87,39,116,37,"Set"],[87,42,116,40],[87,43,116,41,"otherUserIds"],[87,55,116,53],[87,56,116,54],[87,57,116,55],[88,10,117,6],[88,14,117,6,"_yield$supabase$from$4"],[88,36,117,6],[88,45,117,39,"supabase"],[88,57,117,47],[88,58,117,47,"supabase"],[88,66,117,47],[88,67,118,9,"from"],[88,71,118,13],[88,72,118,14],[88,79,118,21],[88,80,118,22],[88,81,119,9,"select"],[88,87,119,15],[88,88,119,16],[88,132,119,60],[88,133,119,61],[88,134,120,9,"in"],[88,136,120,11],[88,137,120,12],[88,141,120,16],[88,143,120,18,"uniqueOtherIds"],[88,157,120,32],[88,158,120,33],[89,12,117,20,"profiles"],[89,20,117,28],[89,23,117,28,"_yield$supabase$from$4"],[89,45,117,28],[89,46,117,14,"data"],[89,50,117,18],[90,10,122,6],[90,14,122,12,"profileMap"],[90,24,122,22],[90,27,122,25],[90,31,122,29,"Map"],[90,34,122,32],[90,35,123,8],[90,36,123,9,"profiles"],[90,44,123,17],[90,48,123,21],[90,50,123,23],[90,52,123,25,"map"],[90,55,123,28],[90,56,123,30,"p"],[90,57,123,31],[90,61,123,36],[90,62,123,37,"p"],[90,63,123,38],[90,64,123,39,"id"],[90,66,123,41],[90,68,123,43,"p"],[90,69,123,44],[90,70,123,45],[90,71,124,6],[90,72,124,7],[92,10,126,6],[93,10,127,6],[93,14,127,6,"_yield$supabase$from$5"],[93,36,127,6],[93,45,127,45,"supabase"],[93,57,127,53],[93,58,127,53,"supabase"],[93,66,127,53],[93,67,128,9,"from"],[93,71,128,13],[93,72,128,14],[93,82,128,24],[93,83,128,25],[93,84,129,9,"select"],[93,90,129,15],[93,91,129,16],[93,132,129,57],[93,133,129,58],[93,134,130,9,"in"],[93,136,130,11],[93,137,130,12],[93,154,130,29],[93,156,130,31,"convIds"],[93,163,130,38],[93,164,130,39],[93,165,131,9,"order"],[93,170,131,14],[93,171,131,15],[93,183,131,27],[93,185,131,29],[94,14,131,31,"ascending"],[94,23,131,40],[94,25,131,42],[95,12,131,48],[95,13,131,49],[95,14,131,50],[96,12,127,20,"recentMessages"],[96,26,127,34],[96,29,127,34,"_yield$supabase$from$5"],[96,51,127,34],[96,52,127,14,"data"],[96,56,127,18],[98,10,133,6],[99,10,134,6],[99,14,134,12,"lastMessageMap"],[99,28,134,26],[99,31,134,29],[99,35,134,33,"Map"],[99,38,134,36],[99,39,137,8],[99,40,137,9],[100,10,138,6],[100,15,138,11],[100,19,138,17,"msg"],[100,22,138,20],[100,26,138,24,"recentMessages"],[100,40,138,38],[100,44,138,42],[100,46,138,44],[100,48,138,46],[101,12,139,8],[101,16,139,12],[101,17,139,13,"lastMessageMap"],[101,31,139,27],[101,32,139,28,"has"],[101,35,139,31],[101,36,139,32,"msg"],[101,39,139,35],[101,40,139,36,"conversation_id"],[101,55,139,51],[101,56,139,52],[101,58,139,54],[102,14,140,10,"lastMessageMap"],[102,28,140,24],[102,29,140,25,"set"],[102,32,140,28],[102,33,140,29,"msg"],[102,36,140,32],[102,37,140,33,"conversation_id"],[102,52,140,48],[102,54,140,50],[103,16,141,12,"body"],[103,20,141,16],[103,22,141,18,"msg"],[103,25,141,21],[103,26,141,22,"body"],[103,30,141,26],[104,16,142,12,"type"],[104,20,142,16],[104,22,142,18,"msg"],[104,25,142,21],[104,26,142,22,"type"],[104,30,142,41],[105,16,143,12,"created_at"],[105,26,143,22],[105,28,143,24,"msg"],[105,31,143,27],[105,32,143,28,"created_at"],[106,14,144,10],[106,15,144,11],[106,16,144,12],[107,12,145,8],[108,10,146,6],[110,10,148,6],[111,10,149,6],[111,14,149,6,"_yield$supabase$rpc"],[111,33,149,6],[111,42,149,41,"supabase"],[111,54,149,49],[111,55,149,49,"supabase"],[111,63,149,49],[111,64,149,50,"rpc"],[111,67,149,53],[111,68,149,54],[111,87,149,73],[111,89,149,75],[112,14,150,8,"p_user_id"],[112,23,150,17],[112,25,150,19,"user"],[112,29,150,23],[112,30,150,24,"id"],[113,12,151,6],[113,13,151,7],[113,14,151,8],[114,12,149,20,"unreadData"],[114,22,149,30],[114,25,149,30,"_yield$supabase$rpc"],[114,44,149,30],[114,45,149,14,"data"],[114,49,149,18],[115,10,153,6],[115,14,153,12,"unreadMap"],[115,23,153,21],[115,26,153,24],[115,30,153,28,"Map"],[115,33,153,31],[115,34,154,8],[115,35,154,9,"unreadData"],[115,45,154,19],[115,49,154,23],[115,51,154,25],[115,53,154,27,"map"],[115,56,154,30],[115,57,154,32,"r"],[115,58,154,84],[115,62,154,89],[115,63,155,10,"r"],[115,64,155,11],[115,65,155,12,"conversation_id"],[115,80,155,27],[115,82,156,10,"r"],[115,83,156,11],[115,84,156,12,"unread_count"],[115,96,156,24],[115,97,157,9],[115,98,158,6],[115,99,158,7],[117,10,160,6],[118,10,161,6],[118,14,161,6,"_yield$supabase$from$6"],[118,36,161,6],[118,45,161,43,"supabase"],[118,57,161,51],[118,58,161,51,"supabase"],[118,66,161,51],[118,67,162,9,"from"],[118,71,162,13],[118,72,162,14],[118,96,162,38],[118,97,162,39],[118,98,163,9,"select"],[118,104,163,15],[118,105,163,16],[118,132,163,43],[118,133,163,44],[118,134,164,9,"eq"],[118,136,164,11],[118,137,164,12],[118,146,164,21],[118,148,164,23,"user"],[118,152,164,27],[118,153,164,28,"id"],[118,155,164,30],[118,156,164,31],[118,157,165,9,"in"],[118,159,165,11],[118,160,165,12],[118,177,165,29],[118,179,165,31,"convIds"],[118,186,165,38],[118,187,165,39],[119,12,161,20,"nicknameData"],[119,24,161,32],[119,27,161,32,"_yield$supabase$from$6"],[119,49,161,32],[119,50,161,14,"data"],[119,54,161,18],[120,10,167,6],[120,14,167,12,"nicknameMap"],[120,25,167,23],[120,28,167,26],[120,32,167,30,"Map"],[120,35,167,33],[120,36,168,8],[120,37,168,9,"nicknameData"],[120,49,168,21],[120,53,168,25],[120,55,168,27],[120,57,168,29,"map"],[120,60,168,32],[120,61,168,34,"n"],[120,62,168,35],[120,66,168,40],[120,67,168,41,"n"],[120,68,168,42],[120,69,168,43,"conversation_id"],[120,84,168,58],[120,86,168,60,"n"],[120,87,168,61],[120,88,168,62,"nickname"],[120,96,168,70],[120,97,168,71],[120,98,169,6],[120,99,169,7],[122,10,171,6],[123,10,172,6],[123,14,172,12,"results"],[123,21,172,42],[123,24,172,45],[123,26,172,47],[124,10,174,6],[124,15,174,11],[124,19,174,17,"conv"],[124,24,174,21],[124,28,174,25,"conversations"],[124,41,174,38],[124,43,174,40],[125,12,175,8],[125,16,175,14,"match"],[125,22,175,19],[125,25,175,22,"conv"],[125,30,175,26],[125,31,175,27,"matches"],[125,38,187,9],[126,12,189,8],[126,16,189,14,"otherId"],[126,24,189,21],[126,27,190,10,"match"],[126,33,190,15],[126,34,190,16,"user_a_id"],[126,43,190,25],[126,48,190,30,"user"],[126,52,190,34],[126,53,190,35,"id"],[126,55,190,37],[126,58,190,40,"match"],[126,64,190,45],[126,65,190,46,"user_b_id"],[126,74,190,55],[126,77,190,58,"match"],[126,83,190,63],[126,84,190,64,"user_a_id"],[126,93,190,73],[128,12,192,8],[129,12,193,8],[129,16,193,12,"blockedIds"],[129,26,193,22],[129,27,193,23,"has"],[129,30,193,26],[129,31,193,27,"otherId"],[129,39,193,34],[129,40,193,35],[129,42,193,37],[130,12,195,8],[130,16,195,14,"profile"],[130,23,195,21],[130,26,195,24,"profileMap"],[130,36,195,34],[130,37,195,35,"get"],[130,40,195,38],[130,41,195,39,"otherId"],[130,49,195,46],[130,50,195,47],[131,12,196,8],[131,16,196,14,"lastMsg"],[131,23,196,21],[131,26,196,24,"lastMessageMap"],[131,40,196,38],[131,41,196,39,"get"],[131,44,196,42],[131,45,196,43,"conv"],[131,50,196,47],[131,51,196,48,"id"],[131,53,196,50],[131,54,196,51],[133,12,198,8],[134,12,199,8],[134,16,199,14,"listingThumbnails"],[134,33,199,31],[134,36,199,34],[134,37,199,35,"match"],[134,43,199,40],[134,44,199,41,"listings"],[134,52,199,49],[134,53,199,50,"listing_items"],[134,66,199,63],[134,70,199,67],[134,72,199,69],[134,74,200,11,"slice"],[134,79,200,16],[134,80,200,17],[134,81,200,18],[134,83,200,20],[134,84,200,21],[134,85,200,22],[134,86,201,11,"map"],[134,89,201,14],[134,90,201,16,"li"],[134,92,201,18],[134,96,201,23,"li"],[134,98,201,25],[134,99,201,26,"card_image_url"],[134,113,201,40],[134,114,201,41],[135,12,203,8,"results"],[135,19,203,15],[135,20,203,16,"push"],[135,24,203,20],[135,25,203,21],[136,14,204,10,"conversationId"],[136,28,204,24],[136,30,204,26,"conv"],[136,35,204,30],[136,36,204,31,"id"],[136,38,204,33],[137,14,205,10,"matchId"],[137,21,205,17],[137,23,205,19,"match"],[137,29,205,24],[137,30,205,25,"id"],[137,32,205,27],[138,14,206,10,"otherUser"],[138,23,206,19],[138,25,206,21],[139,16,207,12,"id"],[139,18,207,14],[139,20,207,16,"profile"],[139,27,207,23],[139,29,207,25,"id"],[139,31,207,27],[139,35,207,31,"otherId"],[139,43,207,38],[140,16,208,12,"name"],[140,20,208,16],[140,22,208,18,"profile"],[140,29,208,25],[140,31,208,27,"display_name"],[140,43,208,39],[140,47,208,43],[140,56,208,52],[141,16,209,12,"avatar"],[141,22,209,18],[141,24,209,20,"profile"],[141,31,209,27],[141,33,209,29,"avatar_url"],[141,43,209,39],[141,47,209,43],[141,51,209,47],[142,16,210,12,"rating"],[142,22,210,18],[142,24,210,20,"profile"],[142,31,210,27],[142,33,210,29,"rating_score"],[142,45,210,41],[142,49,210,45],[143,14,211,10],[143,15,211,11],[144,14,212,10,"lastMessage"],[144,25,212,21],[144,27,212,23,"lastMsg"],[144,34,212,30],[144,37,213,14],[145,16,214,16,"body"],[145,20,214,20],[145,22,214,22,"lastMsg"],[145,29,214,29],[145,30,214,30,"body"],[145,34,214,34],[146,16,215,16,"type"],[146,20,215,20],[146,22,215,22,"lastMsg"],[146,29,215,29],[146,30,215,30,"type"],[146,34,215,34],[147,16,216,16,"createdAt"],[147,25,216,25],[147,27,216,27,"lastMsg"],[147,34,216,34],[147,35,216,35,"created_at"],[148,14,217,14],[148,15,217,15],[148,18,218,14],[148,22,218,18],[149,14,219,10,"unreadCount"],[149,25,219,21],[149,27,219,23,"unreadMap"],[149,36,219,32],[149,37,219,33,"get"],[149,40,219,36],[149,41,219,37,"conv"],[149,46,219,41],[149,47,219,42,"id"],[149,49,219,44],[149,50,219,45],[149,54,219,49],[149,55,219,50],[150,14,220,10,"negotiationStatus"],[150,31,220,27],[150,33,220,29,"conv"],[150,38,220,33],[150,39,220,34,"negotiation_status"],[150,57,220,73],[151,14,221,10,"listingTitle"],[151,26,221,22],[151,28,221,24,"match"],[151,34,221,29],[151,35,221,30,"listings"],[151,43,221,38],[151,44,221,39,"title"],[151,49,221,44],[152,14,222,10,"listingThumbnails"],[152,31,222,27],[153,14,223,10,"nickname"],[153,22,223,18],[153,24,223,20,"nicknameMap"],[153,35,223,31],[153,36,223,32,"get"],[153,39,223,35],[153,40,223,36,"conv"],[153,45,223,40],[153,46,223,41,"id"],[153,48,223,43],[153,49,223,44],[153,53,223,48],[154,12,224,8],[154,13,224,9],[154,14,224,10],[155,10,225,6],[157,10,227,6],[158,10,228,6,"results"],[158,17,228,13],[158,18,228,14,"sort"],[158,22,228,18],[158,23,228,19],[158,24,228,20,"a"],[158,25,228,21],[158,27,228,23,"b"],[158,28,228,24],[158,33,228,29],[159,12,229,8],[159,16,229,14,"dateA"],[159,21,229,19],[159,24,229,22,"a"],[159,25,229,23],[159,26,229,24,"lastMessage"],[159,37,229,35],[159,39,229,37,"createdAt"],[159,48,229,46],[159,52,229,50],[159,54,229,52],[160,12,230,8],[160,16,230,14,"dateB"],[160,21,230,19],[160,24,230,22,"b"],[160,25,230,23],[160,26,230,24,"lastMessage"],[160,37,230,35],[160,39,230,37,"createdAt"],[160,48,230,46],[160,52,230,50],[160,54,230,52],[161,12,231,8],[161,19,231,15,"dateB"],[161,24,231,20],[161,25,231,21,"localeCompare"],[161,38,231,34],[161,39,231,35,"dateA"],[161,44,231,40],[161,45,231,41],[162,10,232,6],[162,11,232,7],[162,12,232,8],[163,10,234,6],[163,17,234,13,"results"],[163,24,234,20],[164,8,235,4],[164,9,235,5],[165,8,235,5],[165,24,39,4,"queryFn"],[165,31,39,11,"queryFn"],[165,32,39,11],[166,10,39,11],[166,17,39,11,"_ref"],[166,21,39,11],[166,22,39,11,"apply"],[166,27,39,11],[166,34,39,11,"arguments"],[166,43,39,11],[167,8,39,11],[168,6,39,11],[168,9,235,5],[169,6,236,4,"enabled"],[169,13,236,11],[169,15,236,13],[169,16,236,14],[169,17,236,15,"user"],[170,4,237,2],[170,5,237,3],[170,6,237,4],[171,2,238,0],[171,3,238,1],[172,2,238,2,"_s"],[172,4,238,2],[172,5,34,6,"useConversations"],[172,21,34,22],[173,4,34,22],[173,12,35,19,"useAuth"],[173,32,35,26],[173,33,35,26,"useAuth"],[173,40,35,26],[173,42,37,9,"useQuery"],[173,61,37,17],[173,62,37,17,"useQuery"],[173,70,37,17],[174,2,37,17],[175,2,240,0],[175,6,240,0,"_default"],[175,14,240,0],[175,17,240,15,"useConversations"],[175,33,240,31],[176,0,240,32],[176,3]],"functionMap":{"names":["<global>","useConversations","useQuery$argument_0.queryFn","map$argument_0","slice.map$argument_0","results.sort$argument_0"],"mappings":"AAA;yBCiC;aCK;uCCwE,mBD;uCCC,mBD;6BCW,gBD;+BC+B;SDG;iCCW,sCD;eEiC,yBF;mBG2B;OHI;KDG;CDG"},"hasCjsExports":false},"type":"js/module"}]}