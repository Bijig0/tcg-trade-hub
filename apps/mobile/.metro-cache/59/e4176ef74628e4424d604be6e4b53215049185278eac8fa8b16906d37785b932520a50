{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":42,"index":92}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":49,"index":142}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":143},"end":{"line":4,"column":43,"index":186}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"fetchConversations\", {\n    enumerable: true,\n    get: function () {\n      return fetchConversations;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _contextAuthProvider = require(_dependencyMap[3], \"@/context/AuthProvider\");\n  var _queryKeys = require(_dependencyMap[4], \"../../queryKeys\");\n  /**\n   * Fetches all conversations for a given user, sorted by most recent message.\n   *\n   * Batch-fetches profiles, last messages, and unread counts in bulk queries\n   * instead of N+1 loops. Filters out conversations with blocked users.\n   */\n  var fetchConversations = /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator.default)(function* (userId) {\n      // 1. Get conversations with match data, listing info, and negotiation status\n      var _yield$supabase$from$ = yield _libSupabase.supabase.from('conversations').select(`\n      id,\n      match_id,\n      negotiation_status,\n      matches!inner (\n        id,\n        user_a_id,\n        user_b_id,\n        listing_id,\n        listings!inner (\n          id,\n          title,\n          type,\n          tcg,\n          listing_items (\n            card_image_url\n          )\n        )\n      )\n    `).or(`user_a_id.eq.${userId},user_b_id.eq.${userId}`, {\n          referencedTable: 'matches'\n        }),\n        conversations = _yield$supabase$from$.data,\n        error = _yield$supabase$from$.error;\n      if (error) throw error;\n      if (!conversations || conversations.length === 0) return [];\n\n      // 2. Collect other user IDs and conversation IDs\n      var otherUserIds = [];\n      var convIds = [];\n      for (var conv of conversations) {\n        var match = conv.matches;\n        var otherId = match.user_a_id === userId ? match.user_b_id : match.user_a_id;\n        otherUserIds.push(otherId);\n        convIds.push(conv.id);\n      }\n\n      // 3. Fetch blocked user IDs (both directions)\n      var _yield$supabase$from$2 = yield _libSupabase.supabase.from('blocks').select('blocked_id').eq('blocker_id', userId),\n        blocksAsBlocker = _yield$supabase$from$2.data;\n      var _yield$supabase$from$3 = yield _libSupabase.supabase.from('blocks').select('blocker_id').eq('blocked_id', userId),\n        blocksAsBlocked = _yield$supabase$from$3.data;\n      var blockedIds = new Set([...(blocksAsBlocker ?? []).map(b => b.blocked_id), ...(blocksAsBlocked ?? []).map(b => b.blocker_id)]);\n\n      // 4. Batch fetch profiles for all other users\n      var uniqueOtherIds = [...new Set(otherUserIds)];\n      var _yield$supabase$from$4 = yield _libSupabase.supabase.from('users').select('id, display_name, avatar_url, rating_score').in('id', uniqueOtherIds),\n        profiles = _yield$supabase$from$4.data;\n      var profileMap = new Map((profiles ?? []).map(p => [p.id, p]));\n\n      // 5. Batch fetch last messages â€” one query, most recent per conversation\n      var _yield$supabase$from$5 = yield _libSupabase.supabase.from('messages').select('conversation_id, body, type, created_at').in('conversation_id', convIds).order('created_at', {\n          ascending: false\n        }),\n        recentMessages = _yield$supabase$from$5.data;\n\n      // Deduplicate to most recent per conversation\n      var lastMessageMap = new Map();\n      for (var msg of recentMessages ?? []) {\n        if (!lastMessageMap.has(msg.conversation_id)) {\n          lastMessageMap.set(msg.conversation_id, {\n            body: msg.body,\n            type: msg.type,\n            created_at: msg.created_at\n          });\n        }\n      }\n\n      // 6. Get real unread counts via RPC\n      var _yield$supabase$rpc = yield _libSupabase.supabase.rpc('get_unread_counts', {\n          p_user_id: userId\n        }),\n        unreadData = _yield$supabase$rpc.data;\n      var unreadMap = new Map((unreadData ?? []).map(r => [r.conversation_id, r.unread_count]));\n\n      // 6b. Bulk-fetch nicknames for current user\n      var _yield$supabase$from$6 = yield _libSupabase.supabase.from('conversation_nicknames').select('conversation_id, nickname').eq('user_id', userId).in('conversation_id', convIds),\n        nicknameData = _yield$supabase$from$6.data;\n      var nicknameMap = new Map((nicknameData ?? []).map(n => [n.conversation_id, n.nickname]));\n\n      // 7. Build results, filtering blocked users\n      var results = [];\n      for (var _conv of conversations) {\n        var _match = _conv.matches;\n        var _otherId = _match.user_a_id === userId ? _match.user_b_id : _match.user_a_id;\n\n        // Filter blocked users\n        if (blockedIds.has(_otherId)) continue;\n        var profile = profileMap.get(_otherId);\n        var lastMsg = lastMessageMap.get(_conv.id);\n\n        // Get first 2 card thumbnails from listing items\n        var listingThumbnails = (_match.listings.listing_items ?? []).slice(0, 2).map(li => li.card_image_url);\n        results.push({\n          conversationId: _conv.id,\n          matchId: _match.id,\n          otherUser: {\n            id: profile?.id ?? _otherId,\n            name: profile?.display_name ?? 'Unknown',\n            avatar: profile?.avatar_url ?? null,\n            rating: profile?.rating_score ?? 0\n          },\n          lastMessage: lastMsg ? {\n            body: lastMsg.body,\n            type: lastMsg.type,\n            createdAt: lastMsg.created_at\n          } : null,\n          unreadCount: unreadMap.get(_conv.id) ?? 0,\n          negotiationStatus: _conv.negotiation_status,\n          listingTitle: _match.listings.title,\n          listingThumbnails,\n          nickname: nicknameMap.get(_conv.id) ?? null\n        });\n      }\n\n      // Sort by last message date descending (newest first)\n      results.sort((a, b) => {\n        var dateA = a.lastMessage?.createdAt ?? '';\n        var dateB = b.lastMessage?.createdAt ?? '';\n        return dateB.localeCompare(dateA);\n      });\n      return results;\n    });\n    return function fetchConversations(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * Hook that fetches all conversations for the current user.\n   */\n  var useConversations = () => {\n    _s();\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    return (0, _tanstackReactQuery.useQuery)({\n      queryKey: _queryKeys.chatKeys.conversations(),\n      queryFn: () => fetchConversations(user.id),\n      enabled: !!user\n    });\n  };\n  _s(useConversations, \"feBfegY2LWvVkHAo3/+H6/HJ9O4=\", false, function () {\n    return [_contextAuthProvider.useAuth, _tanstackReactQuery.useQuery];\n  });\n  var _default = useConversations;\n});","lineCount":185,"map":[[13,2,243,0,"Object"],[13,8,243,0],[13,9,243,0,"defineProperty"],[13,23,243,0],[13,24,243,0,"exports"],[13,31,243,0],[14,4,243,0,"enumerable"],[14,14,243,0],[15,4,243,0,"get"],[15,7,243,0],[15,18,243,0,"get"],[15,19,243,0],[16,6,243,0],[16,13,243,0,"_default"],[16,21,243,0],[17,4,243,0],[18,2,243,0],[19,2,34,0,"Object"],[19,8,34,0],[19,9,34,0,"defineProperty"],[19,23,34,0],[19,24,34,0,"exports"],[19,31,34,0],[20,4,34,0,"enumerable"],[20,14,34,0],[21,4,34,0,"get"],[21,7,34,0],[21,18,34,0,"get"],[21,19,34,0],[22,6,34,0],[22,13,34,0,"fetchConversations"],[22,31,34,0],[23,4,34,0],[24,2,34,0],[25,2,228,2],[25,6,228,2,"_babelRuntimeHelpersAsyncToGenerator"],[25,42,228,2],[25,45,228,2,"require"],[25,52,228,2],[25,53,228,2,"_dependencyMap"],[25,67,228,2],[26,2,228,2],[26,6,228,2,"_asyncToGenerator"],[26,23,228,2],[26,26,228,2,"_interopDefault"],[26,41,228,2],[26,42,228,2,"_babelRuntimeHelpersAsyncToGenerator"],[26,78,228,2],[27,2,1,0],[27,6,1,0,"_tanstackReactQuery"],[27,25,1,0],[27,28,1,0,"require"],[27,35,1,0],[27,36,1,0,"_dependencyMap"],[27,50,1,0],[28,2,2,0],[28,6,2,0,"_libSupabase"],[28,18,2,0],[28,21,2,0,"require"],[28,28,2,0],[28,29,2,0,"_dependencyMap"],[28,43,2,0],[29,2,3,0],[29,6,3,0,"_contextAuthProvider"],[29,26,3,0],[29,29,3,0,"require"],[29,36,3,0],[29,37,3,0,"_dependencyMap"],[29,51,3,0],[30,2,4,0],[30,6,4,0,"_queryKeys"],[30,16,4,0],[30,19,4,0,"require"],[30,26,4,0],[30,27,4,0,"_dependencyMap"],[30,41,4,0],[31,2,28,0],[32,0,29,0],[33,0,30,0],[34,0,31,0],[35,0,32,0],[36,0,33,0],[37,2,34,7],[37,6,34,13,"fetchConversations"],[37,24,34,31],[38,4,34,31],[38,8,34,31,"_ref"],[38,12,34,31],[38,19,34,31,"_asyncToGenerator"],[38,36,34,31],[38,37,34,31,"default"],[38,44,34,31],[38,46,34,34],[38,57,34,41,"userId"],[38,63,34,55],[38,65,34,92],[39,6,35,2],[40,6,36,2],[40,10,36,2,"_yield$supabase$from$"],[40,31,36,2],[40,40,36,47,"supabase"],[40,52,36,55],[40,53,36,55,"supabase"],[40,61,36,55],[40,62,37,5,"from"],[40,66,37,9],[40,67,37,10],[40,82,37,25],[40,83,37,26],[40,84,38,5,"select"],[40,90,38,11],[40,91,39,6],[41,0,40,0],[42,0,41,0],[43,0,42,0],[44,0,43,0],[45,0,44,0],[46,0,45,0],[47,0,46,0],[48,0,47,0],[49,0,48,0],[50,0,49,0],[51,0,50,0],[52,0,51,0],[53,0,52,0],[54,0,53,0],[55,0,54,0],[56,0,55,0],[57,0,56,0],[58,0,57,0],[59,0,58,0],[59,5,59,4],[59,6,59,5],[59,7,60,5,"or"],[59,9,60,7],[59,10,61,6],[59,26,61,22,"userId"],[59,32,61,28],[59,49,61,45,"userId"],[59,55,61,51],[59,57,61,53],[59,59,62,6],[60,10,62,8,"referencedTable"],[60,25,62,23],[60,27,62,25],[61,8,62,35],[61,9,63,4],[61,10,63,5],[62,8,36,16,"conversations"],[62,21,36,29],[62,24,36,29,"_yield$supabase$from$"],[62,45,36,29],[62,46,36,10,"data"],[62,50,36,14],[63,8,36,31,"error"],[63,13,36,36],[63,16,36,36,"_yield$supabase$from$"],[63,37,36,36],[63,38,36,31,"error"],[63,43,36,36],[64,6,65,2],[64,10,65,6,"error"],[64,15,65,11],[64,17,65,13],[64,23,65,19,"error"],[64,28,65,24],[65,6,66,2],[65,10,66,6],[65,11,66,7,"conversations"],[65,24,66,20],[65,28,66,24,"conversations"],[65,41,66,37],[65,42,66,38,"length"],[65,48,66,44],[65,53,66,49],[65,54,66,50],[65,56,66,52],[65,63,66,59],[65,65,66,61],[67,6,68,2],[68,6,69,2],[68,10,69,8,"otherUserIds"],[68,22,69,30],[68,25,69,33],[68,27,69,35],[69,6,70,2],[69,10,70,8,"convIds"],[69,17,70,25],[69,20,70,28],[69,22,70,30],[70,6,72,2],[70,11,72,7],[70,15,72,13,"conv"],[70,19,72,17],[70,23,72,21,"conversations"],[70,36,72,34],[70,38,72,36],[71,8,73,4],[71,12,73,10,"match"],[71,17,73,15],[71,20,73,18,"conv"],[71,24,73,22],[71,25,73,23,"matches"],[71,32,85,5],[72,8,86,4],[72,12,86,10,"otherId"],[72,19,86,17],[72,22,87,6,"match"],[72,27,87,11],[72,28,87,12,"user_a_id"],[72,37,87,21],[72,42,87,26,"userId"],[72,48,87,32],[72,51,87,35,"match"],[72,56,87,40],[72,57,87,41,"user_b_id"],[72,66,87,50],[72,69,87,53,"match"],[72,74,87,58],[72,75,87,59,"user_a_id"],[72,84,87,68],[73,8,88,4,"otherUserIds"],[73,20,88,16],[73,21,88,17,"push"],[73,25,88,21],[73,26,88,22,"otherId"],[73,33,88,29],[73,34,88,30],[74,8,89,4,"convIds"],[74,15,89,11],[74,16,89,12,"push"],[74,20,89,16],[74,21,89,17,"conv"],[74,25,89,21],[74,26,89,22,"id"],[74,28,89,24],[74,29,89,25],[75,6,90,2],[77,6,92,2],[78,6,93,2],[78,10,93,2,"_yield$supabase$from$2"],[78,32,93,2],[78,41,93,42,"supabase"],[78,53,93,50],[78,54,93,50,"supabase"],[78,62,93,50],[78,63,94,5,"from"],[78,67,94,9],[78,68,94,10],[78,76,94,18],[78,77,94,19],[78,78,95,5,"select"],[78,84,95,11],[78,85,95,12],[78,97,95,24],[78,98,95,25],[78,99,96,5,"eq"],[78,101,96,7],[78,102,96,8],[78,114,96,20],[78,116,96,22,"userId"],[78,122,96,28],[78,123,96,29],[79,8,93,16,"blocksAsBlocker"],[79,23,93,31],[79,26,93,31,"_yield$supabase$from$2"],[79,48,93,31],[79,49,93,10,"data"],[79,53,93,14],[80,6,98,2],[80,10,98,2,"_yield$supabase$from$3"],[80,32,98,2],[80,41,98,42,"supabase"],[80,53,98,50],[80,54,98,50,"supabase"],[80,62,98,50],[80,63,99,5,"from"],[80,67,99,9],[80,68,99,10],[80,76,99,18],[80,77,99,19],[80,78,100,5,"select"],[80,84,100,11],[80,85,100,12],[80,97,100,24],[80,98,100,25],[80,99,101,5,"eq"],[80,101,101,7],[80,102,101,8],[80,114,101,20],[80,116,101,22,"userId"],[80,122,101,28],[80,123,101,29],[81,8,98,16,"blocksAsBlocked"],[81,23,98,31],[81,26,98,31,"_yield$supabase$from$3"],[81,48,98,31],[81,49,98,10,"data"],[81,53,98,14],[82,6,103,2],[82,10,103,8,"blockedIds"],[82,20,103,18],[82,23,103,21],[82,27,103,25,"Set"],[82,30,103,28],[82,31,103,37],[82,32,104,4],[82,35,104,7],[82,36,104,8,"blocksAsBlocker"],[82,51,104,23],[82,55,104,27],[82,57,104,29],[82,59,104,31,"map"],[82,62,104,34],[82,63,104,36,"b"],[82,64,104,37],[82,68,104,42,"b"],[82,69,104,43],[82,70,104,44,"blocked_id"],[82,80,104,54],[82,81,104,55],[82,83,105,4],[82,86,105,7],[82,87,105,8,"blocksAsBlocked"],[82,102,105,23],[82,106,105,27],[82,108,105,29],[82,110,105,31,"map"],[82,113,105,34],[82,114,105,36,"b"],[82,115,105,37],[82,119,105,42,"b"],[82,120,105,43],[82,121,105,44,"blocker_id"],[82,131,105,54],[82,132,105,55],[82,133,106,3],[82,134,106,4],[84,6,108,2],[85,6,109,2],[85,10,109,8,"uniqueOtherIds"],[85,24,109,22],[85,27,109,25],[85,28,109,26],[85,31,109,29],[85,35,109,33,"Set"],[85,38,109,36],[85,39,109,37,"otherUserIds"],[85,51,109,49],[85,52,109,50],[85,53,109,51],[86,6,110,2],[86,10,110,2,"_yield$supabase$from$4"],[86,32,110,2],[86,41,110,35,"supabase"],[86,53,110,43],[86,54,110,43,"supabase"],[86,62,110,43],[86,63,111,5,"from"],[86,67,111,9],[86,68,111,10],[86,75,111,17],[86,76,111,18],[86,77,112,5,"select"],[86,83,112,11],[86,84,112,12],[86,128,112,56],[86,129,112,57],[86,130,113,5,"in"],[86,132,113,7],[86,133,113,8],[86,137,113,12],[86,139,113,14,"uniqueOtherIds"],[86,153,113,28],[86,154,113,29],[87,8,110,16,"profiles"],[87,16,110,24],[87,19,110,24,"_yield$supabase$from$4"],[87,41,110,24],[87,42,110,10,"data"],[87,46,110,14],[88,6,115,2],[88,10,115,8,"profileMap"],[88,20,115,18],[88,23,115,21],[88,27,115,25,"Map"],[88,30,115,28],[88,31,116,4],[88,32,116,5,"profiles"],[88,40,116,13],[88,44,116,17],[88,46,116,19],[88,48,116,21,"map"],[88,51,116,24],[88,52,116,26,"p"],[88,53,116,27],[88,57,116,32],[88,58,116,33,"p"],[88,59,116,34],[88,60,116,35,"id"],[88,62,116,37],[88,64,116,39,"p"],[88,65,116,40],[88,66,116,41],[88,67,117,2],[88,68,117,3],[90,6,119,2],[91,6,120,2],[91,10,120,2,"_yield$supabase$from$5"],[91,32,120,2],[91,41,120,41,"supabase"],[91,53,120,49],[91,54,120,49,"supabase"],[91,62,120,49],[91,63,121,5,"from"],[91,67,121,9],[91,68,121,10],[91,78,121,20],[91,79,121,21],[91,80,122,5,"select"],[91,86,122,11],[91,87,122,12],[91,128,122,53],[91,129,122,54],[91,130,123,5,"in"],[91,132,123,7],[91,133,123,8],[91,150,123,25],[91,152,123,27,"convIds"],[91,159,123,34],[91,160,123,35],[91,161,124,5,"order"],[91,166,124,10],[91,167,124,11],[91,179,124,23],[91,181,124,25],[92,10,124,27,"ascending"],[92,19,124,36],[92,21,124,38],[93,8,124,44],[93,9,124,45],[93,10,124,46],[94,8,120,16,"recentMessages"],[94,22,120,30],[94,25,120,30,"_yield$supabase$from$5"],[94,47,120,30],[94,48,120,10,"data"],[94,52,120,14],[96,6,126,2],[97,6,127,2],[97,10,127,8,"lastMessageMap"],[97,24,127,22],[97,27,127,25],[97,31,127,29,"Map"],[97,34,127,32],[97,35,130,4],[97,36,130,5],[98,6,131,2],[98,11,131,7],[98,15,131,13,"msg"],[98,18,131,16],[98,22,131,20,"recentMessages"],[98,36,131,34],[98,40,131,38],[98,42,131,40],[98,44,131,42],[99,8,132,4],[99,12,132,8],[99,13,132,9,"lastMessageMap"],[99,27,132,23],[99,28,132,24,"has"],[99,31,132,27],[99,32,132,28,"msg"],[99,35,132,31],[99,36,132,32,"conversation_id"],[99,51,132,47],[99,52,132,48],[99,54,132,50],[100,10,133,6,"lastMessageMap"],[100,24,133,20],[100,25,133,21,"set"],[100,28,133,24],[100,29,133,25,"msg"],[100,32,133,28],[100,33,133,29,"conversation_id"],[100,48,133,44],[100,50,133,46],[101,12,134,8,"body"],[101,16,134,12],[101,18,134,14,"msg"],[101,21,134,17],[101,22,134,18,"body"],[101,26,134,22],[102,12,135,8,"type"],[102,16,135,12],[102,18,135,14,"msg"],[102,21,135,17],[102,22,135,18,"type"],[102,26,135,37],[103,12,136,8,"created_at"],[103,22,136,18],[103,24,136,20,"msg"],[103,27,136,23],[103,28,136,24,"created_at"],[104,10,137,6],[104,11,137,7],[104,12,137,8],[105,8,138,4],[106,6,139,2],[108,6,141,2],[109,6,142,2],[109,10,142,2,"_yield$supabase$rpc"],[109,29,142,2],[109,38,142,37,"supabase"],[109,50,142,45],[109,51,142,45,"supabase"],[109,59,142,45],[109,60,142,46,"rpc"],[109,63,142,49],[109,64,142,50],[109,83,142,69],[109,85,142,71],[110,10,143,4,"p_user_id"],[110,19,143,13],[110,21,143,15,"userId"],[111,8,144,2],[111,9,144,3],[111,10,144,4],[112,8,142,16,"unreadData"],[112,18,142,26],[112,21,142,26,"_yield$supabase$rpc"],[112,40,142,26],[112,41,142,10,"data"],[112,45,142,14],[113,6,146,2],[113,10,146,8,"unreadMap"],[113,19,146,17],[113,22,146,20],[113,26,146,24,"Map"],[113,29,146,27],[113,30,147,4],[113,31,147,5,"unreadData"],[113,41,147,15],[113,45,147,19],[113,47,147,21],[113,49,147,23,"map"],[113,52,147,26],[113,53,147,28,"r"],[113,54,147,80],[113,58,147,85],[113,59,148,6,"r"],[113,60,148,7],[113,61,148,8,"conversation_id"],[113,76,148,23],[113,78,149,6,"r"],[113,79,149,7],[113,80,149,8,"unread_count"],[113,92,149,20],[113,93,150,5],[113,94,151,2],[113,95,151,3],[115,6,153,2],[116,6,154,2],[116,10,154,2,"_yield$supabase$from$6"],[116,32,154,2],[116,41,154,39,"supabase"],[116,53,154,47],[116,54,154,47,"supabase"],[116,62,154,47],[116,63,155,5,"from"],[116,67,155,9],[116,68,155,10],[116,92,155,34],[116,93,155,35],[116,94,156,5,"select"],[116,100,156,11],[116,101,156,12],[116,128,156,39],[116,129,156,40],[116,130,157,5,"eq"],[116,132,157,7],[116,133,157,8],[116,142,157,17],[116,144,157,19,"userId"],[116,150,157,25],[116,151,157,26],[116,152,158,5,"in"],[116,154,158,7],[116,155,158,8],[116,172,158,25],[116,174,158,27,"convIds"],[116,181,158,34],[116,182,158,35],[117,8,154,16,"nicknameData"],[117,20,154,28],[117,23,154,28,"_yield$supabase$from$6"],[117,45,154,28],[117,46,154,10,"data"],[117,50,154,14],[118,6,160,2],[118,10,160,8,"nicknameMap"],[118,21,160,19],[118,24,160,22],[118,28,160,26,"Map"],[118,31,160,29],[118,32,161,4],[118,33,161,5,"nicknameData"],[118,45,161,17],[118,49,161,21],[118,51,161,23],[118,53,161,25,"map"],[118,56,161,28],[118,57,161,30,"n"],[118,58,161,31],[118,62,161,36],[118,63,161,37,"n"],[118,64,161,38],[118,65,161,39,"conversation_id"],[118,80,161,54],[118,82,161,56,"n"],[118,83,161,57],[118,84,161,58,"nickname"],[118,92,161,66],[118,93,161,67],[118,94,162,2],[118,95,162,3],[120,6,164,2],[121,6,165,2],[121,10,165,8,"results"],[121,17,165,38],[121,20,165,41],[121,22,165,43],[122,6,167,2],[122,11,167,7],[122,15,167,13,"conv"],[122,20,167,17],[122,24,167,21,"conversations"],[122,37,167,34],[122,39,167,36],[123,8,168,4],[123,12,168,10,"match"],[123,18,168,15],[123,21,168,18,"conv"],[123,26,168,22],[123,27,168,23,"matches"],[123,34,180,5],[124,8,182,4],[124,12,182,10,"otherId"],[124,20,182,17],[124,23,183,6,"match"],[124,29,183,11],[124,30,183,12,"user_a_id"],[124,39,183,21],[124,44,183,26,"userId"],[124,50,183,32],[124,53,183,35,"match"],[124,59,183,40],[124,60,183,41,"user_b_id"],[124,69,183,50],[124,72,183,53,"match"],[124,78,183,58],[124,79,183,59,"user_a_id"],[124,88,183,68],[126,8,185,4],[127,8,186,4],[127,12,186,8,"blockedIds"],[127,22,186,18],[127,23,186,19,"has"],[127,26,186,22],[127,27,186,23,"otherId"],[127,35,186,30],[127,36,186,31],[127,38,186,33],[128,8,188,4],[128,12,188,10,"profile"],[128,19,188,17],[128,22,188,20,"profileMap"],[128,32,188,30],[128,33,188,31,"get"],[128,36,188,34],[128,37,188,35,"otherId"],[128,45,188,42],[128,46,188,43],[129,8,189,4],[129,12,189,10,"lastMsg"],[129,19,189,17],[129,22,189,20,"lastMessageMap"],[129,36,189,34],[129,37,189,35,"get"],[129,40,189,38],[129,41,189,39,"conv"],[129,46,189,43],[129,47,189,44,"id"],[129,49,189,46],[129,50,189,47],[131,8,191,4],[132,8,192,4],[132,12,192,10,"listingThumbnails"],[132,29,192,27],[132,32,192,30],[132,33,192,31,"match"],[132,39,192,36],[132,40,192,37,"listings"],[132,48,192,45],[132,49,192,46,"listing_items"],[132,62,192,59],[132,66,192,63],[132,68,192,65],[132,70,193,7,"slice"],[132,75,193,12],[132,76,193,13],[132,77,193,14],[132,79,193,16],[132,80,193,17],[132,81,193,18],[132,82,194,7,"map"],[132,85,194,10],[132,86,194,12,"li"],[132,88,194,14],[132,92,194,19,"li"],[132,94,194,21],[132,95,194,22,"card_image_url"],[132,109,194,36],[132,110,194,37],[133,8,196,4,"results"],[133,15,196,11],[133,16,196,12,"push"],[133,20,196,16],[133,21,196,17],[134,10,197,6,"conversationId"],[134,24,197,20],[134,26,197,22,"conv"],[134,31,197,26],[134,32,197,27,"id"],[134,34,197,29],[135,10,198,6,"matchId"],[135,17,198,13],[135,19,198,15,"match"],[135,25,198,20],[135,26,198,21,"id"],[135,28,198,23],[136,10,199,6,"otherUser"],[136,19,199,15],[136,21,199,17],[137,12,200,8,"id"],[137,14,200,10],[137,16,200,12,"profile"],[137,23,200,19],[137,25,200,21,"id"],[137,27,200,23],[137,31,200,27,"otherId"],[137,39,200,34],[138,12,201,8,"name"],[138,16,201,12],[138,18,201,14,"profile"],[138,25,201,21],[138,27,201,23,"display_name"],[138,39,201,35],[138,43,201,39],[138,52,201,48],[139,12,202,8,"avatar"],[139,18,202,14],[139,20,202,16,"profile"],[139,27,202,23],[139,29,202,25,"avatar_url"],[139,39,202,35],[139,43,202,39],[139,47,202,43],[140,12,203,8,"rating"],[140,18,203,14],[140,20,203,16,"profile"],[140,27,203,23],[140,29,203,25,"rating_score"],[140,41,203,37],[140,45,203,41],[141,10,204,6],[141,11,204,7],[142,10,205,6,"lastMessage"],[142,21,205,17],[142,23,205,19,"lastMsg"],[142,30,205,26],[142,33,206,10],[143,12,207,12,"body"],[143,16,207,16],[143,18,207,18,"lastMsg"],[143,25,207,25],[143,26,207,26,"body"],[143,30,207,30],[144,12,208,12,"type"],[144,16,208,16],[144,18,208,18,"lastMsg"],[144,25,208,25],[144,26,208,26,"type"],[144,30,208,30],[145,12,209,12,"createdAt"],[145,21,209,21],[145,23,209,23,"lastMsg"],[145,30,209,30],[145,31,209,31,"created_at"],[146,10,210,10],[146,11,210,11],[146,14,211,10],[146,18,211,14],[147,10,212,6,"unreadCount"],[147,21,212,17],[147,23,212,19,"unreadMap"],[147,32,212,28],[147,33,212,29,"get"],[147,36,212,32],[147,37,212,33,"conv"],[147,42,212,37],[147,43,212,38,"id"],[147,45,212,40],[147,46,212,41],[147,50,212,45],[147,51,212,46],[148,10,213,6,"negotiationStatus"],[148,27,213,23],[148,29,213,25,"conv"],[148,34,213,29],[148,35,213,30,"negotiation_status"],[148,53,213,69],[149,10,214,6,"listingTitle"],[149,22,214,18],[149,24,214,20,"match"],[149,30,214,25],[149,31,214,26,"listings"],[149,39,214,34],[149,40,214,35,"title"],[149,45,214,40],[150,10,215,6,"listingThumbnails"],[150,27,215,23],[151,10,216,6,"nickname"],[151,18,216,14],[151,20,216,16,"nicknameMap"],[151,31,216,27],[151,32,216,28,"get"],[151,35,216,31],[151,36,216,32,"conv"],[151,41,216,36],[151,42,216,37,"id"],[151,44,216,39],[151,45,216,40],[151,49,216,44],[152,8,217,4],[152,9,217,5],[152,10,217,6],[153,6,218,2],[155,6,220,2],[156,6,221,2,"results"],[156,13,221,9],[156,14,221,10,"sort"],[156,18,221,14],[156,19,221,15],[156,20,221,16,"a"],[156,21,221,17],[156,23,221,19,"b"],[156,24,221,20],[156,29,221,25],[157,8,222,4],[157,12,222,10,"dateA"],[157,17,222,15],[157,20,222,18,"a"],[157,21,222,19],[157,22,222,20,"lastMessage"],[157,33,222,31],[157,35,222,33,"createdAt"],[157,44,222,42],[157,48,222,46],[157,50,222,48],[158,8,223,4],[158,12,223,10,"dateB"],[158,17,223,15],[158,20,223,18,"b"],[158,21,223,19],[158,22,223,20,"lastMessage"],[158,33,223,31],[158,35,223,33,"createdAt"],[158,44,223,42],[158,48,223,46],[158,50,223,48],[159,8,224,4],[159,15,224,11,"dateB"],[159,20,224,16],[159,21,224,17,"localeCompare"],[159,34,224,30],[159,35,224,31,"dateA"],[159,40,224,36],[159,41,224,37],[160,6,225,2],[160,7,225,3],[160,8,225,4],[161,6,227,2],[161,13,227,9,"results"],[161,20,227,16],[162,4,228,0],[162,5,228,1],[163,4,228,1],[163,20,34,13,"fetchConversations"],[163,38,34,31,"fetchConversations"],[163,39,34,31,"_x"],[163,41,34,31],[164,6,34,31],[164,13,34,31,"_ref"],[164,17,34,31],[164,18,34,31,"apply"],[164,23,34,31],[164,30,34,31,"arguments"],[164,39,34,31],[165,4,34,31],[166,2,34,31],[166,5,228,1],[168,2,230,0],[169,0,231,0],[170,0,232,0],[171,2,233,0],[171,6,233,6,"useConversations"],[171,22,233,22],[171,25,233,25,"useConversations"],[171,26,233,25],[171,31,233,31],[172,4,233,31,"_s"],[172,6,233,31],[173,4,234,2],[173,8,234,2,"_useAuth"],[173,16,234,2],[173,19,234,19],[173,23,234,19,"useAuth"],[173,43,234,26],[173,44,234,26,"useAuth"],[173,51,234,26],[173,53,234,27],[173,54,234,28],[174,6,234,10,"user"],[174,10,234,14],[174,13,234,14,"_useAuth"],[174,21,234,14],[174,22,234,10,"user"],[174,26,234,14],[175,4,236,2],[175,11,236,9],[175,15,236,9,"useQuery"],[175,34,236,17],[175,35,236,17,"useQuery"],[175,43,236,17],[175,45,236,18],[176,6,237,4,"queryKey"],[176,14,237,12],[176,16,237,14,"chatKeys"],[176,26,237,22],[176,27,237,22,"chatKeys"],[176,35,237,22],[176,36,237,23,"conversations"],[176,49,237,36],[176,50,237,37],[176,51,237,38],[177,6,238,4,"queryFn"],[177,13,238,11],[177,15,238,13,"queryFn"],[177,16,238,13],[177,21,238,19,"fetchConversations"],[177,39,238,37],[177,40,238,38,"user"],[177,44,238,42],[177,45,238,44,"id"],[177,47,238,46],[177,48,238,47],[178,6,239,4,"enabled"],[178,13,239,11],[178,15,239,13],[178,16,239,14],[178,17,239,15,"user"],[179,4,240,2],[179,5,240,3],[179,6,240,4],[180,2,241,0],[180,3,241,1],[181,2,241,2,"_s"],[181,4,241,2],[181,5,233,6,"useConversations"],[181,21,233,22],[182,4,233,22],[182,12,234,19,"useAuth"],[182,32,234,26],[182,33,234,26,"useAuth"],[182,40,234,26],[182,42,236,9,"useQuery"],[182,61,236,17],[182,62,236,17,"useQuery"],[182,70,236,17],[183,2,236,17],[184,2,243,0],[184,6,243,0,"_default"],[184,14,243,0],[184,17,243,15,"useConversations"],[184,33,243,31],[185,0,243,32],[185,3]],"functionMap":{"names":["<global>","fetchConversations","map$argument_0","slice.map$argument_0","results.sort$argument_0","useConversations","useQuery$argument_0.queryFn"],"mappings":"AAA;kCCiC;mCCsE,mBD;mCCC,mBD;yBCW,gBD;2BC+B;KDG;6BCW,sCD;WEiC,yBF;eG2B;GHI;CDG;yBKK;aCK,kCD;CLG"},"hasCjsExports":false},"type":"js/module"}]}