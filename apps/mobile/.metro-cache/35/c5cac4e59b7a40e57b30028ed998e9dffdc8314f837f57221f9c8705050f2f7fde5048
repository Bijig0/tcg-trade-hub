{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":68,"index":68}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":69},"end":{"line":2,"column":42,"index":111}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":112},"end":{"line":3,"column":49,"index":161}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":162},"end":{"line":4,"column":49,"index":211}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _contextAuthProvider = require(_dependencyMap[3], \"@/context/AuthProvider\");\n  var _queryKeys = require(_dependencyMap[4], \"../../queryKeys\");\n  /** Adds a card to the current user's collection as a unique item (each physical card = 1 row) */\n  var useAddCollectionItem = function useAddCollectionItem() {\n    _s();\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    return (0, _tanstackReactQuery.useMutation)({\n      mutationFn: function () {\n        var _mutationFn = (0, _asyncToGenerator.default)(function* (item) {\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('collection_items').insert(Object.assign({\n              user_id: user.id\n            }, item)).select().single(),\n            data = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          return data;\n        });\n        function mutationFn(_x) {\n          return _mutationFn.apply(this, arguments);\n        }\n        return mutationFn;\n      }(),\n      onSuccess: function onSuccess() {\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.collectionKeys.myCollection()\n        });\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.collectionKeys.portfolioValue()\n        });\n      }\n    });\n  };\n  _s(useAddCollectionItem, \"dnbh6EEK3obsACI89MEmdRnG9p0=\", false, function () {\n    return [_contextAuthProvider.useAuth, _tanstackReactQuery.useQueryClient, _tanstackReactQuery.useMutation];\n  });\n  var _default = useAddCollectionItem;\n});","lineCount":61,"map":[[13,2,33,0,"Object"],[13,8,33,0],[13,9,33,0,"defineProperty"],[13,23,33,0],[13,24,33,0,"exports"],[13,31,33,0],[14,4,33,0,"enumerable"],[14,14,33,0],[15,4,33,0,"get"],[15,7,33,0],[15,18,33,0,"get"],[15,19,33,0],[16,6,33,0],[16,13,33,0,"_default"],[16,21,33,0],[17,4,33,0],[18,2,33,0],[19,2,33,36],[19,6,33,36,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,33,36],[19,45,33,36,"require"],[19,52,33,36],[19,53,33,36,"_dependencyMap"],[19,67,33,36],[20,2,33,36],[20,6,33,36,"_asyncToGenerator"],[20,23,33,36],[20,26,33,36,"_interopDefault"],[20,41,33,36],[20,42,33,36,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,33,36],[21,2,1,0],[21,6,1,0,"_tanstackReactQuery"],[21,25,1,0],[21,28,1,0,"require"],[21,35,1,0],[21,36,1,0,"_dependencyMap"],[21,50,1,0],[22,2,2,0],[22,6,2,0,"_libSupabase"],[22,18,2,0],[22,21,2,0,"require"],[22,28,2,0],[22,29,2,0,"_dependencyMap"],[22,43,2,0],[23,2,3,0],[23,6,3,0,"_contextAuthProvider"],[23,26,3,0],[23,29,3,0,"require"],[23,36,3,0],[23,37,3,0,"_dependencyMap"],[23,51,3,0],[24,2,4,0],[24,6,4,0,"_queryKeys"],[24,16,4,0],[24,19,4,0,"require"],[24,26,4,0],[24,27,4,0,"_dependencyMap"],[24,41,4,0],[25,2,7,0],[26,2,8,0],[26,6,8,6,"useAddCollectionItem"],[26,26,8,26],[26,29,8,29],[26,38,8,6,"useAddCollectionItem"],[26,58,8,26,"useAddCollectionItem"],[26,59,8,26],[26,61,8,35],[27,4,8,35,"_s"],[27,6,8,35],[28,4,9,2],[28,8,9,2,"_useAuth"],[28,16,9,2],[28,19,9,19],[28,23,9,19,"useAuth"],[28,43,9,26],[28,44,9,26,"useAuth"],[28,51,9,26],[28,53,9,27],[28,54,9,28],[29,6,9,10,"user"],[29,10,9,14],[29,13,9,14,"_useAuth"],[29,21,9,14],[29,22,9,10,"user"],[29,26,9,14],[30,4,10,2],[30,8,10,8,"queryClient"],[30,19,10,19],[30,22,10,22],[30,26,10,22,"useQueryClient"],[30,45,10,36],[30,46,10,36,"useQueryClient"],[30,60,10,36],[30,62,10,37],[30,63,10,38],[31,4,12,2],[31,11,12,9],[31,15,12,9,"useMutation"],[31,34,12,20],[31,35,12,20,"useMutation"],[31,46,12,20],[31,48,12,21],[32,6,13,4,"mutationFn"],[32,16,13,14],[33,8,13,14],[33,12,13,14,"_mutationFn"],[33,23,13,14],[33,30,13,14,"_asyncToGenerator"],[33,47,13,14],[33,48,13,14,"default"],[33,55,13,14],[33,57,13,16],[33,68,13,23,"item"],[33,72,13,46],[33,74,13,51],[34,10,14,6],[34,14,14,6,"_yield$supabase$from$"],[34,35,14,6],[34,44,14,36,"supabase"],[34,56,14,44],[34,57,14,44,"supabase"],[34,65,14,44],[34,66,15,9,"from"],[34,70,15,13],[34,71,15,14],[34,89,15,32],[34,90,15,33],[34,91,16,9,"insert"],[34,97,16,15],[34,98,16,15,"Object"],[34,104,16,15],[34,105,16,15,"assign"],[34,111,16,15],[35,14,17,10,"user_id"],[35,21,17,17],[35,23,17,19,"user"],[35,27,17,23],[35,28,17,25,"id"],[36,12,17,27],[36,15,18,13,"item"],[36,19,18,17],[36,20,19,9],[36,21,19,10],[36,22,20,9,"select"],[36,28,20,15],[36,29,20,16],[36,30,20,17],[36,31,21,9,"single"],[36,37,21,15],[36,38,21,16],[36,39,21,17],[37,12,14,14,"data"],[37,16,14,18],[37,19,14,18,"_yield$supabase$from$"],[37,40,14,18],[37,41,14,14,"data"],[37,45,14,18],[38,12,14,20,"error"],[38,17,14,25],[38,20,14,25,"_yield$supabase$from$"],[38,41,14,25],[38,42,14,20,"error"],[38,47,14,25],[39,10,23,6],[39,14,23,10,"error"],[39,19,23,15],[39,21,23,17],[39,27,23,23,"error"],[39,32,23,28],[40,10,24,6],[40,17,24,13,"data"],[40,21,24,17],[41,8,25,4],[41,9,25,5],[42,8,25,5],[42,17,13,4,"mutationFn"],[42,27,13,14,"mutationFn"],[42,28,13,14,"_x"],[42,30,13,14],[43,10,13,14],[43,17,13,14,"_mutationFn"],[43,28,13,14],[43,29,13,14,"apply"],[43,34,13,14],[43,41,13,14,"arguments"],[43,50,13,14],[44,8,13,14],[45,8,13,14],[45,15,13,4,"mutationFn"],[45,25,13,14],[46,6,13,14],[46,9,25,5],[47,6,26,4,"onSuccess"],[47,15,26,13],[47,17,26,15],[47,26,26,4,"onSuccess"],[47,35,26,13,"onSuccess"],[47,36,26,13],[47,38,26,21],[48,8,27,6,"queryClient"],[48,19,27,17],[48,20,27,18,"invalidateQueries"],[48,37,27,35],[48,38,27,36],[49,10,27,38,"queryKey"],[49,18,27,46],[49,20,27,48,"collectionKeys"],[49,30,27,62],[49,31,27,62,"collectionKeys"],[49,45,27,62],[49,46,27,63,"myCollection"],[49,58,27,75],[49,59,27,76],[50,8,27,78],[50,9,27,79],[50,10,27,80],[51,8,28,6,"queryClient"],[51,19,28,17],[51,20,28,18,"invalidateQueries"],[51,37,28,35],[51,38,28,36],[52,10,28,38,"queryKey"],[52,18,28,46],[52,20,28,48,"collectionKeys"],[52,30,28,62],[52,31,28,62,"collectionKeys"],[52,45,28,62],[52,46,28,63,"portfolioValue"],[52,60,28,77],[52,61,28,78],[53,8,28,80],[53,9,28,81],[53,10,28,82],[54,6,29,4],[55,4,30,2],[55,5,30,3],[55,6,30,4],[56,2,31,0],[56,3,31,1],[57,2,31,2,"_s"],[57,4,31,2],[57,5,8,6,"useAddCollectionItem"],[57,25,8,26],[58,4,8,26],[58,12,9,19,"useAuth"],[58,32,9,26],[58,33,9,26,"useAuth"],[58,40,9,26],[58,42,10,22,"useQueryClient"],[58,61,10,36],[58,62,10,36,"useQueryClient"],[58,76,10,36],[58,78,12,9,"useMutation"],[58,97,12,20],[58,98,12,20,"useMutation"],[58,109,12,20],[59,2,12,20],[60,2,33,0],[60,6,33,0,"_default"],[60,14,33,0],[60,17,33,15,"useAddCollectionItem"],[60,37,33,35],[61,0,33,36],[61,3]],"functionMap":{"names":["<global>","useAddCollectionItem","useMutation$argument_0.mutationFn","useMutation$argument_0.onSuccess"],"mappings":"AAA;6BCO;gBCK;KDY;eEC;KFG;CDE"},"hasCjsExports":false},"type":"js/module"}]}