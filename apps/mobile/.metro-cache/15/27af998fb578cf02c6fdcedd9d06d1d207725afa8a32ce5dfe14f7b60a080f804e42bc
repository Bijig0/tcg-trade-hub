{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":42,"index":92}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":45,"index":138}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _queryKeys = require(_dependencyMap[3], \"../../queryKeys\");\n  /**\n   * Hook that fetches a single meetup by ID with all joined data.\n   *\n   * Resolves the match, both users, the shop location, and the related\n   * conversation for the match.\n   */\n  var useMeetupDetail = function useMeetupDetail(meetupId) {\n    _s();\n    return (0, _tanstackReactQuery.useQuery)({\n      queryKey: _queryKeys.meetupKeys.detail(meetupId),\n      queryFn: function () {\n        var _queryFn = (0, _asyncToGenerator.default)(function* () {\n          var _session$user;\n          var _yield$supabase$auth$ = yield _libSupabase.supabase.auth.getSession(),\n            session = _yield$supabase$auth$.data.session;\n          var user = (_session$user = session == null ? void 0 : session.user) != null ? _session$user : null;\n          if (!user) throw new Error('Not authenticated');\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('meetups').select(`\n          id,\n          match_id,\n          proposal_message_id,\n          shop_id,\n          location_name,\n          proposed_time,\n          status,\n          user_a_completed,\n          user_b_completed,\n          created_at,\n          updated_at,\n          match:matches (\n            id,\n            user_a_id,\n            user_b_id,\n            listing_a_id,\n            listing_b_id,\n            status,\n            created_at,\n            updated_at\n          ),\n          shop:shops (\n            id,\n            name,\n            address,\n            hours,\n            website,\n            phone,\n            supported_tcgs,\n            verified,\n            created_at,\n            updated_at\n          )\n        `).eq('id', meetupId).single(),\n            meetup = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          if (!meetup) throw new Error('Meetup not found');\n          var match = meetup.match;\n          var isUserA = match.user_a_id === user.id;\n          var otherUserId = isUserA ? match.user_b_id : match.user_a_id;\n\n          // Fetch other user's profile\n          var _yield$supabase$from$2 = yield _libSupabase.supabase.from('users').select('id, display_name, avatar_url, rating_score, total_trades').eq('id', otherUserId).single(),\n            otherUser = _yield$supabase$from$2.data,\n            userError = _yield$supabase$from$2.error;\n          if (userError) throw userError;\n\n          // Fetch the conversation for this match\n          var _yield$supabase$from$3 = yield _libSupabase.supabase.from('conversations').select('id').eq('match_id', match.id).single(),\n            conversation = _yield$supabase$from$3.data;\n          return Object.assign({}, meetup, {\n            match: match,\n            shop: meetup.shop,\n            other_user: otherUser != null ? otherUser : {\n              id: otherUserId,\n              display_name: 'Unknown',\n              avatar_url: null,\n              rating_score: 0,\n              total_trades: 0\n            },\n            conversation: conversation != null ? conversation : null,\n            is_user_a: isUserA\n          });\n        });\n        function queryFn() {\n          return _queryFn.apply(this, arguments);\n        }\n        return queryFn;\n      }(),\n      enabled: !!meetupId\n    });\n  };\n  _s(useMeetupDetail, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n    return [_tanstackReactQuery.useQuery];\n  });\n  var _default = useMeetupDetail;\n});","lineCount":119,"map":[[13,2,124,0,"Object"],[13,8,124,0],[13,9,124,0,"defineProperty"],[13,23,124,0],[13,24,124,0,"exports"],[13,31,124,0],[14,4,124,0,"enumerable"],[14,14,124,0],[15,4,124,0,"get"],[15,7,124,0],[15,18,124,0,"get"],[15,19,124,0],[16,6,124,0],[16,13,124,0,"_default"],[16,21,124,0],[17,4,124,0],[18,2,124,0],[19,2,124,31],[19,6,124,31,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,124,31],[19,45,124,31,"require"],[19,52,124,31],[19,53,124,31,"_dependencyMap"],[19,67,124,31],[20,2,124,31],[20,6,124,31,"_asyncToGenerator"],[20,23,124,31],[20,26,124,31,"_interopDefault"],[20,41,124,31],[20,42,124,31,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,124,31],[21,2,1,0],[21,6,1,0,"_tanstackReactQuery"],[21,25,1,0],[21,28,1,0,"require"],[21,35,1,0],[21,36,1,0,"_dependencyMap"],[21,50,1,0],[22,2,2,0],[22,6,2,0,"_libSupabase"],[22,18,2,0],[22,21,2,0,"require"],[22,28,2,0],[22,29,2,0,"_dependencyMap"],[22,43,2,0],[23,2,3,0],[23,6,3,0,"_queryKeys"],[23,16,3,0],[23,19,3,0,"require"],[23,26,3,0],[23,27,3,0,"_dependencyMap"],[23,41,3,0],[24,2,23,0],[25,0,24,0],[26,0,25,0],[27,0,26,0],[28,0,27,0],[29,0,28,0],[30,2,29,0],[30,6,29,6,"useMeetupDetail"],[30,21,29,21],[30,24,29,24],[30,33,29,6,"useMeetupDetail"],[30,48,29,21,"useMeetupDetail"],[30,49,29,25,"meetupId"],[30,57,29,41],[30,59,29,46],[31,4,29,46,"_s"],[31,6,29,46],[32,4,30,2],[32,11,30,9],[32,15,30,9,"useQuery"],[32,34,30,17],[32,35,30,17,"useQuery"],[32,43,30,17],[32,45,30,39],[33,6,31,4,"queryKey"],[33,14,31,12],[33,16,31,14,"meetupKeys"],[33,26,31,24],[33,27,31,24,"meetupKeys"],[33,37,31,24],[33,38,31,25,"detail"],[33,44,31,31],[33,45,31,32,"meetupId"],[33,53,31,40],[33,54,31,41],[34,6,32,4,"queryFn"],[34,13,32,11],[35,8,32,11],[35,12,32,11,"_queryFn"],[35,20,32,11],[35,27,32,11,"_asyncToGenerator"],[35,44,32,11],[35,45,32,11,"default"],[35,52,32,11],[35,54,32,13],[35,67,32,25],[36,10,32,25],[36,14,32,25,"_session$user"],[36,27,32,25],[37,10,33,6],[37,14,33,6,"_yield$supabase$auth$"],[37,35,33,6],[37,44,35,16,"supabase"],[37,56,35,24],[37,57,35,24,"supabase"],[37,65,35,24],[37,66,35,25,"auth"],[37,70,35,29],[37,71,35,30,"getSession"],[37,81,35,40],[37,82,35,41],[37,83,35,42],[38,12,34,16,"session"],[38,19,34,23],[38,22,34,23,"_yield$supabase$auth$"],[38,43,34,23],[38,44,34,8,"data"],[38,48,34,12],[38,49,34,16,"session"],[38,56,34,23],[39,10,36,6],[39,14,36,12,"user"],[39,18,36,16],[39,22,36,16,"_session$user"],[39,35,36,16],[39,38,36,19,"session"],[39,45,36,26],[39,65,36,19,"session"],[39,72,36,26],[39,73,36,28,"user"],[39,77,36,32],[39,89,36,32,"_session$user"],[39,102,36,32],[39,105,36,36],[39,109,36,40],[40,10,38,6],[40,14,38,10],[40,15,38,11,"user"],[40,19,38,15],[40,21,38,17],[40,27,38,23],[40,31,38,27,"Error"],[40,36,38,32],[40,37,38,33],[40,56,38,52],[40,57,38,53],[41,10,40,6],[41,14,40,6,"_yield$supabase$from$"],[41,35,40,6],[41,44,40,44,"supabase"],[41,56,40,52],[41,57,40,52,"supabase"],[41,65,40,52],[41,66,41,9,"from"],[41,70,41,13],[41,71,41,14],[41,80,41,23],[41,81,41,24],[41,82,42,9,"select"],[41,88,42,15],[41,89,43,10],[42,0,44,0],[43,0,45,0],[44,0,46,0],[45,0,47,0],[46,0,48,0],[47,0,49,0],[48,0,50,0],[49,0,51,0],[50,0,52,0],[51,0,53,0],[52,0,54,0],[53,0,55,0],[54,0,56,0],[55,0,57,0],[56,0,58,0],[57,0,59,0],[58,0,60,0],[59,0,61,0],[60,0,62,0],[61,0,63,0],[62,0,64,0],[63,0,65,0],[64,0,66,0],[65,0,67,0],[66,0,68,0],[67,0,69,0],[68,0,70,0],[69,0,71,0],[70,0,72,0],[71,0,73,0],[72,0,74,0],[73,0,75,0],[74,0,76,0],[75,0,77,0],[75,9,78,8],[75,10,78,9],[75,11,79,9,"eq"],[75,13,79,11],[75,14,79,12],[75,18,79,16],[75,20,79,18,"meetupId"],[75,28,79,26],[75,29,79,27],[75,30,80,9,"single"],[75,36,80,15],[75,37,80,16],[75,38,80,17],[76,12,40,20,"meetup"],[76,18,40,26],[76,21,40,26,"_yield$supabase$from$"],[76,42,40,26],[76,43,40,14,"data"],[76,47,40,18],[77,12,40,28,"error"],[77,17,40,33],[77,20,40,33,"_yield$supabase$from$"],[77,41,40,33],[77,42,40,28,"error"],[77,47,40,33],[78,10,82,6],[78,14,82,10,"error"],[78,19,82,15],[78,21,82,17],[78,27,82,23,"error"],[78,32,82,28],[79,10,83,6],[79,14,83,10],[79,15,83,11,"meetup"],[79,21,83,17],[79,23,83,19],[79,29,83,25],[79,33,83,29,"Error"],[79,38,83,34],[79,39,83,35],[79,57,83,53],[79,58,83,54],[80,10,85,6],[80,14,85,12,"match"],[80,19,85,17],[80,22,85,21,"meetup"],[80,28,85,27],[80,29,85,56,"match"],[80,34,85,73],[81,10,86,6],[81,14,86,12,"isUserA"],[81,21,86,19],[81,24,86,22,"match"],[81,29,86,27],[81,30,86,28,"user_a_id"],[81,39,86,37],[81,44,86,42,"user"],[81,48,86,46],[81,49,86,47,"id"],[81,51,86,49],[82,10,87,6],[82,14,87,12,"otherUserId"],[82,25,87,23],[82,28,87,26,"isUserA"],[82,35,87,33],[82,38,87,36,"match"],[82,43,87,41],[82,44,87,42,"user_b_id"],[82,53,87,51],[82,56,87,54,"match"],[82,61,87,59],[82,62,87,60,"user_a_id"],[82,71,87,69],[84,10,89,6],[85,10,90,6],[85,14,90,6,"_yield$supabase$from$2"],[85,36,90,6],[85,45,90,58,"supabase"],[85,57,90,66],[85,58,90,66,"supabase"],[85,66,90,66],[85,67,91,9,"from"],[85,71,91,13],[85,72,91,14],[85,79,91,21],[85,80,91,22],[85,81,92,9,"select"],[85,87,92,15],[85,88,92,16],[85,146,92,74],[85,147,92,75],[85,148,93,9,"eq"],[85,150,93,11],[85,151,93,12],[85,155,93,16],[85,157,93,18,"otherUserId"],[85,168,93,29],[85,169,93,30],[85,170,94,9,"single"],[85,176,94,15],[85,177,94,16],[85,178,94,17],[86,12,90,20,"otherUser"],[86,21,90,29],[86,24,90,29,"_yield$supabase$from$2"],[86,46,90,29],[86,47,90,14,"data"],[86,51,90,18],[87,12,90,38,"userError"],[87,21,90,47],[87,24,90,47,"_yield$supabase$from$2"],[87,46,90,47],[87,47,90,31,"error"],[87,52,90,36],[88,10,96,6],[88,14,96,10,"userError"],[88,23,96,19],[88,25,96,21],[88,31,96,27,"userError"],[88,40,96,36],[90,10,98,6],[91,10,99,6],[91,14,99,6,"_yield$supabase$from$3"],[91,36,99,6],[91,45,99,43,"supabase"],[91,57,99,51],[91,58,99,51,"supabase"],[91,66,99,51],[91,67,100,9,"from"],[91,71,100,13],[91,72,100,14],[91,87,100,29],[91,88,100,30],[91,89,101,9,"select"],[91,95,101,15],[91,96,101,16],[91,100,101,20],[91,101,101,21],[91,102,102,9,"eq"],[91,104,102,11],[91,105,102,12],[91,115,102,22],[91,117,102,24,"match"],[91,122,102,29],[91,123,102,30,"id"],[91,125,102,32],[91,126,102,33],[91,127,103,9,"single"],[91,133,103,15],[91,134,103,16],[91,135,103,17],[92,12,99,20,"conversation"],[92,24,99,32],[92,27,99,32,"_yield$supabase$from$3"],[92,49,99,32],[92,50,99,14,"data"],[92,54,99,18],[93,10,105,6],[93,17,105,6,"Object"],[93,23,105,6],[93,24,105,6,"assign"],[93,30,105,6],[93,35,106,12,"meetup"],[93,41,106,18],[94,12,107,8,"match"],[94,17,107,13],[94,19,107,8,"match"],[94,24,107,13],[95,12,108,8,"shop"],[95,16,108,12],[95,18,108,15,"meetup"],[95,24,108,21],[95,25,108,50,"shop"],[95,29,108,72],[96,12,109,8,"other_user"],[96,22,109,18],[96,24,109,20,"otherUser"],[96,33,109,29],[96,44,109,20,"otherUser"],[96,53,109,29],[96,56,109,33],[97,14,110,10,"id"],[97,16,110,12],[97,18,110,14,"otherUserId"],[97,29,110,25],[98,14,111,10,"display_name"],[98,26,111,22],[98,28,111,24],[98,37,111,33],[99,14,112,10,"avatar_url"],[99,24,112,20],[99,26,112,22],[99,30,112,26],[100,14,113,10,"rating_score"],[100,26,113,22],[100,28,113,24],[100,29,113,25],[101,14,114,10,"total_trades"],[101,26,114,22],[101,28,114,24],[102,12,115,8],[102,13,115,9],[103,12,116,8,"conversation"],[103,24,116,20],[103,26,116,22,"conversation"],[103,38,116,34],[103,49,116,22,"conversation"],[103,61,116,34],[103,64,116,38],[103,68,116,42],[104,12,117,8,"is_user_a"],[104,21,117,17],[104,23,117,19,"isUserA"],[105,10,117,26],[106,8,119,4],[106,9,119,5],[107,8,119,5],[107,17,32,4,"queryFn"],[107,24,32,11,"queryFn"],[107,25,32,11],[108,10,32,11],[108,17,32,11,"_queryFn"],[108,25,32,11],[108,26,32,11,"apply"],[108,31,32,11],[108,38,32,11,"arguments"],[108,47,32,11],[109,8,32,11],[110,8,32,11],[110,15,32,4,"queryFn"],[110,22,32,11],[111,6,32,11],[111,9,119,5],[112,6,120,4,"enabled"],[112,13,120,11],[112,15,120,13],[112,16,120,14],[112,17,120,15,"meetupId"],[113,4,121,2],[113,5,121,3],[113,6,121,4],[114,2,122,0],[114,3,122,1],[115,2,122,2,"_s"],[115,4,122,2],[115,5,29,6,"useMeetupDetail"],[115,20,29,21],[116,4,29,21],[116,12,30,9,"useQuery"],[116,31,30,17],[116,32,30,17,"useQuery"],[116,40,30,17],[117,2,30,17],[118,2,124,0],[118,6,124,0,"_default"],[118,14,124,0],[118,17,124,15,"useMeetupDetail"],[118,32,124,30],[119,0,124,31],[119,3]],"functionMap":{"names":["<global>","useMeetupDetail","useQuery$argument_0.queryFn"],"mappings":"AAA;wBC4B;aCG;KDuF;CDG"},"hasCjsExports":false},"type":"js/module"}]}