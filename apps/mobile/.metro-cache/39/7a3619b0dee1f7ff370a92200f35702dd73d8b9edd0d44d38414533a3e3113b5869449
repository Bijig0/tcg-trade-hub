{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":55,"index":90}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":91},"end":{"line":3,"column":42,"index":133}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":134},"end":{"line":4,"column":45,"index":179}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _react = require(_dependencyMap[0]);\n  var _tanstackReactQuery = require(_dependencyMap[1]);\n  var _libSupabase = require(_dependencyMap[2]);\n  var _queryKeys = require(_dependencyMap[3]);\n  /**\n   * Subscribes to Supabase Realtime postgres_changes on the meetups table\n   * for a specific meetup ID. When the meetup is updated, invalidates\n   * the detail and list queries to reflect the new state.\n   */\n  var useRealtimeMeetupUpdates = meetupId => {\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    (0, _react.useEffect)(() => {\n      if (!meetupId) return;\n      var channel = _libSupabase.supabase.channel(`meetup-updates-${meetupId}`).on('postgres_changes', {\n        event: 'UPDATE',\n        schema: 'public',\n        table: 'meetups',\n        filter: `id=eq.${meetupId}`\n      }, () => {\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.meetupKeys.detail(meetupId)\n        });\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.meetupKeys.all\n        });\n      }).subscribe();\n      return () => {\n        _libSupabase.supabase.removeChannel(channel);\n      };\n    }, [meetupId, queryClient]);\n  };\n  var _default = useRealtimeMeetupUpdates;\n});","lineCount":45,"map":[[7,2,40,0,"Object"],[7,8,40,0],[7,9,40,0,"defineProperty"],[7,23,40,0],[7,24,40,0,"exports"],[7,31,40,0],[8,4,40,0,"enumerable"],[8,14,40,0],[9,4,40,0,"get"],[9,7,40,0],[9,18,40,0,"get"],[9,19,40,0],[10,6,40,0],[10,13,40,0,"_default"],[10,21,40,0],[11,4,40,0],[12,2,40,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,2,0],[14,6,2,0,"_tanstackReactQuery"],[14,25,2,0],[14,28,2,0,"require"],[14,35,2,0],[14,36,2,0,"_dependencyMap"],[14,50,2,0],[15,2,3,0],[15,6,3,0,"_libSupabase"],[15,18,3,0],[15,21,3,0,"require"],[15,28,3,0],[15,29,3,0,"_dependencyMap"],[15,43,3,0],[16,2,4,0],[16,6,4,0,"_queryKeys"],[16,16,4,0],[16,19,4,0,"require"],[16,26,4,0],[16,27,4,0,"_dependencyMap"],[16,41,4,0],[17,2,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,0,10,0],[22,2,11,0],[22,6,11,6,"useRealtimeMeetupUpdates"],[22,30,11,30],[22,33,11,34,"meetupId"],[22,41,11,50],[22,45,11,55],[23,4,12,2],[23,8,12,8,"queryClient"],[23,19,12,19],[23,22,12,22],[23,26,12,22,"useQueryClient"],[23,45,12,36],[23,46,12,36,"useQueryClient"],[23,60,12,36],[23,62,12,37],[23,63,12,38],[24,4,14,2],[24,8,14,2,"useEffect"],[24,14,14,11],[24,15,14,11,"useEffect"],[24,24,14,11],[24,26,14,12],[24,32,14,18],[25,6,15,4],[25,10,15,8],[25,11,15,9,"meetupId"],[25,19,15,17],[25,21,15,19],[26,6,17,4],[26,10,17,10,"channel"],[26,17,17,17],[26,20,17,20,"supabase"],[26,32,17,28],[26,33,17,28,"supabase"],[26,41,17,28],[26,42,18,7,"channel"],[26,49,18,14],[26,50,18,15],[26,68,18,33,"meetupId"],[26,76,18,41],[26,78,18,43],[26,79,18,44],[26,80,19,7,"on"],[26,82,19,9],[26,83,20,8],[26,101,20,26],[26,103,21,8],[27,8,22,10,"event"],[27,13,22,15],[27,15,22,17],[27,23,22,25],[28,8,23,10,"schema"],[28,14,23,16],[28,16,23,18],[28,24,23,26],[29,8,24,10,"table"],[29,13,24,15],[29,15,24,17],[29,24,24,26],[30,8,25,10,"filter"],[30,14,25,16],[30,16,25,18],[30,25,25,27,"meetupId"],[30,33,25,35],[31,6,26,8],[31,7,26,9],[31,9,27,8],[31,15,27,14],[32,8,28,10,"queryClient"],[32,19,28,21],[32,20,28,22,"invalidateQueries"],[32,37,28,39],[32,38,28,40],[33,10,28,42,"queryKey"],[33,18,28,50],[33,20,28,52,"meetupKeys"],[33,30,28,62],[33,31,28,62,"meetupKeys"],[33,41,28,62],[33,42,28,63,"detail"],[33,48,28,69],[33,49,28,70,"meetupId"],[33,57,28,78],[34,8,28,80],[34,9,28,81],[34,10,28,82],[35,8,29,10,"queryClient"],[35,19,29,21],[35,20,29,22,"invalidateQueries"],[35,37,29,39],[35,38,29,40],[36,10,29,42,"queryKey"],[36,18,29,50],[36,20,29,52,"meetupKeys"],[36,30,29,62],[36,31,29,62,"meetupKeys"],[36,41,29,62],[36,42,29,63,"all"],[37,8,29,67],[37,9,29,68],[37,10,29,69],[38,6,30,8],[38,7,31,6],[38,8,31,7],[38,9,32,7,"subscribe"],[38,18,32,16],[38,19,32,17],[38,20,32,18],[39,6,34,4],[39,13,34,11],[39,19,34,17],[40,8,35,6,"supabase"],[40,20,35,14],[40,21,35,14,"supabase"],[40,29,35,14],[40,30,35,15,"removeChannel"],[40,43,35,28],[40,44,35,29,"channel"],[40,51,35,36],[40,52,35,37],[41,6,36,4],[41,7,36,5],[42,4,37,2],[42,5,37,3],[42,7,37,5],[42,8,37,6,"meetupId"],[42,16,37,14],[42,18,37,16,"queryClient"],[42,29,37,27],[42,30,37,28],[42,31,37,29],[43,2,38,0],[43,3,38,1],[44,2,40,0],[44,6,40,0,"_default"],[44,14,40,0],[44,17,40,15,"useRealtimeMeetupUpdates"],[44,41,40,39],[45,0,40,40],[45,3]],"functionMap":{"names":["<global>","useRealtimeMeetupUpdates","useEffect$argument_0","supabase.channel.on$argument_2","<anonymous>"],"mappings":"AAA;iCCU;YCG;QCa;SDG;WEI;KFE;GDC;CDC"},"hasCjsExports":false},"type":"js/module"}]}