{"dependencies":[{"name":"@tcg-trade-hub/database","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":65,"index":65}}],"key":"5m5x3CfVnTLecgF7rw3ym/c0mII=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _tcgTradeHubDatabase = require(_dependencyMap[0]);\n  /**\n   * Parses and normalizes a card_offer message payload into a\n   * display-friendly shape. Returns null if the payload is invalid.\n   *\n   * Accepts the inner payload object (not the message wrapper).\n   */\n  var parseOfferPayload = raw => {\n    var result = _tcgTradeHubDatabase.CardOfferPayloadSchema.safeParse(raw);\n    if (!result.success) return null;\n    var data = result.data;\n    return {\n      offering: data.offering,\n      requesting: data.requesting,\n      cashAmount: data.cash_amount ?? null,\n      cashDirection: data.cash_direction ?? null,\n      note: data.note ?? null,\n      isTradeOnly: !data.cash_amount,\n      offeringCount: data.offering.length,\n      requestingCount: data.requesting.length\n    };\n  };\n  var _default = parseOfferPayload;\n});","lineCount":36,"map":[[7,2,42,0,"Object"],[7,8,42,0],[7,9,42,0,"defineProperty"],[7,23,42,0],[7,24,42,0,"exports"],[7,31,42,0],[8,4,42,0,"enumerable"],[8,14,42,0],[9,4,42,0,"get"],[9,7,42,0],[9,18,42,0,"get"],[9,19,42,0],[10,6,42,0],[10,13,42,0,"_default"],[10,21,42,0],[11,4,42,0],[12,2,42,0],[13,2,1,0],[13,6,1,0,"_tcgTradeHubDatabase"],[13,26,1,0],[13,29,1,0,"require"],[13,36,1,0],[13,37,1,0,"_dependencyMap"],[13,51,1,0],[14,2,17,0],[15,0,18,0],[16,0,19,0],[17,0,20,0],[18,0,21,0],[19,0,22,0],[20,2,23,0],[20,6,23,6,"parseOfferPayload"],[20,23,23,23],[20,26,23,27,"raw"],[20,29,23,39],[20,33,23,64],[21,4,24,2],[21,8,24,8,"result"],[21,14,24,14],[21,17,24,17,"CardOfferPayloadSchema"],[21,37,24,39],[21,38,24,39,"CardOfferPayloadSchema"],[21,60,24,39],[21,61,24,40,"safeParse"],[21,70,24,49],[21,71,24,50,"raw"],[21,74,24,53],[21,75,24,54],[22,4,26,2],[22,8,26,6],[22,9,26,7,"result"],[22,15,26,13],[22,16,26,14,"success"],[22,23,26,21],[22,25,26,23],[22,32,26,30],[22,36,26,34],[23,4,28,2],[23,8,28,8,"data"],[23,12,28,12],[23,15,28,15,"result"],[23,21,28,21],[23,22,28,22,"data"],[23,26,28,26],[24,4,30,2],[24,11,30,9],[25,6,31,4,"offering"],[25,14,31,12],[25,16,31,14,"data"],[25,20,31,18],[25,21,31,19,"offering"],[25,29,31,27],[26,6,32,4,"requesting"],[26,16,32,14],[26,18,32,16,"data"],[26,22,32,20],[26,23,32,21,"requesting"],[26,33,32,31],[27,6,33,4,"cashAmount"],[27,16,33,14],[27,18,33,16,"data"],[27,22,33,20],[27,23,33,21,"cash_amount"],[27,34,33,32],[27,38,33,36],[27,42,33,40],[28,6,34,4,"cashDirection"],[28,19,34,17],[28,21,34,19,"data"],[28,25,34,23],[28,26,34,24,"cash_direction"],[28,40,34,38],[28,44,34,42],[28,48,34,46],[29,6,35,4,"note"],[29,10,35,8],[29,12,35,10,"data"],[29,16,35,14],[29,17,35,15,"note"],[29,21,35,19],[29,25,35,23],[29,29,35,27],[30,6,36,4,"isTradeOnly"],[30,17,36,15],[30,19,36,17],[30,20,36,18,"data"],[30,24,36,22],[30,25,36,23,"cash_amount"],[30,36,36,34],[31,6,37,4,"offeringCount"],[31,19,37,17],[31,21,37,19,"data"],[31,25,37,23],[31,26,37,24,"offering"],[31,34,37,32],[31,35,37,33,"length"],[31,41,37,39],[32,6,38,4,"requestingCount"],[32,21,38,19],[32,23,38,21,"data"],[32,27,38,25],[32,28,38,26,"requesting"],[32,38,38,36],[32,39,38,37,"length"],[33,4,39,2],[33,5,39,3],[34,2,40,0],[34,3,40,1],[35,2,42,0],[35,6,42,0,"_default"],[35,14,42,0],[35,17,42,15,"parseOfferPayload"],[35,34,42,32],[36,0,42,33],[36,3]],"functionMap":{"names":["<global>","parseOfferPayload"],"mappings":"AAA;0BCsB;CDiB"},"hasCjsExports":false},"type":"js/module"}]}