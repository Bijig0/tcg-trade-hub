{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":50},"end":{"line":2,"column":42,"index":92}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"@/context/AuthProvider","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":93},"end":{"line":3,"column":49,"index":142}}],"key":"hnDMt1RwOyVwgo481TGNr6ITBm4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _contextAuthProvider = require(_dependencyMap[3], \"@/context/AuthProvider\");\n  /**\n   * Hook that fetches all blocked users for the current user.\n   *\n   * Returns each blocked user's display_name and avatar_url\n   * along with the block record ID and timestamp.\n   */\n  var useBlockedUsers = function useBlockedUsers() {\n    _s();\n    var _useAuth = (0, _contextAuthProvider.useAuth)(),\n      user = _useAuth.user;\n    return (0, _tanstackReactQuery.useQuery)({\n      queryKey: ['blocked-users'],\n      queryFn: function () {\n        var _queryFn = (0, _asyncToGenerator.default)(function* () {\n          if (!user) throw new Error('Not authenticated');\n          var _yield$supabase$from$ = yield _libSupabase.supabase.from('blocks').select('id, blocked_id, created_at').eq('blocker_id', user.id).order('created_at', {\n              ascending: false\n            }),\n            blocks = _yield$supabase$from$.data,\n            error = _yield$supabase$from$.error;\n          if (error) throw error;\n          if (!blocks || blocks.length === 0) return [];\n\n          // Fetch blocked users' profiles\n          var blockedIds = blocks.map(function (b) {\n            return b.blocked_id;\n          });\n          var _yield$supabase$from$2 = yield _libSupabase.supabase.from('users').select('id, display_name, avatar_url').in('id', blockedIds),\n            users = _yield$supabase$from$2.data;\n          var usersMap = new Map((users != null ? users : []).map(function (u) {\n            return [u.id, u];\n          }));\n          return blocks.map(function (block) {\n            var _blockedUser$display_, _blockedUser$avatar_u;\n            var blockedUser = usersMap.get(block.blocked_id);\n            return {\n              id: block.id,\n              blocked_id: block.blocked_id,\n              display_name: (_blockedUser$display_ = blockedUser == null ? void 0 : blockedUser.display_name) != null ? _blockedUser$display_ : 'Unknown',\n              avatar_url: (_blockedUser$avatar_u = blockedUser == null ? void 0 : blockedUser.avatar_url) != null ? _blockedUser$avatar_u : null,\n              created_at: block.created_at\n            };\n          });\n        });\n        function queryFn() {\n          return _queryFn.apply(this, arguments);\n        }\n        return queryFn;\n      }(),\n      enabled: !!user\n    });\n  };\n  _s(useBlockedUsers, \"feBfegY2LWvVkHAo3/+H6/HJ9O4=\", false, function () {\n    return [_contextAuthProvider.useAuth, _tanstackReactQuery.useQuery];\n  });\n  var _default = useBlockedUsers;\n});","lineCount":80,"map":[[13,2,62,0,"Object"],[13,8,62,0],[13,9,62,0,"defineProperty"],[13,23,62,0],[13,24,62,0,"exports"],[13,31,62,0],[14,4,62,0,"enumerable"],[14,14,62,0],[15,4,62,0,"get"],[15,7,62,0],[15,18,62,0,"get"],[15,19,62,0],[16,6,62,0],[16,13,62,0,"_default"],[16,21,62,0],[17,4,62,0],[18,2,62,0],[19,2,62,31],[19,6,62,31,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,62,31],[19,45,62,31,"require"],[19,52,62,31],[19,53,62,31,"_dependencyMap"],[19,67,62,31],[20,2,62,31],[20,6,62,31,"_asyncToGenerator"],[20,23,62,31],[20,26,62,31,"_interopDefault"],[20,41,62,31],[20,42,62,31,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,62,31],[21,2,1,0],[21,6,1,0,"_tanstackReactQuery"],[21,25,1,0],[21,28,1,0,"require"],[21,35,1,0],[21,36,1,0,"_dependencyMap"],[21,50,1,0],[22,2,2,0],[22,6,2,0,"_libSupabase"],[22,18,2,0],[22,21,2,0,"require"],[22,28,2,0],[22,29,2,0,"_dependencyMap"],[22,43,2,0],[23,2,3,0],[23,6,3,0,"_contextAuthProvider"],[23,26,3,0],[23,29,3,0,"require"],[23,36,3,0],[23,37,3,0,"_dependencyMap"],[23,51,3,0],[24,2,13,0],[25,0,14,0],[26,0,15,0],[27,0,16,0],[28,0,17,0],[29,0,18,0],[30,2,19,0],[30,6,19,6,"useBlockedUsers"],[30,21,19,21],[30,24,19,24],[30,33,19,6,"useBlockedUsers"],[30,48,19,21,"useBlockedUsers"],[30,49,19,21],[30,51,19,30],[31,4,19,30,"_s"],[31,6,19,30],[32,4,20,2],[32,8,20,2,"_useAuth"],[32,16,20,2],[32,19,20,19],[32,23,20,19,"useAuth"],[32,43,20,26],[32,44,20,26,"useAuth"],[32,51,20,26],[32,53,20,27],[32,54,20,28],[33,6,20,10,"user"],[33,10,20,14],[33,13,20,14,"_useAuth"],[33,21,20,14],[33,22,20,10,"user"],[33,26,20,14],[34,4,22,2],[34,11,22,9],[34,15,22,9,"useQuery"],[34,34,22,17],[34,35,22,17,"useQuery"],[34,43,22,17],[34,45,22,40],[35,6,23,4,"queryKey"],[35,14,23,12],[35,16,23,14],[35,17,23,15],[35,32,23,30],[35,33,23,31],[36,6,24,4,"queryFn"],[36,13,24,11],[37,8,24,11],[37,12,24,11,"_queryFn"],[37,20,24,11],[37,27,24,11,"_asyncToGenerator"],[37,44,24,11],[37,45,24,11,"default"],[37,52,24,11],[37,54,24,13],[37,67,24,25],[38,10,25,6],[38,14,25,10],[38,15,25,11,"user"],[38,19,25,15],[38,21,25,17],[38,27,25,23],[38,31,25,27,"Error"],[38,36,25,32],[38,37,25,33],[38,56,25,52],[38,57,25,53],[39,10,27,6],[39,14,27,6,"_yield$supabase$from$"],[39,35,27,6],[39,44,27,44,"supabase"],[39,56,27,52],[39,57,27,52,"supabase"],[39,65,27,52],[39,66,28,9,"from"],[39,70,28,13],[39,71,28,14],[39,79,28,22],[39,80,28,23],[39,81,29,9,"select"],[39,87,29,15],[39,88,29,16],[39,116,29,44],[39,117,29,45],[39,118,30,9,"eq"],[39,120,30,11],[39,121,30,12],[39,133,30,24],[39,135,30,26,"user"],[39,139,30,30],[39,140,30,31,"id"],[39,142,30,33],[39,143,30,34],[39,144,31,9,"order"],[39,149,31,14],[39,150,31,15],[39,162,31,27],[39,164,31,29],[40,14,31,31,"ascending"],[40,23,31,40],[40,25,31,42],[41,12,31,48],[41,13,31,49],[41,14,31,50],[42,12,27,20,"blocks"],[42,18,27,26],[42,21,27,26,"_yield$supabase$from$"],[42,42,27,26],[42,43,27,14,"data"],[42,47,27,18],[43,12,27,28,"error"],[43,17,27,33],[43,20,27,33,"_yield$supabase$from$"],[43,41,27,33],[43,42,27,28,"error"],[43,47,27,33],[44,10,33,6],[44,14,33,10,"error"],[44,19,33,15],[44,21,33,17],[44,27,33,23,"error"],[44,32,33,28],[45,10,34,6],[45,14,34,10],[45,15,34,11,"blocks"],[45,21,34,17],[45,25,34,21,"blocks"],[45,31,34,27],[45,32,34,28,"length"],[45,38,34,34],[45,43,34,39],[45,44,34,40],[45,46,34,42],[45,53,34,49],[45,55,34,51],[47,10,36,6],[48,10,37,6],[48,14,37,12,"blockedIds"],[48,24,37,22],[48,27,37,25,"blocks"],[48,33,37,31],[48,34,37,32,"map"],[48,37,37,35],[48,38,37,36],[48,48,37,37,"b"],[48,49,37,38],[49,12,37,38],[49,19,37,43,"b"],[49,20,37,44],[49,21,37,45,"blocked_id"],[49,31,37,55],[50,10,37,55],[50,12,37,56],[51,10,38,6],[51,14,38,6,"_yield$supabase$from$2"],[51,36,38,6],[51,45,38,36,"supabase"],[51,57,38,44],[51,58,38,44,"supabase"],[51,66,38,44],[51,67,39,9,"from"],[51,71,39,13],[51,72,39,14],[51,79,39,21],[51,80,39,22],[51,81,40,9,"select"],[51,87,40,15],[51,88,40,16],[51,118,40,46],[51,119,40,47],[51,120,41,9,"in"],[51,122,41,11],[51,123,41,12],[51,127,41,16],[51,129,41,18,"blockedIds"],[51,139,41,28],[51,140,41,29],[52,12,38,20,"users"],[52,17,38,25],[52,20,38,25,"_yield$supabase$from$2"],[52,42,38,25],[52,43,38,14,"data"],[52,47,38,18],[53,10,43,6],[53,14,43,12,"usersMap"],[53,22,43,20],[53,25,43,23],[53,29,43,27,"Map"],[53,32,43,30],[53,33,44,8],[53,34,44,9,"users"],[53,39,44,14],[53,50,44,9,"users"],[53,55,44,14],[53,58,44,18],[53,60,44,20],[53,62,44,22,"map"],[53,65,44,25],[53,66,44,26],[53,76,44,27,"u"],[53,77,44,28],[54,12,44,28],[54,19,44,33],[54,20,44,34,"u"],[54,21,44,35],[54,22,44,36,"id"],[54,24,44,38],[54,26,44,40,"u"],[54,27,44,41],[54,28,44,42],[55,10,44,42],[55,12,45,6],[55,13,45,7],[56,10,47,6],[56,17,47,13,"blocks"],[56,23,47,19],[56,24,47,20,"map"],[56,27,47,23],[56,28,47,24],[56,38,47,25,"block"],[56,43,47,30],[56,45,47,35],[57,12,47,35],[57,16,47,35,"_blockedUser$display_"],[57,37,47,35],[57,39,47,35,"_blockedUser$avatar_u"],[57,60,47,35],[58,12,48,8],[58,16,48,14,"blockedUser"],[58,27,48,25],[58,30,48,28,"usersMap"],[58,38,48,36],[58,39,48,37,"get"],[58,42,48,40],[58,43,48,41,"block"],[58,48,48,46],[58,49,48,47,"blocked_id"],[58,59,48,57],[58,60,48,58],[59,12,49,8],[59,19,49,15],[60,14,50,10,"id"],[60,16,50,12],[60,18,50,14,"block"],[60,23,50,19],[60,24,50,20,"id"],[60,26,50,22],[61,14,51,10,"blocked_id"],[61,24,51,20],[61,26,51,22,"block"],[61,31,51,27],[61,32,51,28,"blocked_id"],[61,42,51,38],[62,14,52,10,"display_name"],[62,26,52,22],[62,29,52,22,"_blockedUser$display_"],[62,50,52,22],[62,53,52,24,"blockedUser"],[62,64,52,35],[62,84,52,24,"blockedUser"],[62,95,52,35],[62,96,52,37,"display_name"],[62,108,52,49],[62,120,52,49,"_blockedUser$display_"],[62,141,52,49],[62,144,52,53],[62,153,52,62],[63,14,53,10,"avatar_url"],[63,24,53,20],[63,27,53,20,"_blockedUser$avatar_u"],[63,48,53,20],[63,51,53,22,"blockedUser"],[63,62,53,33],[63,82,53,22,"blockedUser"],[63,93,53,33],[63,94,53,35,"avatar_url"],[63,104,53,45],[63,116,53,45,"_blockedUser$avatar_u"],[63,137,53,45],[63,140,53,49],[63,144,53,53],[64,14,54,10,"created_at"],[64,24,54,20],[64,26,54,22,"block"],[64,31,54,27],[64,32,54,28,"created_at"],[65,12,55,8],[65,13,55,9],[66,10,56,6],[66,11,56,7],[66,12,56,8],[67,8,57,4],[67,9,57,5],[68,8,57,5],[68,17,24,4,"queryFn"],[68,24,24,11,"queryFn"],[68,25,24,11],[69,10,24,11],[69,17,24,11,"_queryFn"],[69,25,24,11],[69,26,24,11,"apply"],[69,31,24,11],[69,38,24,11,"arguments"],[69,47,24,11],[70,8,24,11],[71,8,24,11],[71,15,24,4,"queryFn"],[71,22,24,11],[72,6,24,11],[72,9,57,5],[73,6,58,4,"enabled"],[73,13,58,11],[73,15,58,13],[73,16,58,14],[73,17,58,15,"user"],[74,4,59,2],[74,5,59,3],[74,6,59,4],[75,2,60,0],[75,3,60,1],[76,2,60,2,"_s"],[76,4,60,2],[76,5,19,6,"useBlockedUsers"],[76,20,19,21],[77,4,19,21],[77,12,20,19,"useAuth"],[77,32,20,26],[77,33,20,26,"useAuth"],[77,40,20,26],[77,42,22,9,"useQuery"],[77,61,22,17],[77,62,22,17,"useQuery"],[77,70,22,17],[78,2,22,17],[79,2,62,0],[79,6,62,0,"_default"],[79,14,62,0],[79,17,62,15,"useBlockedUsers"],[79,32,62,30],[80,0,62,31],[80,3]],"functionMap":{"names":["<global>","useBlockedUsers","useQuery$argument_0.queryFn","blocks.map$argument_0","map$argument_0"],"mappings":"AAA;wBCkB;aCK;oCCa,mBD;0BEO,gBF;wBCG;ODS;KDC;CDG"},"hasCjsExports":false},"type":"js/module"}]}