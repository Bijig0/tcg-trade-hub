{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":55,"index":90}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":91},"end":{"line":3,"column":42,"index":133}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":134},"end":{"line":4,"column":45,"index":179}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _queryKeys = require(_dependencyMap[3], \"../../queryKeys\");\n  /**\n   * Subscribes to Supabase Realtime postgres_changes on the meetups table\n   * for a specific meetup ID. When the meetup is updated, invalidates\n   * the detail and list queries to reflect the new state.\n   */\n  var useRealtimeMeetupUpdates = meetupId => {\n    _s();\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    (0, _react.useEffect)(() => {\n      if (!meetupId) return;\n      var channel = _libSupabase.supabase.channel(`meetup-updates-${meetupId}`).on('postgres_changes', {\n        event: 'UPDATE',\n        schema: 'public',\n        table: 'meetups',\n        filter: `id=eq.${meetupId}`\n      }, () => {\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.meetupKeys.detail(meetupId)\n        });\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.meetupKeys.all\n        });\n      }).subscribe();\n      return () => {\n        _libSupabase.supabase.removeChannel(channel);\n      };\n    }, [meetupId, queryClient]);\n  };\n  _s(useRealtimeMeetupUpdates, \"aixO0mo1bdM1nWLRolCdKzppx/I=\", false, function () {\n    return [_tanstackReactQuery.useQueryClient];\n  });\n  var _default = useRealtimeMeetupUpdates;\n});","lineCount":50,"map":[[8,2,40,0,"Object"],[8,8,40,0],[8,9,40,0,"defineProperty"],[8,23,40,0],[8,24,40,0,"exports"],[8,31,40,0],[9,4,40,0,"enumerable"],[9,14,40,0],[10,4,40,0,"get"],[10,7,40,0],[10,18,40,0,"get"],[10,19,40,0],[11,6,40,0],[11,13,40,0,"_default"],[11,21,40,0],[12,4,40,0],[13,2,40,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_tanstackReactQuery"],[15,25,2,0],[15,28,2,0,"require"],[15,35,2,0],[15,36,2,0,"_dependencyMap"],[15,50,2,0],[16,2,3,0],[16,6,3,0,"_libSupabase"],[16,18,3,0],[16,21,3,0,"require"],[16,28,3,0],[16,29,3,0,"_dependencyMap"],[16,43,3,0],[17,2,4,0],[17,6,4,0,"_queryKeys"],[17,16,4,0],[17,19,4,0,"require"],[17,26,4,0],[17,27,4,0,"_dependencyMap"],[17,41,4,0],[18,2,6,0],[19,0,7,0],[20,0,8,0],[21,0,9,0],[22,0,10,0],[23,2,11,0],[23,6,11,6,"useRealtimeMeetupUpdates"],[23,30,11,30],[23,33,11,34,"meetupId"],[23,41,11,50],[23,45,11,55],[24,4,11,55,"_s"],[24,6,11,55],[25,4,12,2],[25,8,12,8,"queryClient"],[25,19,12,19],[25,22,12,22],[25,26,12,22,"useQueryClient"],[25,45,12,36],[25,46,12,36,"useQueryClient"],[25,60,12,36],[25,62,12,37],[25,63,12,38],[26,4,14,2],[26,8,14,2,"useEffect"],[26,14,14,11],[26,15,14,11,"useEffect"],[26,24,14,11],[26,26,14,12],[26,32,14,18],[27,6,15,4],[27,10,15,8],[27,11,15,9,"meetupId"],[27,19,15,17],[27,21,15,19],[28,6,17,4],[28,10,17,10,"channel"],[28,17,17,17],[28,20,17,20,"supabase"],[28,32,17,28],[28,33,17,28,"supabase"],[28,41,17,28],[28,42,18,7,"channel"],[28,49,18,14],[28,50,18,15],[28,68,18,33,"meetupId"],[28,76,18,41],[28,78,18,43],[28,79,18,44],[28,80,19,7,"on"],[28,82,19,9],[28,83,20,8],[28,101,20,26],[28,103,21,8],[29,8,22,10,"event"],[29,13,22,15],[29,15,22,17],[29,23,22,25],[30,8,23,10,"schema"],[30,14,23,16],[30,16,23,18],[30,24,23,26],[31,8,24,10,"table"],[31,13,24,15],[31,15,24,17],[31,24,24,26],[32,8,25,10,"filter"],[32,14,25,16],[32,16,25,18],[32,25,25,27,"meetupId"],[32,33,25,35],[33,6,26,8],[33,7,26,9],[33,9,27,8],[33,15,27,14],[34,8,28,10,"queryClient"],[34,19,28,21],[34,20,28,22,"invalidateQueries"],[34,37,28,39],[34,38,28,40],[35,10,28,42,"queryKey"],[35,18,28,50],[35,20,28,52,"meetupKeys"],[35,30,28,62],[35,31,28,62,"meetupKeys"],[35,41,28,62],[35,42,28,63,"detail"],[35,48,28,69],[35,49,28,70,"meetupId"],[35,57,28,78],[36,8,28,80],[36,9,28,81],[36,10,28,82],[37,8,29,10,"queryClient"],[37,19,29,21],[37,20,29,22,"invalidateQueries"],[37,37,29,39],[37,38,29,40],[38,10,29,42,"queryKey"],[38,18,29,50],[38,20,29,52,"meetupKeys"],[38,30,29,62],[38,31,29,62,"meetupKeys"],[38,41,29,62],[38,42,29,63,"all"],[39,8,29,67],[39,9,29,68],[39,10,29,69],[40,6,30,8],[40,7,31,6],[40,8,31,7],[40,9,32,7,"subscribe"],[40,18,32,16],[40,19,32,17],[40,20,32,18],[41,6,34,4],[41,13,34,11],[41,19,34,17],[42,8,35,6,"supabase"],[42,20,35,14],[42,21,35,14,"supabase"],[42,29,35,14],[42,30,35,15,"removeChannel"],[42,43,35,28],[42,44,35,29,"channel"],[42,51,35,36],[42,52,35,37],[43,6,36,4],[43,7,36,5],[44,4,37,2],[44,5,37,3],[44,7,37,5],[44,8,37,6,"meetupId"],[44,16,37,14],[44,18,37,16,"queryClient"],[44,29,37,27],[44,30,37,28],[44,31,37,29],[45,2,38,0],[45,3,38,1],[46,2,38,2,"_s"],[46,4,38,2],[46,5,11,6,"useRealtimeMeetupUpdates"],[46,29,11,30],[47,4,11,30],[47,12,12,22,"useQueryClient"],[47,31,12,36],[47,32,12,36,"useQueryClient"],[47,46,12,36],[48,2,12,36],[49,2,40,0],[49,6,40,0,"_default"],[49,14,40,0],[49,17,40,15,"useRealtimeMeetupUpdates"],[49,41,40,39],[50,0,40,40],[50,3]],"functionMap":{"names":["<global>","useRealtimeMeetupUpdates","useEffect$argument_0","supabase.channel.on$argument_2","<anonymous>"],"mappings":"AAA;iCCU;YCG;QCa;SDG;WEI;KFE;GDC;CDC"},"hasCjsExports":false},"type":"js/module"}]}