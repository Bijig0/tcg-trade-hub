{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":34,"index":34}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":35},"end":{"line":2,"column":55,"index":90}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":91},"end":{"line":3,"column":42,"index":133}}],"key":"KSAjB91cgWz7DQuLWke0G0l9TgA=","exportNames":["*"],"imports":1}},{"name":"../../queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":134},"end":{"line":4,"column":46,"index":180}}],"key":"9dB6801Llb9DiWHOk43CNQJdoj8=","exportNames":["*"],"imports":1}},{"name":"@/features/meetups/queryKeys","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":181},"end":{"line":5,"column":58,"index":239}}],"key":"oZlMsR+t5agsD3isZnxsMU/n/NM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _libSupabase = require(_dependencyMap[2], \"@/lib/supabase\");\n  var _queryKeys = require(_dependencyMap[3], \"../../queryKeys\");\n  var _featuresMeetupsQueryKeys = require(_dependencyMap[4], \"@/features/meetups/queryKeys\");\n  /**\n   * Subscribes to Supabase Realtime for match and meetup changes.\n   * - UPDATE on matches: invalidates myListings and meetup queries.\n   * - INSERT/UPDATE on meetups for the given match: invalidates meetup queries.\n   */\n  var useRealtimeMatchUpdates = function useRealtimeMatchUpdates(matchId) {\n    _s();\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    (0, _react.useEffect)(function () {\n      if (!matchId) return;\n      var channel = _libSupabase.supabase.channel(`match:${matchId}`).on('postgres_changes', {\n        event: 'UPDATE',\n        schema: 'public',\n        table: 'matches',\n        filter: `id=eq.${matchId}`\n      }, function () {\n        queryClient.invalidateQueries({\n          queryKey: _queryKeys.listingKeys.myListings()\n        });\n        queryClient.invalidateQueries({\n          queryKey: _featuresMeetupsQueryKeys.meetupKeys.all\n        });\n      }).on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'meetups',\n        filter: `match_id=eq.${matchId}`\n      }, function () {\n        queryClient.invalidateQueries({\n          queryKey: _featuresMeetupsQueryKeys.meetupKeys.all\n        });\n      }).subscribe();\n      return function () {\n        _libSupabase.supabase.removeChannel(channel);\n      };\n    }, [matchId, queryClient]);\n  };\n  _s(useRealtimeMatchUpdates, \"aixO0mo1bdM1nWLRolCdKzppx/I=\", false, function () {\n    return [_tanstackReactQuery.useQueryClient];\n  });\n  var _default = useRealtimeMatchUpdates;\n});","lineCount":60,"map":[[8,2,60,0,"Object"],[8,8,60,0],[8,9,60,0,"defineProperty"],[8,23,60,0],[8,24,60,0,"exports"],[8,31,60,0],[9,4,60,0,"enumerable"],[9,14,60,0],[10,4,60,0,"get"],[10,7,60,0],[10,18,60,0,"get"],[10,19,60,0],[11,6,60,0],[11,13,60,0,"_default"],[11,21,60,0],[12,4,60,0],[13,2,60,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_tanstackReactQuery"],[15,25,2,0],[15,28,2,0,"require"],[15,35,2,0],[15,36,2,0,"_dependencyMap"],[15,50,2,0],[16,2,3,0],[16,6,3,0,"_libSupabase"],[16,18,3,0],[16,21,3,0,"require"],[16,28,3,0],[16,29,3,0,"_dependencyMap"],[16,43,3,0],[17,2,4,0],[17,6,4,0,"_queryKeys"],[17,16,4,0],[17,19,4,0,"require"],[17,26,4,0],[17,27,4,0,"_dependencyMap"],[17,41,4,0],[18,2,5,0],[18,6,5,0,"_featuresMeetupsQueryKeys"],[18,31,5,0],[18,34,5,0,"require"],[18,41,5,0],[18,42,5,0,"_dependencyMap"],[18,56,5,0],[19,2,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,2,13,0],[24,6,13,6,"useRealtimeMatchUpdates"],[24,29,13,29],[24,32,13,32],[24,41,13,6,"useRealtimeMatchUpdates"],[24,64,13,29,"useRealtimeMatchUpdates"],[24,65,13,33,"matchId"],[24,72,13,48],[24,74,13,53],[25,4,13,53,"_s"],[25,6,13,53],[26,4,14,2],[26,8,14,8,"queryClient"],[26,19,14,19],[26,22,14,22],[26,26,14,22,"useQueryClient"],[26,45,14,36],[26,46,14,36,"useQueryClient"],[26,60,14,36],[26,62,14,37],[26,63,14,38],[27,4,16,2],[27,8,16,2,"useEffect"],[27,14,16,11],[27,15,16,11,"useEffect"],[27,24,16,11],[27,26,16,12],[27,38,16,18],[28,6,17,4],[28,10,17,8],[28,11,17,9,"matchId"],[28,18,17,16],[28,20,17,18],[29,6,19,4],[29,10,19,10,"channel"],[29,17,19,17],[29,20,19,20,"supabase"],[29,32,19,28],[29,33,19,28,"supabase"],[29,41,19,28],[29,42,20,7,"channel"],[29,49,20,14],[29,50,20,15],[29,59,20,24,"matchId"],[29,66,20,31],[29,68,20,33],[29,69,20,34],[29,70,21,7,"on"],[29,72,21,9],[29,73,22,8],[29,91,22,26],[29,93,23,8],[30,8,24,10,"event"],[30,13,24,15],[30,15,24,17],[30,23,24,25],[31,8,25,10,"schema"],[31,14,25,16],[31,16,25,18],[31,24,25,26],[32,8,26,10,"table"],[32,13,26,15],[32,15,26,17],[32,24,26,26],[33,8,27,10,"filter"],[33,14,27,16],[33,16,27,18],[33,25,27,27,"matchId"],[33,32,27,34],[34,6,28,8],[34,7,28,9],[34,9,29,8],[34,21,29,14],[35,8,30,10,"queryClient"],[35,19,30,21],[35,20,30,22,"invalidateQueries"],[35,37,30,39],[35,38,30,40],[36,10,31,12,"queryKey"],[36,18,31,20],[36,20,31,22,"listingKeys"],[36,30,31,33],[36,31,31,33,"listingKeys"],[36,42,31,33],[36,43,31,34,"myListings"],[36,53,31,44],[36,54,31,45],[37,8,32,10],[37,9,32,11],[37,10,32,12],[38,8,33,10,"queryClient"],[38,19,33,21],[38,20,33,22,"invalidateQueries"],[38,37,33,39],[38,38,33,40],[39,10,34,12,"queryKey"],[39,18,34,20],[39,20,34,22,"meetupKeys"],[39,45,34,32],[39,46,34,32,"meetupKeys"],[39,56,34,32],[39,57,34,33,"all"],[40,8,35,10],[40,9,35,11],[40,10,35,12],[41,6,36,8],[41,7,37,6],[41,8,37,7],[41,9,38,7,"on"],[41,11,38,9],[41,12,39,8],[41,30,39,26],[41,32,40,8],[42,8,41,10,"event"],[42,13,41,15],[42,15,41,17],[42,18,41,20],[43,8,42,10,"schema"],[43,14,42,16],[43,16,42,18],[43,24,42,26],[44,8,43,10,"table"],[44,13,43,15],[44,15,43,17],[44,24,43,26],[45,8,44,10,"filter"],[45,14,44,16],[45,16,44,18],[45,31,44,33,"matchId"],[45,38,44,40],[46,6,45,8],[46,7,45,9],[46,9,46,8],[46,21,46,14],[47,8,47,10,"queryClient"],[47,19,47,21],[47,20,47,22,"invalidateQueries"],[47,37,47,39],[47,38,47,40],[48,10,48,12,"queryKey"],[48,18,48,20],[48,20,48,22,"meetupKeys"],[48,45,48,32],[48,46,48,32,"meetupKeys"],[48,56,48,32],[48,57,48,33,"all"],[49,8,49,10],[49,9,49,11],[49,10,49,12],[50,6,50,8],[50,7,51,6],[50,8,51,7],[50,9,52,7,"subscribe"],[50,18,52,16],[50,19,52,17],[50,20,52,18],[51,6,54,4],[51,13,54,11],[51,25,54,17],[52,8,55,6,"supabase"],[52,20,55,14],[52,21,55,14,"supabase"],[52,29,55,14],[52,30,55,15,"removeChannel"],[52,43,55,28],[52,44,55,29,"channel"],[52,51,55,36],[52,52,55,37],[53,6,56,4],[53,7,56,5],[54,4,57,2],[54,5,57,3],[54,7,57,5],[54,8,57,6,"matchId"],[54,15,57,13],[54,17,57,15,"queryClient"],[54,28,57,26],[54,29,57,27],[54,30,57,28],[55,2,58,0],[55,3,58,1],[56,2,58,2,"_s"],[56,4,58,2],[56,5,13,6,"useRealtimeMatchUpdates"],[56,28,13,29],[57,4,13,29],[57,12,14,22,"useQueryClient"],[57,31,14,36],[57,32,14,36,"useQueryClient"],[57,46,14,36],[58,2,14,36],[59,2,60,0],[59,6,60,0,"_default"],[59,14,60,0],[59,17,60,15,"useRealtimeMatchUpdates"],[59,40,60,38],[60,0,60,39],[60,3]],"functionMap":{"names":["<global>","useRealtimeMatchUpdates","useEffect$argument_0","supabase.channel.on$argument_2","supabase.channel.on.on$argument_2","<anonymous>"],"mappings":"AAA;gCCY;YCG;QCa;SDO;QEU;SFI;WGI;KHE;GDC;CDC"},"hasCjsExports":false},"type":"js/module"}]}