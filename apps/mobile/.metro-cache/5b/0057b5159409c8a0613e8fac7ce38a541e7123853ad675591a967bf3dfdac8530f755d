{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"zustand/middleware/immer","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":49,"index":83}}],"key":"kjJsHfK/ro/qTBaeDKf0ryPPySc=","exportNames":["*"],"imports":1}},{"name":"@/features/listings/utils/deriveListingType/deriveListingType","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":260},"end":{"line":5,"column":98,"index":358}}],"key":"cusvFdPqctRg0wagvuiS1Qhbvfc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useListingFormStore\", {\n    enumerable: true,\n    get: function () {\n      return useListingFormStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _zustandMiddlewareImmer = require(_dependencyMap[1], \"zustand/middleware/immer\");\n  var _featuresListingsUtilsDeriveListingTypeDeriveListingType = require(_dependencyMap[2], \"@/features/listings/utils/deriveListingType/deriveListingType\");\n  var INITIAL_STATE = {\n    step: 1,\n    type: null,\n    acceptsCash: false,\n    acceptsTrades: false,\n    typeOverride: null,\n    selectedCards: [],\n    tcgFilter: null,\n    cashAmount: '0',\n    description: '',\n    tradeWants: [],\n    locationCoords: null,\n    locationName: ''\n  };\n  var useListingFormStore = (0, _zustand.create)()((0, _zustandMiddlewareImmer.immer)((set, get) => ({\n    ...INITIAL_STATE,\n    // Computed: returns user override or auto-derived type\n    getEffectiveType: () => {\n      var state = get();\n      if (state.typeOverride) return state.typeOverride;\n      return (0, _featuresListingsUtilsDeriveListingTypeDeriveListingType.deriveListingType)({\n        hasCards: state.selectedCards.length > 0,\n        acceptsCash: state.acceptsCash,\n        acceptsTrades: state.acceptsTrades\n      });\n    },\n    // Shared actions\n    setStep: step => set(s => {\n      s.step = step;\n    }),\n    setType: type => set(s => {\n      s.type = type;\n    }),\n    reset: () => set(() => ({\n      ...INITIAL_STATE\n    })),\n    // Have/Want actions\n    setAcceptsCash: value => set(s => {\n      s.acceptsCash = value;\n    }),\n    setAcceptsTrades: value => set(s => {\n      s.acceptsTrades = value;\n    }),\n    setTypeOverride: type => set(s => {\n      s.typeOverride = type;\n    }),\n    // Bundle card actions\n    toggleSelectedCard: (card, condition, fromCollection, selectionId) => set(s => {\n      var idx = s.selectedCards.findIndex(sc => sc.selectionId === selectionId);\n      if (idx >= 0) {\n        s.selectedCards.splice(idx, 1);\n      } else {\n        s.selectedCards.push({\n          card,\n          condition,\n          fromCollection,\n          addToCollection: !fromCollection,\n          askingPrice: '',\n          selectionId\n        });\n      }\n    }),\n    removeSelectedCard: selectionId => set(s => {\n      var idx = s.selectedCards.findIndex(sc => sc.selectionId === selectionId);\n      if (idx >= 0) s.selectedCards.splice(idx, 1);\n    }),\n    updateSelectedCardPrice: (selectionId, price) => set(s => {\n      var card = s.selectedCards.find(sc => sc.selectionId === selectionId);\n      if (card) card.askingPrice = price;\n    }),\n    setAllPricesToMarket: () => set(s => {\n      for (var sc of s.selectedCards) {\n        if (sc.card.marketPrice != null) {\n          sc.askingPrice = sc.card.marketPrice.toFixed(2);\n        }\n      }\n    }),\n    setTcgFilter: tcg => set(s => {\n      s.tcgFilter = tcg;\n    }),\n    // Cash & description actions\n    setCashAmount: amount => set(s => {\n      s.cashAmount = amount;\n    }),\n    setDescription: desc => set(s => {\n      s.description = desc;\n    }),\n    // Trade wants actions\n    addTradeWant: want => set(s => {\n      s.tradeWants.push(want);\n    }),\n    removeTradeWant: index => set(s => {\n      s.tradeWants.splice(index, 1);\n    }),\n    // Location actions\n    setLocation: (coords, name) => set(s => {\n      s.locationCoords = coords;\n      s.locationName = name;\n    })\n  })));\n});","lineCount":116,"map":[[7,2,77,0,"Object"],[7,8,77,0],[7,9,77,0,"defineProperty"],[7,23,77,0],[7,24,77,0,"exports"],[7,31,77,0],[8,4,77,0,"enumerable"],[8,14,77,0],[9,4,77,0,"get"],[9,7,77,0],[9,18,77,0,"get"],[9,19,77,0],[10,6,77,0],[10,13,77,0,"useListingFormStore"],[10,32,77,0],[11,4,77,0],[12,2,77,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,2,0],[14,6,2,0,"_zustandMiddlewareImmer"],[14,29,2,0],[14,32,2,0,"require"],[14,39,2,0],[14,40,2,0,"_dependencyMap"],[14,54,2,0],[15,2,5,0],[15,6,5,0,"_featuresListingsUtilsDeriveListingTypeDeriveListingType"],[15,62,5,0],[15,65,5,0,"require"],[15,72,5,0],[15,73,5,0,"_dependencyMap"],[15,87,5,0],[16,2,62,0],[16,6,62,6,"INITIAL_STATE"],[16,19,62,19],[16,22,62,22],[17,4,63,2,"step"],[17,8,63,6],[17,10,63,8],[17,11,63,9],[18,4,64,2,"type"],[18,8,64,6],[18,10,64,8],[18,14,64,34],[19,4,65,2,"acceptsCash"],[19,15,65,13],[19,17,65,15],[19,22,65,20],[20,4,66,2,"acceptsTrades"],[20,17,66,15],[20,19,66,17],[20,24,66,22],[21,4,67,2,"typeOverride"],[21,16,67,14],[21,18,67,16],[21,22,67,42],[22,4,68,2,"selectedCards"],[22,17,68,15],[22,19,68,17],[22,21,68,37],[23,4,69,2,"tcgFilter"],[23,13,69,11],[23,15,69,13],[23,19,69,35],[24,4,70,2,"cashAmount"],[24,14,70,12],[24,16,70,14],[24,19,70,17],[25,4,71,2,"description"],[25,15,71,13],[25,17,71,15],[25,19,71,17],[26,4,72,2,"tradeWants"],[26,14,72,12],[26,16,72,14],[26,18,72,31],[27,4,73,2,"locationCoords"],[27,18,73,16],[27,20,73,18],[27,24,73,72],[28,4,74,2,"locationName"],[28,16,74,14],[28,18,74,16],[29,2,75,0],[29,3,75,1],[30,2,77,7],[30,6,77,13,"useListingFormStore"],[30,25,77,32],[30,28,77,35],[30,32,77,35,"create"],[30,40,77,41],[30,41,77,41,"create"],[30,47,77,41],[30,49,77,60],[30,50,77,61],[30,51,78,2],[30,55,78,2,"immer"],[30,78,78,7],[30,79,78,7,"immer"],[30,84,78,7],[30,86,78,8],[30,87,78,9,"set"],[30,90,78,12],[30,92,78,14,"get"],[30,95,78,17],[30,101,78,23],[31,4,79,4],[31,7,79,7,"INITIAL_STATE"],[31,20,79,20],[32,4,81,4],[33,4,82,4,"getEffectiveType"],[33,20,82,20],[33,22,82,22,"getEffectiveType"],[33,23,82,22],[33,28,82,28],[34,6,83,6],[34,10,83,12,"state"],[34,15,83,17],[34,18,83,20,"get"],[34,21,83,23],[34,22,83,24],[34,23,83,25],[35,6,84,6],[35,10,84,10,"state"],[35,15,84,15],[35,16,84,16,"typeOverride"],[35,28,84,28],[35,30,84,30],[35,37,84,37,"state"],[35,42,84,42],[35,43,84,43,"typeOverride"],[35,55,84,55],[36,6,85,6],[36,13,85,13],[36,17,85,13,"deriveListingType"],[36,73,85,30],[36,74,85,30,"deriveListingType"],[36,91,85,30],[36,93,85,31],[37,8,86,8,"hasCards"],[37,16,86,16],[37,18,86,18,"state"],[37,23,86,23],[37,24,86,24,"selectedCards"],[37,37,86,37],[37,38,86,38,"length"],[37,44,86,44],[37,47,86,47],[37,48,86,48],[38,8,87,8,"acceptsCash"],[38,19,87,19],[38,21,87,21,"state"],[38,26,87,26],[38,27,87,27,"acceptsCash"],[38,38,87,38],[39,8,88,8,"acceptsTrades"],[39,21,88,21],[39,23,88,23,"state"],[39,28,88,28],[39,29,88,29,"acceptsTrades"],[40,6,89,6],[40,7,89,7],[40,8,89,8],[41,4,90,4],[41,5,90,5],[42,4,92,4],[43,4,93,4,"setStep"],[43,11,93,11],[43,13,93,14,"step"],[43,17,93,18],[43,21,93,23,"set"],[43,24,93,26],[43,25,93,28,"s"],[43,26,93,29],[43,30,93,34],[44,6,93,36,"s"],[44,7,93,37],[44,8,93,38,"step"],[44,12,93,42],[44,15,93,45,"step"],[44,19,93,49],[45,4,93,51],[45,5,93,52],[45,6,93,53],[46,4,94,4,"setType"],[46,11,94,11],[46,13,94,14,"type"],[46,17,94,18],[46,21,94,23,"set"],[46,24,94,26],[46,25,94,28,"s"],[46,26,94,29],[46,30,94,34],[47,6,94,36,"s"],[47,7,94,37],[47,8,94,38,"type"],[47,12,94,42],[47,15,94,45,"type"],[47,19,94,49],[48,4,94,51],[48,5,94,52],[48,6,94,53],[49,4,95,4,"reset"],[49,9,95,9],[49,11,95,11,"reset"],[49,12,95,11],[49,17,95,17,"set"],[49,20,95,20],[49,21,95,21],[49,28,95,28],[50,6,95,30],[50,9,95,33,"INITIAL_STATE"],[51,4,95,47],[51,5,95,48],[51,6,95,49],[51,7,95,50],[52,4,97,4],[53,4,98,4,"setAcceptsCash"],[53,18,98,18],[53,20,98,21,"value"],[53,25,98,26],[53,29,98,31,"set"],[53,32,98,34],[53,33,98,36,"s"],[53,34,98,37],[53,38,98,42],[54,6,98,44,"s"],[54,7,98,45],[54,8,98,46,"acceptsCash"],[54,19,98,57],[54,22,98,60,"value"],[54,27,98,65],[55,4,98,67],[55,5,98,68],[55,6,98,69],[56,4,99,4,"setAcceptsTrades"],[56,20,99,20],[56,22,99,23,"value"],[56,27,99,28],[56,31,99,33,"set"],[56,34,99,36],[56,35,99,38,"s"],[56,36,99,39],[56,40,99,44],[57,6,99,46,"s"],[57,7,99,47],[57,8,99,48,"acceptsTrades"],[57,21,99,61],[57,24,99,64,"value"],[57,29,99,69],[58,4,99,71],[58,5,99,72],[58,6,99,73],[59,4,100,4,"setTypeOverride"],[59,19,100,19],[59,21,100,22,"type"],[59,25,100,26],[59,29,100,31,"set"],[59,32,100,34],[59,33,100,36,"s"],[59,34,100,37],[59,38,100,42],[60,6,100,44,"s"],[60,7,100,45],[60,8,100,46,"typeOverride"],[60,20,100,58],[60,23,100,61,"type"],[60,27,100,65],[61,4,100,67],[61,5,100,68],[61,6,100,69],[62,4,102,4],[63,4,103,4,"toggleSelectedCard"],[63,22,103,22],[63,24,103,24,"toggleSelectedCard"],[63,25,103,25,"card"],[63,29,103,29],[63,31,103,31,"condition"],[63,40,103,40],[63,42,103,42,"fromCollection"],[63,56,103,56],[63,58,103,58,"selectionId"],[63,69,103,69],[63,74,104,6,"set"],[63,77,104,9],[63,78,104,11,"s"],[63,79,104,12],[63,83,104,17],[64,6,105,8],[64,10,105,14,"idx"],[64,13,105,17],[64,16,105,20,"s"],[64,17,105,21],[64,18,105,22,"selectedCards"],[64,31,105,35],[64,32,105,36,"findIndex"],[64,41,105,45],[64,42,105,47,"sc"],[64,44,105,49],[64,48,105,54,"sc"],[64,50,105,56],[64,51,105,57,"selectionId"],[64,62,105,68],[64,67,105,73,"selectionId"],[64,78,105,84],[64,79,105,85],[65,6,106,8],[65,10,106,12,"idx"],[65,13,106,15],[65,17,106,19],[65,18,106,20],[65,20,106,22],[66,8,107,10,"s"],[66,9,107,11],[66,10,107,12,"selectedCards"],[66,23,107,25],[66,24,107,26,"splice"],[66,30,107,32],[66,31,107,33,"idx"],[66,34,107,36],[66,36,107,38],[66,37,107,39],[66,38,107,40],[67,6,108,8],[67,7,108,9],[67,13,108,15],[68,8,109,10,"s"],[68,9,109,11],[68,10,109,12,"selectedCards"],[68,23,109,25],[68,24,109,26,"push"],[68,28,109,30],[68,29,109,31],[69,10,110,12,"card"],[69,14,110,16],[70,10,111,12,"condition"],[70,19,111,21],[71,10,112,12,"fromCollection"],[71,24,112,26],[72,10,113,12,"addToCollection"],[72,25,113,27],[72,27,113,29],[72,28,113,30,"fromCollection"],[72,42,113,44],[73,10,114,12,"askingPrice"],[73,21,114,23],[73,23,114,25],[73,25,114,27],[74,10,115,12,"selectionId"],[75,8,116,10],[75,9,116,11],[75,10,116,12],[76,6,117,8],[77,4,118,6],[77,5,118,7],[77,6,118,8],[78,4,120,4,"removeSelectedCard"],[78,22,120,22],[78,24,120,25,"selectionId"],[78,35,120,36],[78,39,121,6,"set"],[78,42,121,9],[78,43,121,11,"s"],[78,44,121,12],[78,48,121,17],[79,6,122,8],[79,10,122,14,"idx"],[79,13,122,17],[79,16,122,20,"s"],[79,17,122,21],[79,18,122,22,"selectedCards"],[79,31,122,35],[79,32,122,36,"findIndex"],[79,41,122,45],[79,42,122,47,"sc"],[79,44,122,49],[79,48,122,54,"sc"],[79,50,122,56],[79,51,122,57,"selectionId"],[79,62,122,68],[79,67,122,73,"selectionId"],[79,78,122,84],[79,79,122,85],[80,6,123,8],[80,10,123,12,"idx"],[80,13,123,15],[80,17,123,19],[80,18,123,20],[80,20,123,22,"s"],[80,21,123,23],[80,22,123,24,"selectedCards"],[80,35,123,37],[80,36,123,38,"splice"],[80,42,123,44],[80,43,123,45,"idx"],[80,46,123,48],[80,48,123,50],[80,49,123,51],[80,50,123,52],[81,4,124,6],[81,5,124,7],[81,6,124,8],[82,4,126,4,"updateSelectedCardPrice"],[82,27,126,27],[82,29,126,29,"updateSelectedCardPrice"],[82,30,126,30,"selectionId"],[82,41,126,41],[82,43,126,43,"price"],[82,48,126,48],[82,53,127,6,"set"],[82,56,127,9],[82,57,127,11,"s"],[82,58,127,12],[82,62,127,17],[83,6,128,8],[83,10,128,14,"card"],[83,14,128,18],[83,17,128,21,"s"],[83,18,128,22],[83,19,128,23,"selectedCards"],[83,32,128,36],[83,33,128,37,"find"],[83,37,128,41],[83,38,128,43,"sc"],[83,40,128,45],[83,44,128,50,"sc"],[83,46,128,52],[83,47,128,53,"selectionId"],[83,58,128,64],[83,63,128,69,"selectionId"],[83,74,128,80],[83,75,128,81],[84,6,129,8],[84,10,129,12,"card"],[84,14,129,16],[84,16,129,18,"card"],[84,20,129,22],[84,21,129,23,"askingPrice"],[84,32,129,34],[84,35,129,37,"price"],[84,40,129,42],[85,4,130,6],[85,5,130,7],[85,6,130,8],[86,4,132,4,"setAllPricesToMarket"],[86,24,132,24],[86,26,132,26,"setAllPricesToMarket"],[86,27,132,26],[86,32,133,6,"set"],[86,35,133,9],[86,36,133,11,"s"],[86,37,133,12],[86,41,133,17],[87,6,134,8],[87,11,134,13],[87,15,134,19,"sc"],[87,17,134,21],[87,21,134,25,"s"],[87,22,134,26],[87,23,134,27,"selectedCards"],[87,36,134,40],[87,38,134,42],[88,8,135,10],[88,12,135,14,"sc"],[88,14,135,16],[88,15,135,17,"card"],[88,19,135,21],[88,20,135,22,"marketPrice"],[88,31,135,33],[88,35,135,37],[88,39,135,41],[88,41,135,43],[89,10,136,12,"sc"],[89,12,136,14],[89,13,136,15,"askingPrice"],[89,24,136,26],[89,27,136,29,"sc"],[89,29,136,31],[89,30,136,32,"card"],[89,34,136,36],[89,35,136,37,"marketPrice"],[89,46,136,48],[89,47,136,49,"toFixed"],[89,54,136,56],[89,55,136,57],[89,56,136,58],[89,57,136,59],[90,8,137,10],[91,6,138,8],[92,4,139,6],[92,5,139,7],[92,6,139,8],[93,4,141,4,"setTcgFilter"],[93,16,141,16],[93,18,141,19,"tcg"],[93,21,141,22],[93,25,141,27,"set"],[93,28,141,30],[93,29,141,32,"s"],[93,30,141,33],[93,34,141,38],[94,6,141,40,"s"],[94,7,141,41],[94,8,141,42,"tcgFilter"],[94,17,141,51],[94,20,141,54,"tcg"],[94,23,141,57],[95,4,141,59],[95,5,141,60],[95,6,141,61],[96,4,143,4],[97,4,144,4,"setCashAmount"],[97,17,144,17],[97,19,144,20,"amount"],[97,25,144,26],[97,29,144,31,"set"],[97,32,144,34],[97,33,144,36,"s"],[97,34,144,37],[97,38,144,42],[98,6,144,44,"s"],[98,7,144,45],[98,8,144,46,"cashAmount"],[98,18,144,56],[98,21,144,59,"amount"],[98,27,144,65],[99,4,144,67],[99,5,144,68],[99,6,144,69],[100,4,145,4,"setDescription"],[100,18,145,18],[100,20,145,21,"desc"],[100,24,145,25],[100,28,145,30,"set"],[100,31,145,33],[100,32,145,35,"s"],[100,33,145,36],[100,37,145,41],[101,6,145,43,"s"],[101,7,145,44],[101,8,145,45,"description"],[101,19,145,56],[101,22,145,59,"desc"],[101,26,145,63],[102,4,145,65],[102,5,145,66],[102,6,145,67],[103,4,147,4],[104,4,148,4,"addTradeWant"],[104,16,148,16],[104,18,148,19,"want"],[104,22,148,23],[104,26,149,6,"set"],[104,29,149,9],[104,30,149,11,"s"],[104,31,149,12],[104,35,149,17],[105,6,150,8,"s"],[105,7,150,9],[105,8,150,10,"tradeWants"],[105,18,150,20],[105,19,150,21,"push"],[105,23,150,25],[105,24,150,26,"want"],[105,28,150,30],[105,29,150,31],[106,4,151,6],[106,5,151,7],[106,6,151,8],[107,4,152,4,"removeTradeWant"],[107,19,152,19],[107,21,152,22,"index"],[107,26,152,27],[107,30,153,6,"set"],[107,33,153,9],[107,34,153,11,"s"],[107,35,153,12],[107,39,153,17],[108,6,154,8,"s"],[108,7,154,9],[108,8,154,10,"tradeWants"],[108,18,154,20],[108,19,154,21,"splice"],[108,25,154,27],[108,26,154,28,"index"],[108,31,154,33],[108,33,154,35],[108,34,154,36],[108,35,154,37],[109,4,155,6],[109,5,155,7],[109,6,155,8],[110,4,157,4],[111,4,158,4,"setLocation"],[111,15,158,15],[111,17,158,17,"setLocation"],[111,18,158,18,"coords"],[111,24,158,24],[111,26,158,26,"name"],[111,30,158,30],[111,35,159,6,"set"],[111,38,159,9],[111,39,159,11,"s"],[111,40,159,12],[111,44,159,17],[112,6,160,8,"s"],[112,7,160,9],[112,8,160,10,"locationCoords"],[112,22,160,24],[112,25,160,27,"coords"],[112,31,160,33],[113,6,161,8,"s"],[113,7,161,9],[113,8,161,10,"locationName"],[113,20,161,22],[113,23,161,25,"name"],[113,27,161,29],[114,4,162,6],[114,5,162,7],[115,2,163,2],[115,3,163,3],[115,4,163,4],[115,5,164,0],[115,6,164,1],[116,0,164,2],[116,3]],"functionMap":{"names":["<global>","immer$argument_0","getEffectiveType","setStep","set$argument_0","setType","reset","setAcceptsCash","setAcceptsTrades","setTypeOverride","toggleSelectedCard","s.selectedCards.findIndex$argument_0","removeSelectedCard","updateSelectedCardPrice","s.selectedCards.find$argument_0","setAllPricesToMarket","setTcgFilter","setCashAmount","setDescription","addTradeWant","removeTradeWant","setLocation"],"mappings":"AAA;QC6E;sBCI;KDQ;aEG,cC,yBD,CF;aIC,cD,yBC,CJ;WKC,UF,4BE,CL;oBMG,eH,iCG,CN;sBOC,eJ,mCI,CP;qBQC,cL,iCK,CR;wBSG;UNC;8COC,sCP;OMa,CT;wBWE;URC;8COC,sCP;OQE,CX;6BYE;UTC;0CUC,sCV;OSE,CZ;0BcE;UXC;OWM,Cd;kBeE,aZ,6BY,Cf;mBgBG,gBb,iCa,ChB;oBiBC,cd,gCc,CjB;kBkBG;UfC;OeE,ClB;qBmBC;UhBC;OgBE,CnB;iBoBG;UjBC;OiBG,CpB;IDC"},"hasCjsExports":false},"type":"js/module"}]}