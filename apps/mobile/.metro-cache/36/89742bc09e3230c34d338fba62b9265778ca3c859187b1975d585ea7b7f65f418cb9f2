{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":55,"index":99}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"@/features/feed","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":100},"end":{"line":3,"column":63,"index":163}}],"key":"wRY+r5QveRYeql0BMcgm8SbEGjg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _featuresFeed = require(_dependencyMap[2], \"@/features/feed\");\n  var MAX_PREFETCH = 5;\n\n  /**\n   * Prefetches listing detail data for the top active listings so that\n   * navigating to MyListingDetailScreen feels instant.\n   *\n   * Filters for `status === 'active'`, takes the first 5, and calls\n   * `queryClient.prefetchQuery` for each using the feed detail query key.\n   */\n  var usePrefetchActiveListingDetails = function usePrefetchActiveListingDetails(listings) {\n    _s();\n    var queryClient = (0, _tanstackReactQuery.useQueryClient)();\n    var activeIds = (0, _react.useMemo)(function () {\n      if (!listings) return [];\n      return listings.filter(function (l) {\n        return l.status === 'active';\n      }).slice(0, MAX_PREFETCH).map(function (l) {\n        return l.id;\n      });\n    }, [listings]);\n    var cacheKey = activeIds.join(',');\n    (0, _react.useEffect)(function () {\n      if (activeIds.length === 0) return;\n      var _loop = function _loop(id) {\n        queryClient.prefetchQuery({\n          queryKey: _featuresFeed.feedKeys.detail(id),\n          queryFn: function queryFn() {\n            return (0, _featuresFeed.fetchListingDetail)(id);\n          }\n        });\n      };\n      for (var id of activeIds) {\n        _loop(id);\n      }\n    }, [cacheKey, queryClient]); // eslint-disable-line react-hooks/exhaustive-deps\n  };\n  _s(usePrefetchActiveListingDetails, \"sr4mNWOpc6EXy4s2K/nr3xuhjOM=\", false, function () {\n    return [_tanstackReactQuery.useQueryClient];\n  });\n  var _default = usePrefetchActiveListingDetails;\n});","lineCount":57,"map":[[8,2,40,0,"Object"],[8,8,40,0],[8,9,40,0,"defineProperty"],[8,23,40,0],[8,24,40,0,"exports"],[8,31,40,0],[9,4,40,0,"enumerable"],[9,14,40,0],[10,4,40,0,"get"],[10,7,40,0],[10,18,40,0,"get"],[10,19,40,0],[11,6,40,0],[11,13,40,0,"_default"],[11,21,40,0],[12,4,40,0],[13,2,40,0],[14,2,1,0],[14,6,1,0,"_react"],[14,12,1,0],[14,15,1,0,"require"],[14,22,1,0],[14,23,1,0,"_dependencyMap"],[14,37,1,0],[15,2,2,0],[15,6,2,0,"_tanstackReactQuery"],[15,25,2,0],[15,28,2,0,"require"],[15,35,2,0],[15,36,2,0,"_dependencyMap"],[15,50,2,0],[16,2,3,0],[16,6,3,0,"_featuresFeed"],[16,19,3,0],[16,22,3,0,"require"],[16,29,3,0],[16,30,3,0,"_dependencyMap"],[16,44,3,0],[17,2,6,0],[17,6,6,6,"MAX_PREFETCH"],[17,18,6,18],[17,21,6,21],[17,22,6,22],[19,2,8,0],[20,0,9,0],[21,0,10,0],[22,0,11,0],[23,0,12,0],[24,0,13,0],[25,0,14,0],[26,2,15,0],[26,6,15,6,"usePrefetchActiveListingDetails"],[26,37,15,37],[26,40,15,40],[26,49,15,6,"usePrefetchActiveListingDetails"],[26,80,15,37,"usePrefetchActiveListingDetails"],[26,81,15,41,"listings"],[26,89,15,84],[26,91,15,89],[27,4,15,89,"_s"],[27,6,15,89],[28,4,16,2],[28,8,16,8,"queryClient"],[28,19,16,19],[28,22,16,22],[28,26,16,22,"useQueryClient"],[28,45,16,36],[28,46,16,36,"useQueryClient"],[28,60,16,36],[28,62,16,37],[28,63,16,38],[29,4,18,2],[29,8,18,8,"activeIds"],[29,17,18,17],[29,20,18,20],[29,24,18,20,"useMemo"],[29,30,18,27],[29,31,18,27,"useMemo"],[29,38,18,27],[29,40,18,28],[29,52,18,34],[30,6,19,4],[30,10,19,8],[30,11,19,9,"listings"],[30,19,19,17],[30,21,19,19],[30,28,19,26],[30,30,19,28],[31,6,20,4],[31,13,20,11,"listings"],[31,21,20,19],[31,22,21,7,"filter"],[31,28,21,13],[31,29,21,14],[31,39,21,15,"l"],[31,40,21,16],[32,8,21,16],[32,15,21,21,"l"],[32,16,21,22],[32,17,21,23,"status"],[32,23,21,29],[32,28,21,34],[32,36,21,42],[33,6,21,42],[33,8,21,43],[33,9,22,7,"slice"],[33,14,22,12],[33,15,22,13],[33,16,22,14],[33,18,22,16,"MAX_PREFETCH"],[33,30,22,28],[33,31,22,29],[33,32,23,7,"map"],[33,35,23,10],[33,36,23,11],[33,46,23,12,"l"],[33,47,23,13],[34,8,23,13],[34,15,23,18,"l"],[34,16,23,19],[34,17,23,20,"id"],[34,19,23,22],[35,6,23,22],[35,8,23,23],[36,4,24,2],[36,5,24,3],[36,7,24,5],[36,8,24,6,"listings"],[36,16,24,14],[36,17,24,15],[36,18,24,16],[37,4,26,2],[37,8,26,8,"cacheKey"],[37,16,26,16],[37,19,26,19,"activeIds"],[37,28,26,28],[37,29,26,29,"join"],[37,33,26,33],[37,34,26,34],[37,37,26,37],[37,38,26,38],[38,4,28,2],[38,8,28,2,"useEffect"],[38,14,28,11],[38,15,28,11,"useEffect"],[38,24,28,11],[38,26,28,12],[38,38,28,18],[39,6,29,4],[39,10,29,8,"activeIds"],[39,19,29,17],[39,20,29,18,"length"],[39,26,29,24],[39,31,29,29],[39,32,29,30],[39,34,29,32],[40,6,29,39],[40,10,29,39,"_loop"],[40,15,29,39],[40,27,29,39,"_loop"],[40,33,29,39,"id"],[40,35,29,39],[40,37,31,32],[41,8,32,6,"queryClient"],[41,19,32,17],[41,20,32,18,"prefetchQuery"],[41,33,32,31],[41,34,32,32],[42,10,33,8,"queryKey"],[42,18,33,16],[42,20,33,18,"feedKeys"],[42,33,33,26],[42,34,33,26,"feedKeys"],[42,42,33,26],[42,43,33,27,"detail"],[42,49,33,33],[42,50,33,34,"id"],[42,52,33,36],[42,53,33,37],[43,10,34,8,"queryFn"],[43,17,34,15],[43,19,34,17],[43,28,34,8,"queryFn"],[43,35,34,15,"queryFn"],[43,36,34,15],[44,12,34,15],[44,19,34,23],[44,23,34,23,"fetchListingDetail"],[44,36,34,41],[44,37,34,41,"fetchListingDetail"],[44,55,34,41],[44,57,34,42,"id"],[44,59,34,44],[44,60,34,45],[45,10,34,45],[46,8,35,6],[46,9,35,7],[46,10,35,8],[47,6,36,4],[47,7,36,5],[48,6,31,4],[48,11,31,9],[48,15,31,15,"id"],[48,17,31,17],[48,21,31,21,"activeIds"],[48,30,31,30],[49,8,31,30,"_loop"],[49,13,31,30],[49,14,31,30,"id"],[49,16,31,30],[50,6,31,30],[51,4,37,2],[51,5,37,3],[51,7,37,5],[51,8,37,6,"cacheKey"],[51,16,37,14],[51,18,37,16,"queryClient"],[51,29,37,27],[51,30,37,28],[51,31,37,29],[51,32,37,30],[51,33,37,31],[52,2,38,0],[52,3,38,1],[53,2,38,2,"_s"],[53,4,38,2],[53,5,15,6,"usePrefetchActiveListingDetails"],[53,36,15,37],[54,4,15,37],[54,12,16,22,"useQueryClient"],[54,31,16,36],[54,32,16,36,"useQueryClient"],[54,46,16,36],[55,2,16,36],[56,2,40,0],[56,6,40,0,"_default"],[56,14,40,0],[56,17,40,15,"usePrefetchActiveListingDetails"],[56,48,40,46],[57,0,40,47],[57,3]],"functionMap":{"names":["<global>","usePrefetchActiveListingDetails","useMemo$argument_0","listings.filter$argument_0","listings.filter.slice.map$argument_0","useEffect$argument_0","queryClient.prefetchQuery$argument_0.queryFn"],"mappings":"AAA;wCCc;4BCG;cCG,4BD;WEE,WF;GDC;YII;iBCM,4BD;GJG;CDC"},"hasCjsExports":false},"type":"js/module"}]}